//===========================================================\\
//          ____   __   _  _  __    ____   __   ____         //
//         / ___) /  \ / )( \(  )  (  __) / _\ (_  _)        \\
//         \___ \(  O )) \/ (/ (_/\ ) _) /    \  )(          //
//         (____/ \__/ \____/\____/(____)\_/\_/ (__)         \\
//                                                           //
//================== www.souleat.com.br =====================\\
//======================= by: Guru ==========================//

//============================================================================
// Kiel Hyre Quest/Robotic Lab Dungeon
//
// Script Dialog Obtained and Copied Down by L0ne_W0lf
// Timer work and some variable dances by DZeroX
// Based on [iRO Sakray] as of [03/29/2007]
//============================================================================
//----------------------------------------------------------------------------
// [Notes]
//  - Let it be noted that ALL DIALOG IS OFFICIAL TO IRO UNLESS SPECIFIED.
//  - I've fixed a few of iRO's mistakes, but I'm sure I made some of my own. 
//  - Will probably require a major optimizing.
//  - Not going to list ALL of the more usless NPCs. (Doors + Empty "Lindas damas")
//  - Parties are *NOT REQUIRED* as per Doddler's Wiki information.
//
//----------------------------------------------------------------------------
// [Maps]                [Use]
//  yuno_in01 ........... Start quest in pub
//  kh_school ........... Deliver Wine here, Meet Elly
//  yuno ................ Get Delivery for/from "Criança"
//  lighthalzen ......... Get Delivery package for "Criança"
//  kh_vila ............. Kiel Hyre cottage.
//  kh_dun01 ............ Robot Factory; Save Kiel Hyre
//  kh_mansion .......... Kiel Hyre's Mansion in Lighthalzen
//  kh_kiehl01 .......... Kiehl's room/Cave
//  kh_kiehl02 .......... Kiehl's room/Boss Room
//
//----------------------------------------------------------------------------
// [Variables in Use]
//  KielHyreQuest 	- Main quest tracking variable (Quest finished at 106)
//
//  KHToastGirlEnd	- Pick up delivery if set to 1, 
//			- picked up delivery if set to 2
//			- finished if set to 3 
//			- Deleted once no longer needed.
//
//  KHCottagePoem1	- Tracks Poem 1 quest in cottage. (finished = 5)
//			- Deleted once no longer needed.
//
//  KHCottagePoem2	- Tracks Poem 2 quest in cottage. (finished = 3)
//			- Deleted once no longer needed.
//
//  .@KHInput$		- Used with "Segurança"
//  			- Used with "Tubo de ensaio"
//  			- Used when "Elly" (inputing string in attempt to wake her)
//  			- Used with "Cova", (twice)
//  			- Used with "Porta Pesada"
//  			- Used with "Dispositivo mecânico"
//  			- Used for opening various doors in Kiehl's area.
//
//  .@KHFirstKeyhole	- Holds 1 (green keycard) or 2 (cottage key)
//  .@KHSecondKeyhole	- Holds 1 (green keycard) or 2 (cottage key)
//
//  .@KHPotionColor$	- Holds 'red', 'green', or 'yellow' depending on what wrong potion is selected.
//
//  .@KHSwords 		- Used with "Punho da Espada"
//
//  .@KHQRead		- Make sure player has asked questions to Kiel Hyre
//
//  .@KHTitle$		- Holds "Senhor", "Sra", or "Perder"
//
//  .@KHDoorPushAttempt	- Keeps track of how many times a person has attmepted to push the door open.
//
//  .@KHPryingItem$	- Used for incorrect options when prying open last door.
//
//  .KHKilled		- Tracks how many monsters have been killed. Used with "Receptor", "Robôs", and "Kiehl" NPCs
//
//  .KHDoor1Open	- 0/1 Depending on if the first door is opened.
//  .KHDoor2Open	- 0/1 Depending on if the second door is opened.
//  .KHDoor3Open	- 0/1 Depending on if the third door is opened.
//  .KHDoor4Open	- 0/1 Depending on if the fourth door is opened.
//  .KHDoor5Open	- 0/1 Depending on if the fifth door is opened.
//
//  .KHKilledBoss	- 0/1 depending on if the boss has been killed.
//
//  $@KHQuestBusy	- 0/1 depending on if the boss room has been set in motion.
//
//----------------------------------------------------------------------------
// [NPCs]			 [Location]
//  Pub Master .................. yuno_in01	[ 35,178]
//  Hanie ....................... yuno_fild08	[196,196]
//  Security Guard .............. yuno_fild08	[158,194]
//  Security Guard .............. yuno_fild08	[158,183]
//  Student ..................... kh_school	[ 57,142]
//  Student ..................... kh_school	[ 57,139]
//  Lady ........................ kh_school	[176, 60]
//  Cute Student ................ kh_school	[179, 39]
//  Little Kid .................. yuno		[217,114]
//  Windmill Owner .............. lighthalzen	[365,300]
//  Cottage Keeper .............. yuno_fild02	[ 93,210]
//  Door ........................ yuno_fild02	[ 75,218]
//  Door ........................ yuno_fild02	[109,218]
//  Wall ........................ kh_vila	[191, 14]
//  Book ........................ kh_vila	[184, 20]
//  Book ........................ kh_vila	[181, 20]
//  Book ........................ kh_vila	[178, 20]
//  Book ........................ kh_vila	[175, 19]
//  Letter ...................... kh_vila	[179, 11]
//  Box ......................... kh_vila	[ 16,175]
//  Apple Box ................... kh_vila	[ 30,184]
//  Map ......................... kh_vila	[ 44,125]
//  Pot ......................... kh_vila	[ 33,148]
//  Calabash .................... kh_vila	[ 14, 55]
//  Pool ........................ kh_vila	[ 39, 39]
//  Vicious Dog ................. kh_vila 	[180,178]
//  Drawer ...................... kh_vila 	[115,186]
//  Box ......................... kh_vila 	[107,126]
//  Bookshelf ................... kh_vila 	[181,138]
//  Sword Hilt .................. kh_vila 	[136, 69]
//  Test Tube ................... kh_vila	[179, 69]
//  Test Tube ................... kh_vila	[185, 69]
//  Window ...................... yuno_fild08	[ 69,185]
//  Elly ........................ kh_school	[178,180]
//  Cookie Basket ............... kh_school	[175,175]
//  Window ...................... kh_school	[188,185]
//  Grave ....................... yuno_fild08	[ 72,170]
//  Heavy Door .................. kh_dun01	[236, 48]
//  Beautiful lady .............. kh_school	[119,149]
//  Beautiful lady .............. kh_school	[122,186]
//  Signboard ................... kh_dun01	[163,223]
//  Mechanical Device ........... kh_dun01	[166,223]
//  Mechanical Device ........... kh_dun01	[162,206]
//  Kiel_Hyre_Door .............. kh_dun01	[224,232]
//  Steward ..................... kh_mansion	[ 78, 55]
//  Kiel Hyre ................... kh_mansion	[ 22, 27]
//  Allysia ..................... kh_mansion	[ 22, 27]
//  Abduction_trigger ........... lighthalzen	[188,200]
//  Mysterious Woman ............ kh_mansion	[ 25, 79]
//  Odd Granma .................. yuno		[250,132]
//  Old Lady .................... yuno 		[250,132]
//  Rosimmir_Entrance ........... yuno		[273,141]
//  Table ....................... kh_rossi	[ 23, 23]
//  Shelf ....................... kh_rossi	[ 92, 40]
//  Desk ........................ kh_rossi	[144,146]
//  Bookshelf ................... kh_rossi	[144,146]
//  Bed ......................... kh_rossi	[154,286]
//  Old Fisherman ............... yuno_fild12	[232,222]
//  Wooden Board ................ yuno_fild09	[158,217]
//  Kiehl_Room_Warp ............. kh_mansion	[ 29, 27]
//  Entrance Device#KHEntry1 .... kh_dun01	[ 44, 20]
//  Entrance Device#KHEntry2 .... kh_dun01	[ 44,203]
//  Security Guard .............. yuno_fild08	[158,194]
//  Receiver .................... kh_kiehl01	[ 17, 39]
//  Flower Vase ................. kh_kiehl01	[ 13, 40]
//  Box ......................... kh_kiehl01	[ 19, 25]
//  Big Door .................... kh_kiehl01	[ 44, 33]
//  Big_Door_1_Warp ............. kh_kiehl01	[ 43, 33]
//  Big Door .................... kh_kiehl01	[174, 40]
//  Big_Door_2_Warp ............. kh_kiehl01	[174, 39]
//  Big Door .................... kh_kiehl01	[ 77,108]
//  Big_Door_3_Warp ............. kh_kiehl01	[ 68,108]
//  Big Door .................... kh_kiehl01	[ 41,177]
//  Big_Door_4_Warp ............. kh_kiehl01	[ 78,177]
//  Robots ...................... kh_kiehl01	[ 15,181]
//  Big Door .................... kh_kiehl01	[166,187]
//  Big_Door_5_Warp ............. kh_kiehl01	[166,186]
//  Kiehl_Room_Trap ............. kh_kiehl02	[ 49, 15]
//  Kiehl#Original .............. kh_kiehl02	[ 50, 52]
//  KiehlRoom ................... kh_kiehl02	[  1,  1]
//  Mitchell#KiehlRoom .......... kh_kiehl02	[ 49, 55]
//  Agent#KHAgent1 ....   ....... kh_kiehl02	[ 53, 52]
//  Agent#KHAgent2 .............. kh_kiehl02	[ 51, 49]
//  Agent#KHAgent3 .............. kh_kiehl02	[ 47, 50]
//  Agent#KHAgent4 .............. kh_kiehl02	[ 46, 53]
//  Kiehl#Copy .................. kh_kiehl02	[ 48, 53]
//  Kiehl_Roomn_Exit ............ kh_kiehl01	[ 50, 59]
//
//----------------------------------------------------------------------------
// [Functions]
//  None
//
//----------------------------------------------------------------------------
// [Conflicts]
//   Resolved
//
//============================================================================

//============================================================================
// Affiliated NPCs
//============================================================================

//----------------------------------------------------------------------------
// Juno Pub Master/Starting point.
//----------------------------------------------------------------------------
yuno_in01,35,179,4	script	Pub Master#kh	46,5,5,{
	if (checkweight(7487,1) == 0) {
		mes "[Vandt]";
		mes "Só um segundo! ";
		mes "carregando muitos itens";
		mes "agora mesmo. ";
		mes "coloque suas coisas em Kafra";
		mes "Armazenamento ou você não estará";
		mes "capaz de aprender qualquer coisa nova...";
		close;
	}
	if (KielHyreQuest == 0) {
		mes "[Vandt]";
		mes "Olá, seja bem-vindo";
		mes "para o meu pub. ";
		mes "você gostaria de ter?";
		next;
		switch(select("Cerveja por favor.","Um coquetel, por favor.","Soju, por favor.","Talvez mais tarde.")) {
		case 1:
			mes "[Vandt]";
			mes "Tudo bem, deixe-me pegar";
			mes "você um copo de cerveja";
			mes "tocar. ";
			mes "saiu a cerveja Schwaltz especial.";
			next;
			mes "^3355FF*Gole, gole, gole*^000000";
			percentheal 5,-5;
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Ahhh, é realmente";
			mes "bom! ";
			mes "atinge o ponto!";
			close;
		case 2:
			mes "[Vandt]";
			mes "Me desculpe, mas eu tenho que";
			mes "entregar todo o nosso coquetel";
			mes "ingredientes para outros clientes.";
			mes "Talvez eu tenha o suficiente para fazer";
			mes "algo para você na próxima vez, ok?";
			close;
		case 3:
			mes "[Vandt]";
			mes "S-soju? ";
			mes "mas não servimos isso";
			mes "aqui. ";
			mes "um cara durão bebe por mim...";
			close;
		case 4:
			mes "[Vandt]";
			mes "Claro, basta pegar";
			mes "seu tempo, relaxe,";
			mes "e peça algo";
			mes "quando você estiver pronto.";
			close;
		}
	}
	if (KielHyreQuest == 1) {
		mes "[Vandt]";
		mes "Olá, seja bem-vindo";
		mes "para o meu pub. ";
		mes "você gostaria de ter?";
		next;
		switch(select("Cerveja, por favor:Um coquetel, por favor:Soju, por favor.:Você parece preocupado, e aí?:Cancelar")) {
		case 1:
			mes "[Vandt]";
			mes "Tudo bem, deixe-me pegar";
			mes "você um copo de cerveja";
			mes "tocar. ";
			mes "saiu a cerveja Schwaltz especial.";
			next;
			mes "^3355FF*Gole, gole, gole*^000000";
			percentheal 5,-5;
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Ahhh, é realmente";
			mes "bom! ";
			mes "atinge o ponto!";
			close;
		case 2:
			mes "[Vandt]";
			mes "Me desculpe, mas eu tenho que";
			mes "entregar todo o nosso coquetel";
			mes "ingredientes para outros clientes.";
			mes "Talvez eu tenha o suficiente para fazer";
			mes "algo para você na próxima vez, ok?";
			close;
		case 3:
			mes "[Vandt]";
			mes "S-soju? ";
			mes "mas não servimos isso";
			mes "aqui. ";
			mes "um cara durão bebe por mim...";
			close;
		case 4:
			mes "[Vandt]";
			mes "Ah, você ouviu?";
			mes "Me desculpe, é só esse";
			mes "dos meus funcionários tinham um";
			mes "acidente e fiquei muito ferido,";
			mes "então eu não tenho nada que possa";
			mes "entregar esta mercadoria.";
			next;
			mes "[Vandt]";
			mes "Eu tenho um pedido urgente";
			mes "que preciso enviar para";
			mes "a Academia Kiel Hyre,";
			mes "mas não consigo encontrar ninguém";
			mes "que está disponível para isso";
			mes "tipo de trabalho temporário.";
			next;
			switch(select("Lamento ouvir isso: você quer que eu te ajude?")) {
			case 1:
				mes "[Vandt]";
				mes "Bem, tenho certeza que vou";
				mes "descobrir algo.";
				mes "Você conhece alguém";
				mes "isso estaria interessado em";
				mes "algum trabalho de meio período?";
				close;
			case 2:
				mes "[Vandt]";
				mes "Realmente? ";
				mes "Mas primeiro, acho que é justo";
				mes "dizer que este trabalho pode não";
				mes "seja tão simples quanto você imagina.";
				mes "Espero que você complete o";
				mes "entrega, não importa o que aconteça.";
				next;
				switch(select("Claro que farei isso: Espere, deixe-me pensar sobre isso...")) {
				case 1:
					mes "[Vandt]";
					mes "Fico feliz em ouvir isso.";
					mes "Bem, então, por favor, pegue isso";
					mes "garrafa de Vinho Culinário para";
					mes "Sra. ^ff0000Lecollane^000000 em Kiel";
					mes "Academia Hyre. ";
					mes "assim que terminar o trabalho, ok?";
					getitem 7487,1; //Tavern_Wine
					set KielHyreQuest,2;
					close;
				case 2:
					mes "[Vandt]";
					mes "Coisa certa. ";
					mes "para fazer isso, então se você";
					mes "não posso fazer isso, mas conheço algum";
					mes "capaz, responsável";
					mes "pessoas que podem, então por favor";
					mes "contar a eles sobre minha situação.";
					close;
				}
			}
		case 5:
			mes "[Vandt]";
			mes "Claro, basta pegar";
			mes "seu tempo, relaxe,";
			mes "e peça algo";
			mes "quando você estiver pronto.";
			close;
		}
	}
	else if ((KielHyreQuest >= 2) && (KielHyreQuest < 6)) {
		mes "[Vandt]";
		mes "Por favor, entregue aquela garrafa";
		mes "de vinho que dei para a Sra.";
		mes "Sra. ^ff0000Lecollane^000000, que deveria ser";
		mes "dentro da Academia Kiel Hyre.";
		mes "Apresse-se e leve isso para ela antes que ela";
		mes "pode reclamar da entrega.";
		close;
	}
	else if (KielHyreQuest == 6) {
		if (countitem(7487) == 0) {
			mes "[Vandt]";
			mes "Ah, você está de volta.";
			mes "Obrigado por fazer isso";
			mes "entrega. ";
			mes "um momento, e então eu posso";
			mes "te pago em zeny, ok?";
			next;
			select("Preciso de mais vinho...");
			mes "[Vandt]";
			mes "Ah, você precisa entregar";
			mes "outra garrafa? ";
			mes "deixe-me olhar ao redor e";
			mes "Eu te darei o vinho";
			mes "e seu pagamento.";
			next;
			mes "^3355FFRummage Remexer^000000";
			mes "^3355FFRummage Remexer^000000";
			next;
			mes "[Vandt]";
			mes "Ai está!";
			mes "Muito obrigado";
			mes "por me ajudar ~";
			getitem 7487,1; //Tavern_Wine
			set Zeny, Zeny+1000;
			close;
		}
		else {
			mes "[Vandt]";
			mes "Ei, muito obrigado";
			mes "por me ajudar nisso";
			mes "última vez. ";
			mes "você do nada, mas";
			mes "você acabou sendo uma vida";
			mes "economizador! ";
			close;
		}
	}
	else {
		mes "[Vandt]";
		mes "Você é muito bom";
		mes "trabalhador, você sabe disso?";
		mes "Confiável, responsável,";
		mes "disposto a ajudar os outros e";
		mes "proativo também! ";
		mes "vá longe na vida, garoto, eu realmente vou~";
		close;
	}

OnTouch:
	if (KielHyreQuest < 1) {
		mes "[Vandt]";
		mes "Arrrgghhh...";
		mes "Isso não pode ser bom...";
		mes "Isso não é nada bom!";
		mes "O que devo fazer?";
		set KielHyreQuest,1;
		close;
	} 
}

//----------------------------------------------------------------------------
// Juno Toast Sales Girl.
//----------------------------------------------------------------------------
yuno,217,114,6	script	Little Kid#kh	96,{
	mes "[Cezu]"; 
	if (KielHyreQuest < 6) {
		mes "Torrada fresca e crocante!";
		mes "Se você quiser um pouco, venha";
		mes "e pegue um pouco demais~";
		close;
	}
	else if (KielHyreQuest == 6) {
		if (KHToastGirlEnd < 1) {
			mes "Torrada fresca e crocante!";
			mes "Se você quiser um pouco, venha";
			mes "e pegue um pouco demais~";
			mes "Oh! ";
			mes "comprar uma torrada deliciosa?";
			next;
			switch(select("Estou aqui pela Elly: Não, obrigado")) {
			case 1:
				mes "[Cezu]"; 
				mes "Oh, eu vejo. ";
				mes "desperdiçou outro lote de";
				mes "ingredientes novamente. ";
				mes "ela é uma cliente regular,";
				mes "então eu realmente quero ajudar, mas";
				mes "Eu realmente não posso fazer nada.";
				next;
				mes "[Cezu]"; 
				mes "Você vê, eu acabei de correr";
				mes "sem ingredientes também!";
				mes "Mas eu realmente não posso sair";
				mes "para conseguir mais um pouco. ";
				mes "as pessoas precisam comprar torradas?";
				mes "Escute, você pode me ajudar?";
				next;
				mes "[Cezu]"; 
				mes "Você poderia, por favor, ir buscar";
				mes "um pouco de farinha e ovos para mim";
				mes "do ^3355FFMoinho Lighthalzen^000000";
				mes "Então, quando você voltar, eu posso";
				mes "divida os ingredientes e você";
				mes "posso entregar alguns para Elly.";
				next;
				mes "[Cezu]"; 
				mes "Eu sei que estou basicamente";
				mes "fazendo você fazer tudo";
				mes "por conta própria, mas por favor tente";
				mes "entender que minhas mãos";
				mes "estão amarradas. ";
				mes "ora, eles simplesmente são!";
				set KHToastGirlEnd,1;
				close;
			case 2:
				mes "[Cezu]";
				mes "Ok, ok ~";
				mes "Por favor, volte novamente!";
				close;
			}
		}
		else if (KHToastGirlEnd == 1) {
			mes "Você poderia, por favor, ir até";
			mes "o moinho de vento Lighthalzen";
			mes "e diga a eles que Cezu precisa";
			mes "muita farinha e muitos ovos!";
			mes "Então, traga todas as coisas";
			mes "para mim assim que puder ~";
			close;
		}
		else if (KHToastGirlEnd == 2) {
			mes "Ei, você está de volta com o";
			mes "ingredientes! ";
			mes "muito, eu realmente precisava disso!";
			mes "Agora por favor dê esta farinha";
			mes "e esses ovos para Elly, e";
			mes "mande-lhe meus cumprimentos. ";
			delitem 7488,1; //Delivery_Package
			getitem 7488,1; //Delivery_Package
			set KHToastGirlEnd,3;
			close;
		}
	}
	//KHToastGirlEnd no longer needed-- deleting.
	if (KielHyreQuest > 6) set KHToastGirlEnd,0;
	mes "Quente, fresco e";
	mes "torrada crocante!";
	mes "Venha e pegue um pouco!";
	close;
}

//----------------------------------------------------------------------------
// Lighthalzen WindMill Owner.
//----------------------------------------------------------------------------
lighthalzen,366,299,4	script	Windmill Owner#kh	46,{
	if (checkweight(7488,1) == 0) {
		mes "[Moinhos]";
		mes "Ei, você tem demais";
		mes "coisas sobre você agora.";
		mes "Coloque seu lixo no armazenamento Kafra";
		mes "se você espera que eu lhe dê";
		mes "qualquer coisa. ";
		mes "aqui para a senhorita, não foi?";
		close;
	}
	if (KHToastGirlEnd < 1) {
		mes "[Moinhos]";
		mes "Ei, o que você quer?";
		mes "Estou muito ocupado, certo";
		mes "agora, então você se importa de vir";
		mes "volte depois? ";
		close;
	}
	else if (KHToastGirlEnd == 1) {
		mes "[Moinhos]";
		mes "Ei, o que você quer?";
		mes "Você acabou de acontecer";
		mes "me pegue em um bom momento,";
		mes "mas se você precisar de alguma coisa,";
		mes "é melhor você cuspir logo";
		mes "antes que as coisas fiquem agitadas novamente.";
		next;
		switch(select("Estou aqui pelo Cezu:......")) {
		case 1:
			mes "[Moinhos]";
			mes "Ah, Cezu do";
			mes "suporte para torradas? ";
			mes "Eu tenho tudo";
			mes "aquele garoto precisa de direito";
			mes "aqui. ";
			mes "então tenha muito cuidado com isso.";
			mes "Está pronto para você...";
			next;
			mes "[Moinhos]";
			mes "Kid é um dos meus regulares";
			mes "clientes, para que você não";
			mes "tem que me pagar, ou executar qualquer";
			mes "tarefas extras da minha parte. ";
			mes "Eu sei como as outras pessoas tratam";
			mes "vocês, aventureiros. ";
			getitem 7488,1; //Delivery_Package
			set KHToastGirlEnd,2;
			close;
		case 2:
			mes "[Moinhos]";
			mes "......";
			mes "Hum, ok, bem, se";
			mes "Você precisa de algo,";
			mes "apenas grite, eu acho.";
			mes "Cortes, Cutz, onde você está?";
			mes "É melhor você não estar brincando!";
			close;
		}
	}
	else if (KHToastGirlEnd >= 2) {
		mes "[Moinhos]";
		mes "Esse Cutz é tal";
		mes "um malandro preguiçoso. ";
		mes "acha que pode brincar";
		mes "quando ele está trabalhando...!";
		mes "Ah, bem, ele sabe que não consigo encontrar";
		mes "um assistente melhor. ";
		close;
	}
}

lighthalzen,366,289,2	script	Windmill Owner's Helper	97,{
	if (KHToastGirlEnd < 1) {
		mes "[Cutz]";
		mes "Cara, por que estamos";
		mes "sempre tão ocupado?";
		mes "Por que Mills tem";
		mes "para me trabalhar até os ossos?";
		mes "Eh, é um meio de vida, eu suponho...";
		close;
	}
	else if (KHToastGirlEnd >= 2) {
		mes "[Cutz]";
		mes "O que faz você";
		mes "acho que estou brincando,";
		mes "Moinhos? ";
		mes "minhas mãos estão se movendo,";
		mes "Estou ocupado, estou trabalhando!";
		close;
	}
	else {
		mes "[Cutz]";
		mes "Ei, você é de";
		mes "Barraca de torradas de Cezu,";
		mes "certo? ";
		mes "pequeno Cezu está fazendo?";
		close;
	}
}

//============================================================================
//Kiel Hyre Academy NPCs
//============================================================================

//----------------------------------------------------------------------------
// Girl (Talks about the academy)
//----------------------------------------------------------------------------
yuno_fild08,196,196,5	script	Hanie#kh1	102,{
	mes "[Hanie]";
	mes "Ah, eu gostaria de poder estudar";
	mes "na Academia Kiel Hyre...";
	mes "Todos os graduados recebem";
	mes "trabalhos muito bons! ";
	mes "inveja dos alunos!";
	next;
	select("Academia Kiel Hyre?");
	mes "[Hanie]";
	mes "Ah, a Academia Kiel Hyre";
	mes "é uma escola fundada por Kiel";
	mes "Hyre, um inventor que se tornou";
	mes "rico com suas máquinas estranhas.";
	mes "Ele decidiu retribuir à sociedade";
	mes "construindo esta academia privada.";
	next;
	mes "[Hanie]";
	mes "Contudo, a escola irá";
	mes "só aceitam órfãos que sejam";
	mes "muito pobre para se matricular em qualquer outro";
	mes "escolas. ";
	mes "eu gostaria de ser órfão também!";
	mes "Bem, na verdade não, mas você sabe...";
	close;
}


//----------------------------------------------------------------------------
// Academy Security Guards
//----------------------------------------------------------------------------
yuno_fild08,158,194,6	script	Security Guard#1::KHAGuard	852,{
	if ((KielHyreQuest < 2) || (KielHyreQuest > 31)) { 
		mes "[Segurança]";
		mes "Sinto muito, mas se você não estiver";
		mes "associados a esta instituição,";
		mes "então você não está autorizado a";
		mes "entre na ^FF0000Kiel Hyre Academy^000000.";
		mes "Por favor, saia se você não tiver";
		mes "uma consulta com a equipe.";
		close;
	}
	else if (KielHyreQuest == 2) { 
		mes "[Segurança]";
		mes "Sinto muito, mas se você não estiver";
		mes "associados a esta instituição,";
		mes "então você não está autorizado a";
		mes "entre na ^FF0000Kiel Hyre Academy^000000.";
		mes "Por favor, saia se você não tiver";
		mes "uma consulta com a equipe.";
		next;
		switch(select("Estou aqui para uma entrega.:......")) {
		case 1:
			mes "[Segurança]";
			mes "Você está aqui para entregar";
			mes "algo? ";
			mes "me o ^FF0000nome^000000 do destinatário,";
			mes "seguido pelo ^FF0000item^000000 sendo";
			mes "entregue e vou verificar";
			mes "antes de deixar você entrar.";
			next;
			input .@KHDelivery$;
			if (.@KHDelivery$ != "Lecollane") {
				mes "[Segurança]";
				mes "Você está aqui para entregar alguns";
				mes "Vinho para... para quem? ";
				mes "o nome? ";
				mes "temos alguém no";
				mes "academia chamada"+.@KHDelivery$+"";
				close;
			}
			input .@KHDelivery$ ;
			if (.@KHDelivery$ != "Vinho Culinário") {
				mes "[Segurança]";
				mes "Então você está aqui para fazer";
				mes "uma entrega para a Sra. Lecollane?";
				mes "O que você trouxe";
				mes "dela? "+.@KHDelivery$+"^000000?";
				next;
				mes "[Segurança]";
				mes "Deixe-me ligar para ela primeiro,";
				mes "e verifique para ter certeza";
				mes "que ela estava esperando";
				mes "você. ";
				next;
				mes "......";
				mes ".........";
				mes "............";
				next;
				mes "[Segurança]";
				mes "Huh. ";
				mes "está esperando uma entrega,";
				mes "mas não o item que você";
				mes "diga que você trouxe para";
				mes "dela. ";
				mes "para ver se houve alguma confusão...";
				close;
			}
			mes "[Segurança]";
			mes "Tudo bem....";
			mes "Então você está aqui para";
			mes "entregar uma garrafa de";
			mes "Vinho para a Sra. Lecollane?";
			mes "Deixe-me ligar para ela e pegar";
			mes "isso foi confirmado rapidamente.";
			next;
			mes "......";
			mes ".........";
			mes "............";
			next;
			mes "[Segurança]";
			mes "Ok, tudo parece";
			mes "bom. ";
			mes "estava esperando por você.";
			mes "Eu acho que você pode entrar.";
			close2;
			warp "kh_school",71,155;
			end;
		case 2:
			mes "[Segurança]";
			mes "Se você não tem";
			mes "uma consulta, então";
			mes "não fique por aí";
			mes "frente da academia!";
			close;
		}
	}
	else if (KielHyreQuest < 32) { 
		mes "[Segurança]";
		mes "Ah, você tinha";
		mes "outros negócios dentro";
		mes "a Academia? ";
		mes "você de antes, então aí";
		mes "não deve haver problemas";
		mes "deixando você voltar para dentro...";
		close2;
		warp "kh_school",71,155;
		end;
	}
}

yuno_fild08,158,183,7	duplicate(KHAGuard)	Security Guard#2	852

//----------------------------------------------------------------------------
// Gossiping Teenagers/Story NPCs
//----------------------------------------------------------------------------
kh_school,57,142,6	script	Student#kha	893,3,3,{
	mes "[Laci]";
	mes "Ah, uau! ";
	mes "não receba visitantes";
	mes "campus! ";
	mes "um novo membro do corpo docente, não é?";
	close;

OnTouch_:
	mes "[Laci]";
	mes "Ei, Nesha...!";
	mes "você já ouviu por que";
	mes "Aaci não tem vindo";
	mes "para a aula por um tempo?";
	next;
	mes "[Gui Nesha]";
	mes "Isso mesmo, eu não";
	mes "vi Aaci há algum tempo.";
	mes "Aconteceu alguma coisa?";
	next;
	mes "[Laci]";
	mes "É porque....";
	mes "Aaci viu um maldito fantasma!";
	mes "É cem por cento";
	mes "verdadeiro! ";
	mes "bem, você sabe, minhas fontes.";
	next;
	mes "[Gui Nesha]";
	mes "...Wha...?";
	mes "Oh vamos lá,";
	mes "saia da cidade.";
	close;
}

kh_school,57,139,0	script	Student#khb	893,{
	mes "[Gui Nesha]";
	mes "Não estamos um pouco";
	mes "velho para falar";
	mes "esse tipo de coisa? ";
	mes "sabe, rumores e fantasmas";
	mes "histórias que não fazem sentido?";
	mes "Vamos, Laci, pare com isso!";
	emotion ET_PROFUSELY_SWEAT;
	close;
}

//----------------------------------------------------------------------------
// Mrs. Lecollane
//----------------------------------------------------------------------------
kh_school,176,60,4	script	Lady#kh	101,{
	if (KielHyreQuest < 2) {
		mes "[Sra. ";
		mes "Existe algum problema?";
		mes "Pessoas de fora não podem vir";
		mes "aqui, por favor, saia.";
		close;
	}
	else if (KielHyreQuest == 2) { 
		mes "[Sra. ";
		mes "Ah, olá. ";
		mes "você veio para";
		mes "entregar meu vinho? ";
		mes "o segurança ligou e";
		mes "mencionou que você estava vindo.";
		next;
		switch(select("Sim, isso mesmo!: Er, desculpe!")) {
		case 1:
			mes "[Sra. ";
			mes "Bem, você veio um pouco";
			mes "mais tarde do que eu pensava, mas";
			mes "Suponho que não possa ser ajudado.";
			mes "Eu acho que a espera acabou";
			mes "aumentou minha expectativa";
			mes "por esta garrafa de wi--";
			next;
			mes "^3355FF*Agarre-se! ";
			next;
			mes "[Sra. ";
			mes "Elly? ";
			mes "quebrar alguma coisa de novo?!";
			mes "Você tem que ter mais cuidado!";
			mes "Se você não terminar de assá-los";
			mes "cookies até o final de hoje, seu";
			mes "as notas do semestre serão prejudicadas!";
			next;
			mes "[Elly]";
			mes "M-mas eu só...";
			next;
			mes "[Sra. ";
			mes "^FF0000Elly^000000!!";
			next;
			mes "[Elly]";
			mes "......";
			mes "Sim, Sra. Lecollane.";
			next;
			mes "[Sra. ";
			mes "*Aham* Com licença.";
			mes "Você poderia, por favor, sair";
			mes "o vinho ali? ";
			mes "pode ir agora, e por favor";
			mes "não vagueie desnecessariamente";
			mes "ao redor da academia.";
			delitem 7487,1; //Tavern_Wine
			set KielHyreQuest,4;
			close;
		case 2:
			mes "[Sra. ";
			mes "Hum...?";
			mes "Eu acho que devo";
			mes "ser confundido. ";
			mes "desculpe, pensei que você";
			mes "fosse outra pessoa.";
			close;
		}
	}
	else if (KielHyreQuest == 4) {
		mes "[Sra. Lecollane]";
		mes "Bem, nosso negócio é";
		mes "concluído, você também";
		mes "por favor saia do campus";
		mes "assim que puder? ";
		mes "Eu não posso acreditar no nosso futuro";
		mes "está nas mãos dessas meninas...";
		close;
	}
}

//----------------------------------------------------------------------------
// Elly (In school)
//----------------------------------------------------------------------------
kh_school,179,39,0	script	Cute Student#kh	895,{
	if (checkweight(908,200) == 0) {
		mes "[Elly]";
		mes "Sinto muito, mas você poderia";
		mes "coloque algumas de suas coisas";
		mes "seu armazenamento Kafra primeiro ou";
		mes "algo? ";
		mes "ajudá-lo quando você estiver";
		mes "carregando tanta coisa.";
		close;
	}
	cutin "kh_elly01",2;
	if (KielHyreQuest < 4) { 
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "Uau! ";
		mes "^333333*Ufa*^000000 Isso foi por pouco,";
		mes "Quase os deixei cair";
		mes "de novo! ";
		mes "dificuldade em manusear ingredientes?";
	}
	else if (KielHyreQuest == 4) { 
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "Oh não, o que deveria";
		mes "Eu faço? ";
		mes "eu vou fazer? ";
		next;
		switch(select("O que aconteceu?:......")) {
		case 1:
			mes "[Elly]";
			mes "Eu... eu tenho que terminar de assar";
			mes "esse lote de biscoitos do";
			mes "final de hoje, mas então eu derramei";
			mes "todos os ingredientes do";
			mes "chão. ";
			mes "asse esses biscoitos agora...";
			next;
			switch(select("O que posso fazer para ajudá-lo?:Oh, sinto muito.")) {
			case 1:
				cutin "kh_elly02",2;
				mes "[Elly]";
				mes "O que é que foi isso...?";
				mes "Você realmente vai ajudar";
				mes "meu? ";
				mes "Obrigado! ";
				next;
				break;
			case 2:
				mes "[Elly]";
				mes "Espere, você não vai";
				mes "para esta escola, não";
				mes "você? ";
				mes "aqueles aventureiros, certo?";
				next;
				select("Sim, está certo.");
				mes "Escute, eu conheço você";
				mes "provavelmente tenha o seu próprio";
				mes "planos, mas você acha";
				mes "você pode me ajudar com isso";
				mes "enorme problema que eu tenho?";
				next;
				switch(select("Aceitar recusar")) {
				case 1:
					cutin "kh_elly02",2;
					mes "Que maravilha!";
					mes "Obrigado! ";
					mes "muito! ";
					mes "termine de assar este lote de";
					mes "biscoitos logo, mas eu derramei";
					mes "todos os ingredientes...";
					next;
					break;
				case 2:
					mes "["+strcharinfo(0)+"]";
					mes "Estou fora daqui.";
					next;
					cutin "kh_elly04",2;
					mes "[Elly]";
					mes "E-espere...!";
					mes "Volte, você";
					mes "n-não...! ";
					mes "Precisa de alguma ajuda!";
					emotion ET_CRY;
					close2;
					cutin "",255;
					end;
				}
			}
			cutin "kh_elly01",2;
			mes "[Elly]";
			mes "Bem, acho que a única maneira";
			mes "Eu posso assar esses biscoitos é";
			mes "para obter alguns novos ingredientes.";
			mes "Sinto muito por ser um fardo,";
			mes "mas se você não se ofereceu para ajudar";
			mes "mim, então eu não teria ninguém para perguntar!";
			next;
			cutin "kh_elly04",2;
			mes "[Elly]";
			mes "Você não entende como";
			mes "importante é que eu asse";
			mes "esses biscoitos... Se eu não";
			mes "terminar esta tarefa, então";
			mes "A Sra. Crank irá me decepcionar por";
			mes "o semestre inteiro!";
			next;
			mes "[Elly]";
			cutin "kh_elly01",2;
			mes "Ok, preciso me acalmar";
			mes "abaixo. ";
			mes "isso com sua ajuda.";
			mes "Você poderia por favor me fazer";
			mes "este enorme favor e trazer";
			mes "todos esses ingredientes?";
			next;
			mes "[Elly]";
			mes "^3355FF1 Vinho^000000,";
			mes "^3355FF7 Leites^000000,";
			mes "^3355FF5 Cacaus^000000,";
			mes "^3355FF2 Queijos^000000,";
			mes "^3355FF1 Ovo^000000, e";
			mes "^3355FF1 Saco de farinha^000000.";
			next;
			mes "[Elly]";
			mes "Vamos ver... Você pode";
			mes "pegue vinho em um pub em";
			mes "Juno, cacau da caça";
			mes "Yoyos, e você pode conseguir farinha";
			mes "e ovos da garota que";
			mes "administra o Toast Stand em Juno.";
			next;
			mes "[Elly]";
			mes "Boa sorte, conseguindo";
			mes "tudo, e espero";
			mes "você corre de volta aqui com";
			mes "aqueles ingredientes de biscoito";
			mes "o mais rápido que puder, ok?";
			set KielHyreQuest,6;
			break;
		case 2:
			mes "[Elly]";
			mes "*Soluço*...";
			break;
		}
	}
	else if (KielHyreQuest == 6) {
		if ((countitem(519) < 7) || (countitem(548) < 2) || (countitem(7182) < 5) || (countitem(7487) < 1) || (countitem(7488) < 1)) {
			mes "[Elly]";
			mes "Vamos ver, você poderia";
			mes "gostaria que eu te lembrasse";
			mes "quais ingredientes eu preciso?";
			mes "Por favor, traga essas coisas como";
			mes "assim que puder para que eu possa";
			mes "asse rapidamente alguns biscoitos ~";
			next;
			mes "[Elly]";
			mes "^3355FF1 Vinho^000000,";
			mes "^3355FF7 Leites^000000,";
			mes "^3355FF5 Cacaus^000000,";
			mes "^3355FF2 Queijos^000000,";
			mes "^3355FF1 Ovo^000000, e";
			mes "^3355FF1 Saco de farinha^000000.";
			next;
			cutin "kh_elly01",2;
			mes "[Elly]";
			mes "Vamos ver... Você pode";
			mes "pegue vinho em um pub em";
			mes "Juno, cacau da caça";
			mes "Yoyos, e você pode conseguir farinha";
			mes "e ovos da garota que";
			mes "administra o Toast Stand em Juno.";
		}
		else {
			cutin "kh_elly02",2;
			mes "[Elly]";
			mes "Viva! ";
			mes "tudo que eu preciso! ";
			mes "ótimo! ";
			mes "me dê um momento enquanto eu asso";
			mes "esses biscoitos?  ";
			mes "por muito tempo, então espere um pouco.";
			delitem 519,7; //Milk
			delitem 548,2; //Cheese
			delitem 7182,5; //Cacao
			delitem 7487,1; //Tavern_Wine
			delitem 7488,1; //Delivery_Package
			set KielHyreQuest,8;
			//KHPubMasterEnd no longer needed-- deleting.
			set KHPubMasterEnd,0;
			set KHToastGirlEnd,0;
			emotion ET_DELIGHT;
		}
	}
	else if (KielHyreQuest == 8) {
		mes "[Elly]";
		mes "Surpresa! ";
		mes "Eles finalmente terminaram!";
		mes "Biscoitos especiais da Elly.";
		mes "Eu gostaria que você tivesse um pouco";
		mes "como agradecimento por me ajudar.";
		next;
		mes "[Elly]";
		mes "Me desculpe, mas eu estava tão";
		mes "preocupado com panificação";
		mes "esses biscoitos que eu não fiz";
		mes "até pergunte seu nome. ";
		mes "^FF0000Ellyja^000000, mas todo mundo me liga,";
		mes "''Elly.'' Qual é o seu nome?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "^3355FF"+strcharinfo(0)+"^000000.";
		mes "É ^3355FF"+strcharinfo(0)+"^000000.";
		next;
		cutin "kh_elly02",2;
		mes "[Elly]";
		mes ""+strcharinfo(0)+"?";
		mes "...aquele nome! ";
		getitem 538,5; //Well_Baked_Cookie
		set KielHyreQuest,10;
	}
	else if (KielHyreQuest == 10) {
		mes "[Elly]";
		mes "Sinto muito, mas eu tenho";
		mes "outro favor para te pedir";
		mes "se você não se importa em ajudar";
		mes "eu sair de novo. ";
		mes "você não terá que se apressar como";
		mes "rapidamente como você fez da última vez.";
		next;
		switch(select("Do que você precisa?:Desculpe, mas estou muito ocupado...")) {
		case 1:
			mes "[Elly]";
			mes "Você sabe como você ajudou";
			mes "eu assar esses biscoitos?";
			mes "Foi a primeira vez que consegui";
			mes "fazer isso sem queimá-los!";
			mes "Eu só sei que o avô";
			mes "tenha tanto orgulho de mim!";
			next;
			mes "[Elly]";
			mes "Eu realmente quero o avô";
			mes "para provar os biscoitos que fiz,";
			mes "mas os biscoitos ficarão estragados";
			mes "quando eu puder sair";
			mes "campus. ";
			mes "biscoitos para meu avô para mim?";
			next;
			switch(select("Claro: estou ocupado.")) {
			case 1:
				cutin "kh_elly02",2;
				mes "[Elly]";
				mes "Oh,"+strcharinfo(0)+"!";
				mes "Muito obrigado, eu sabia";
				mes "você entenderia! ";
				mes "por favor traga os biscoitos para";
				mes "ele na casa de ^FF0000Kiel Hyre^000000?";
				next;
				mes "[Elly]";
				mes "Oh, certo! ";
				mes "cuidado com os visitantes e";
				mes "manter estranhos fora do";
				mes "propriedade, mas se você mencionar";
				mes "meu nome, eles vão deixar você entrar.";
				mes "Tudo bem então, até mais ~";
				set KielHyreQuest,12;
				break;
			case 2:
				cutin "kh_elly03",2;
				mes "[Elly]";
				mes "Ah, hum...";
				mes "Ok, sinto muito por";
				mes "te incomodaram...";
				break;
			}
			break;
		case 2:
			cutin "kh_elly03",2;
			mes "[Elly]";
			mes "Ah, hum...";
			mes "Ok, sinto muito por";
			mes "te incomodaram...";
			break;
		}
	}
	else if (KielHyreQuest == 12) {
		mes "[Elly]";
		mes "Ah, você não sabe onde";
		mes "encontrar a casa de Kiel Hyre?";
		mes "Fica ao norte daqui";
		mes "Academia. ";
		mes "biscoitos para o avô, e";
		mes "deixe-o saber que eu realmente sinto falta dele.";
	}
	else if (KielHyreQuest == 14) {
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "Hum? ";
		mes "lar? ";
		mes "não mencionou nada sobre";
		mes "qualquer viagem de negócios. ";
		mes "ele ficaria em casa o dia todo...";
		next;
		cutin "kh_elly04",2;
		mes "[Elly]";
		mes "Você voltaria para o seu";
		mes "casa mais uma vez? ";
		mes "você pode usar esta chave do chalé.";
		mes "Dessa forma, você pode simplesmente ir";
		mes "entre e fale com ele~";
		getitem 7489,1; //Villa_Spare_Key
		set KielHyreQuest,16;
	}
	else if ((KielHyreQuest >= 14) && (KielHyreQuest < 20)) {
		mes "[Elly]";
		mes "Isso é tão esquisito...";
		mes "Eu pensei que avô";
		mes "disse que estaria em";
		mes "casa o dia todo hoje...";
	}
	else if (KielHyreQuest == 20) {
		mes "[Elly]";
		mes "Hum...?";
		mes "O que é isso,";
		mes "uma carta para mim?";
		next;
		mes "^3355FFElly abriu o envelope";
		mes "e comecei a ler a carta.^000000";
		next;
		mes "^333333Querida Elly,";
		mes "";
		mes "Eu tenho algo para discutir";
		mes "com meu filho Kiehl, então estou";
		mes "saindo para se encontrar com ele.";
		mes "Se você não tiver notícias minhas";
		mes "depois de 7 dias depois de ter escrito";
		mes "esta carta, então você deve";
		mes "fuja da academia o mais rápido";
		mes "possível e recupere";
		mes "algo dentro do nosso";
		mes "estudo da casa de campo.";
		mes "";
		mes "Se você tem um amigo você";
		mes "pode confiar, por favor pergunte a ele";
		mes "seguir meus rastros no";
		mes "cabana. ";
		mes "e em extrema necessidade de resgate.";
		mes "";
		mes "Elly, não confie em ninguém";
		mes "na academia, até mesmo o seu";
		mes "colegas de classe, pois eles podem";
		mes "ser influenciado por Kiehl.";
		mes "";
		mes "Tenha cuidado, e eu te amo.";
		mes "";
		mes "--Vovô^000000";
		next;
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "O que? ";
		mes "dez dias desde que ele escreveu";
		mes "esta carta! ";
		mes "significa que ele está em perigo?!";
		mes "Ah não, o que devo fazer?";
		delitem 7490,1; //Letter_to_Elly
		set KielHyreQuest,22;
	}
	else if (KielHyreQuest == 22) {
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "......";
		mes ".........";
		mes "............";
		next;
		switch(select("Sobre seu avô:Conte-me sobre Kiehl:O que há com essa academia?")) {
		case 1:
			mes "[Elly]";
			mes "Oh! ";
			mes "Kiel Hyre, fundador e";
			mes "CEO da Kiel Hyre";
			mes "Fundação. ";
			mes "rigoroso e de coração frio,";
			mes "mas ele é realmente muito legal!";
			next;
			mes "[Elly]";
			mes "Não estamos relacionados por";
			mes "sangue, mas ele foi levado";
			mes "cuida de mim desde então";
			mes "Eu perdi meus pais. ";
			mes "Vovô, onde você está?";
			mes "Estou ficando tão preocupado!";
			break;
		case 2:
			mes "[Elly]";
			mes "Kiel? ";
			mes "filho do avô...";
			mes "eu não conheço ele isso";
			mes "bem, e só o vi";
			mes "uma vez em um evento da academia.";
			next;
			mes "[Elly]";
			mes "Mmm, ele é bonito";
			mes "cara com pele clara, prateada";
			mes "cabelo, e este frio, feroz";
			mes "olhar fixamente. ";
			mes "adoro Kiehl porque ele é";
			mes "também um gênio dos negócios ~";
			next;
			mes "[Elly]";
			mes "Mas é estranho...";
			mes "Eu não tenho ideia de por que meu";
			mes "vovô e Kiehl não";
			mes "se dar bem. ";
			mes "muito bons no que fazem...";
			break;
		case 3:
			mes "[Elly]";
			mes "Bem, eu conheço a segurança";
			mes "aqui é muito apertado, mas";
			mes "isso é porque tudo";
			mes "aqui é tão luxuoso e";
			mes "caro, você sabe ~";
			next;
			mes "[Elly]";
			mes "Também temos um muito";
			mes "currículo especial onde";
			mes "você aprende mais sobre o que você";
			mes "querer. ";
			mes "torne-se uma grande mulher de carreira";
			mes "como ^0000FFMs. ";
			next;
			mes "[Elly]";
			mes "Este lugar certamente";
			mes "não é como outras escolas.";
			//mes "Você já sabe disso apenas";
			mes "Sim, tudo é feito para";
			mes "atender cada uma das necessidades do aluno.";
			next;
			mes "[Elly]";
			mes "Recentemente, entretanto?";
			mes "Algumas coisas realmente estranhas";
			mes "tem acontecido. ";
			mes "meus colegas têm medo de";
			mes "saindo sozinhos.";
			next;
			cutin "kh_elly02",2;
			mes "[Elly]";
			mes "Mas vou ficar bem!";
			mes "Você estará lá para";
			mes "me salve do perigo,";
			mes "certo,"+strcharinfo(0)+"?";
			next;
			switch(select("Quem é a Sra. Allysia?:Incidentes estranhos?")) {
			case 1:
				mes "[Elly]";
				mes "Oh, Sra. Allysia é";
				mes "Secretária do avô ~";
				mes "Ela é tão linda, e";
				mes "meu avô realmente";
				mes "confia nela para tudo!";
				break;
			case 2:
				cutin "kh_elly04",2;
				mes "[Elly]";
				mes "Bem,"+strcharinfo(0)+"...";
				mes "Eu não deveria contar";
				mes "qualquer pessoa fora da escola,";
				mes "mas posso confiar em você! ";
				mes "Somos assombrados por um fantasma!";
				next;
				mes "[Elly]";
				mes "Eu sei que parece uma loucura,";
				mes "mas esse fantasma vagueia pelo";
				mes "campus, e amaldiçoa suas vítimas,";
				mes "tornando-os tão frios e sem vida.";
				mes "Aconteceu com meu colega de quarto,";
				mes "Maionese. ";
				next;
				mes "[Elly]";
				mes "Eu entrei no médico";
				mes "escritório para vê-la, e ela...";
				mes "Ela não podia fazer nada!";
				mes "O que aconteceria se o";
				mes "fantasma decidiu me amaldiçoar?!";
				next;
				cutin "kh_elly02",2;
				mes "[Elly]";
				mes "Você sabe o que...?";
				mes "Se algum dia eu fosse amaldiçoado";
				mes "por aquele fantasma, apenas grite";
				mes "''^FF0000Acorde, Elly!^000000''";
				mes "Isso vai me acordar com certeza!";
				set KielHyreQuest,24;
				break;
			}
		}
	}
	else if (KielHyreQuest >= 24 && KielHyreQuest <= 26) {
		cutin "kh_elly04",2;
		mes "[Elly]";
		mes "Argh, estou em apuros!";
		mes "Eu tenho que terminar meu";
		mes "lição de casa antes do prazo!";
		mes "Sim, eu tenho que ir ver";
		mes "Sra. Lecollane agora.";
		next;
		mes "[Elly]";
		mes "Dizer,"+strcharinfo(0)+",";
		mes "se estiver tudo bem, você poderia";
		mes "por favor vá encontrar o que é meu";
		mes "vovô partiu para mim em";
		mes "o ^FF0000estudo de casa de campo^000000? ";
		mes "o único em quem posso confiar!";
		next;
		mes "[Elly]";
		mes "De qualquer forma, te vejo mais tarde";
		mes "à noite! ";
		mes "perto do meu ^FF0000dormitório^000000. ";
		mes "dormitórios estão na igreja apenas";
		mes "atrás da academia, ok?";
		next;
		mes "[Elly]";
		mes "Meu quarto fica nos fundos,";
		mes "e fica no ^FF0000segundo andar^000000";
		mes "^FF0000no lado esquerdo^000000. ";
		mes "uma escada para subir, ok?";
		mes "Vou deixar minha janela aberta";
		mes "para você, então venha, ok?";
		next;
		mes "[Elly]";
		mes "Depressa, depressa, o";
		mes "o professor está chegando!";
		set KielHyreQuest,26;
	}
	else {
		mes "[Elly]";
		mes "Depressa, depressa, o";
		mes "o professor está chegando!";
	}
	close2;
	cutin "",255;
	end;
}

//----------------------------------------------------------------------------
// Elly's Window 
//----------------------------------------------------------------------------
yuno_fild08,69,185,0	script	Window#kh	111,{
	if (KielHyreQuest < 29) {
		mes "^3355FFVocê pode ver uma cortina";
		mes "decorado com um lindo";
		mes "projeto através do";
		mes "janela desta sala,";
		mes "o que provavelmente é";
		mes "usado por uma jovem.^000000";
		close;
	}
	else if (KielHyreQuest== 29) {
		mes "^3355FFEste deve ser o quarto da Elly.";
		mes "Não parece ninguém";
		mes "está dentro, então ela provavelmente";
		mes "ainda não voltou. ";
		mes "deveria tentar descobrir o que ela";
		mes "avô partiu para ela";
		mes "no escritório de sua casa.^000000";
		close;
	}
	else if ((KielHyreQuest >= 30) && (KielHyreQuest <= 45)) {
		mes "^3355FFEsta janela ligeiramente aberta";
		mes "deve levar ao quarto de Elly.";
		mes "Embora ela tenha pedido para você";
		mes "encontre uma escada para entrar nela";
		mes "janela, você provavelmente não vai";
		mes "encontre um. ";
		mes "subir naquele cano de água...^000000";
		next;
		switch(select("Suba no cano de água: encontre outro caminho")) {
		case 1:
			if (rand(1,3) == 2) {
				mes "^3355FFVocê subiu o";
				mes "cano de água, e esgueirou-se";
				mes "entrou no quarto de Elly com sucesso.^000000";
				close2;
				warp "kh_school",185,185;
				end;
			}
			else {
				mes "^3355FFVocê tentou escalar";
				mes "o cano de água, mas";
				mes "você acabou caindo";
				mes "e batendo a cabeça.^000000";
				percentheal -10,0;
				close;
			}
		case 2:
			mes "^3355FFDeve haver algum";
			mes "outra maneira de entrar";
			mes "O quarto de Elly, além de";
			mes "subindo neste cano de água...^000000";
			close;

		}
	}
	else {
		mes "^3355FFVocê não pode subir";
		mes "aquela janela aberta.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Elly (In Dormitory)
//----------------------------------------------------------------------------
kh_school,178,180,4	script	Elly	895,{
	if (checkweight(908,200) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "Espaço de inventário primeiro...^000000";
		close;
	}
	if (KielHyreQuest < 30) {
		mes "[Elly]";
		mes "Quem diabos é você?";
		mes "V-você não deveria";
		mes "para poder entrar!";
		mes "Saia daqui agora mesmo!";
		close2;
		percentheal -99,0;
		warp "yuno_fild08",100,100;
		end;
	}
	else if (KielHyreQuest < 32) {
		mes "[Elly]";
		mes "......";
		mes ".........";
		mes "............";
		close;
	}
	else if (KielHyreQuest == 32) {
		mes "[Elly]";
		mes "......";
		mes ".........";
		mes "............";
		next;
		mes "^3355FFElly parece ter";
		mes "foi amaldiçoado e é";
		mes "completamente imóvel e";
		mes "sem vida. ";
		mes "tente alguma coisa, mas o que?^000000";
		next;
		switch(select("Acorde-a sacudindo.:Acorde-a gritando.:Ignore")) {
		case 1:
			mes "^3355FFVocê agarra Elly pelo";
			mes "ombros e tente conseguir";
			mes "ela responder violentamente";
			mes "sacudindo todo o corpo.^000000";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Elly? ";
			mes "Volte para nós!";
			next;
			mes "^3355FFElly não está respondendo...^000000";
			close;
		case 2:
			input .@KHInput$;
			if (.@KHInput$ == "Acorda, Elly!") {
				mes "[Elly]";
				mes ".............";
				next;
				mes "^3355FFAssim que você disse isso";
				mes "palavras, uma ^000000Chave Dourada Pequena^3355FF";
				mes "e uma queda de ^000000Button^3355FF da Elly's";
				mes "mãos. ";
				mes "ativo, mas apenas por um instante.^000000";
				getitem 7493,1; //Golden_Key
				getitem 7494,1; //Kiel_Button
				set KielHyreQuest,34;
				close;
			}
			else {
				mes "[Elly]";
				mes "......";
				mes ".........";
				mes "............";
				next;
				mes "^3355FFElly não está respondendo...^000000";
				close;
			}
		case 3:
			mes "^3355FFTudo bem...";
			mes "Mas mais cedo ou mais tarde,";
			mes "você deveria tentar quebrar";
			mes "a maldição colocada sobre Elly.^000000";
			close;
		}
	}
	else if (KielHyreQuest == 34) {
		if (countitem(7491) < 1) {
			//Missing text, needs another run through.
			mes "^3355FFTalvez a chave de ouro^000000";
			mes "desbloqueia algo no ^ 000000";
			mes "Cabana. ";
			close;
		}
		else {
			mes "^3355FFParece com Elly";
			mes "Chave Dourada pode servir";
			mes "no buraco da fechadura do";
			mes "Caixa Cinza que você encontrou dentro";
			mes "Casa de campo de Kiel Hyre.^000000";
			next;
			mes "^3355FFVocê abriu com sucesso o";
			mes "Caixa Cinza com Chave de Ouro,";
			mes "e encontre um Blue Keycard, junto";
			mes "com uma nota dobrada, dentro do";
			mes "Caixa Cinza. ";
			mes "o conteúdo da nota...^000000";
			next;
			mes "Querida Elly,";
			mes "Kiehl finalmente quebrou o tabu,";
			mes "e tentei transformar vocês";
			mes "em algo horrível.";
			mes "^FFFFFF_^000000";
			mes "No momento em que você ler isso,";
			mes "minha vida provavelmente está em perigo.";
			mes "Se eu viverei depende de você.";
			mes "^FFFFFF_^000000";
			mes "Você já aprenderá se";
			mes "conhecer o Puppet, mas eu quero contar";
			mes "você mesmo: você não é humano.";
			mes "Você aprenderá os detalhes se";
			mes "entre na fábrica usando o";
			mes "entrada perto do túmulo próximo";
			mes "para a Igreja. ";
			mes "você encontrará Allysia dentro";
			mes "a sala secreta da fábrica.";
			mes "Eu registrei seu nome em";
			mes "seu sistema de segurança, então não";
			mes "preocupar. ";
			mes "então venha me salvar...";
			mes "^FFFFFF_^000000";
			mes "Desculpe por isso,";
			mes "Vovô";
			getitem 7495,1; //Blue_Key_Card
			delitem 7491,1; //Iron_Box
			set KielHyreQuest,36;
			close;
		}
	}
	else if (KielHyreQuest >= 36) {
		mes "^3355FFAqui é onde você";
		mes "descobri a nota";
		mes "trancado dentro da Caixa Cinza.";
		mes "A seguinte mensagem foi";
		mes "escrito na nota de Elly";
		mes "avô, Kiel Hyre.^000000";
		next;
		mes "Querida Elly,";
		mes "Kiehl finalmente quebrou o tabu,";
		mes "e tentei transformar vocês";
		mes "em algo horrível.";
		mes "^FFFFFF_^000000";
		mes "No momento em que você ler isso,";
		mes "minha vida provavelmente está em perigo.";
		mes "Se eu viverei depende de você.";
		mes "^FFFFFF_^000000";
		mes "Você já aprenderá se";
		mes "conhecer o Puppet, mas eu quero contar";
		mes "você mesmo: você não é humano.";
		mes "Você aprenderá os detalhes se";
		mes "entre na fábrica usando o";
		mes "entrada perto do túmulo próximo";
		mes "para a Igreja. ";
		mes "você encontrará Allysia dentro";
		mes "a sala secreta da fábrica.";
		mes "Eu registrei seu nome em";
		mes "seu sistema de segurança, então não";
		mes "preocupar. ";
		mes "então venha me salvar...";
		mes "^FFFFFF_^000000";
		mes "Desculpe por isso,";
		mes "Vovô";
		close;
	}
}

//----------------------------------------------------------------------------
// Cookie Basket
//----------------------------------------------------------------------------
kh_school,175,176,0	script	Cookie Basket#kh	111,{
	if (KielHyreQuest < 30) {
		mes "^3355FFÉ um biscoito";
		mes "cesta cheia de";
		mes "biscoitos deliciosos.^000000";
		close;
	}
	else if (KielHyreQuest == 30) {
		mes "^3355FFIsso deve ser";
		mes "Cesta de biscoitos da Elly.";
		mes "Parece haver";
		mes "uma nota dobrada presa";
		mes "entre os cookies.^000000";
		next;
		switch(select("Leia a nota: Ignorar")) {
		case 1:
			mes ""+strcharinfo(0)+", ajuda!";
			mes "Tem um cara vestido";
			mes "negro que está andando por aí,";
			mes "e lançando esse feitiço estranho!";
			mes "Ele é quem está fazendo";
			mes "pessoas frias e sem vida como";
			mes "fantoches! ";
			mes "^FFFFFF_^000000";
			mes "Espero que você receba essa nota...";
			mes "Ele correu atrás de mim, mas eu tranquei";
			mes "eu mesmo no meu quarto. ";
			mes "deixar minha janela aberta para que";
			mes "você ainda pode me encontrar. ";
			mes "não lança sua maldição sobre mim!";
			set KielHyreQuest,32;
			close;
		case 2:
			mes "^3355FFEssa nota provavelmente";
			mes "não foi escrito apenas";
			mes "para você, de qualquer maneira.^000000";
			close;
		}
	}
	else if (KielHyreQuest < 108) {
		mes "^3355FFEsses cookies não são";
		mes "obsoleto ainda, mas eles não são";
		mes "mais quente. ";
		mes "não à temperatura ambiente,";
		mes "então eles ficam um pouco frios.^000000";
		close;
	}
	else if (KielHyreQuest == 108) {
		mes "^3355FFQuando você olha para o";
		mes "cesta de biscoitos, o vento";
		mes "dos empurrões da janela";
		mes "isso, revelando uma carta que";
		mes "foi colocado embaixo.";
		mes "Provavelmente foi escrito";
		mes "de Elly para você ler.^000000";
		next;
		mes "^333333Querido"+strcharinfo(0)+",";
		mes "";
		mes "Meus professores geralmente gritam comigo";
		mes "já que cometo tantos erros,";
		mes "mas hoje a Sra. Lecollane me deu";
		mes "elogios aos meus deliciosos biscoitos!";
		mes "É tudo graças a você, meu amigo.";
		mes "Estou muito feliz por nos conhecermos:";
		mes "você me ensinou isso aí";
		mes "são boas pessoas no mundo.";
		mes "E eu sei que o vovô vai gostar";
		mes "você, porém, eu não sei";
		mes "onde ele poderia estar...";
		mes "";
		mes "Algum dia, espero me tornar";
		mes "uma pessoa tão legal quanto você.";
		mes "Vamos manter contato e ser";
		mes "realmente bons amigos, ok?";
		mes "";
		mes "Atenciosamente, Elly^000000";
		next;
		mes "^3355FFParece que você pode";
		mes "ainda sinto o calor de Elly";
		mes "e gentileza dela";
		mes "cesta de biscoitos. ";
		mes "pegue um biscoito e coloque-o";
		mes "na sua boca. ";
		mes "deliciosamente agridoce.";
		set KielHyreQuest,109;
		next;
		input .@input$;
		mes "["+strcharinfo(0)+"]";
		mes ""+.@input$+"";
		mes "É hora de voltar. ";
		mes "fique aqui por muito mais tempo.";
		close2;
		warp "yuno_fild08",69,183;
		end;
	}
	else {
		mes "^3355FFTodos os cookies";
		mes "nesta cesta estão";
		mes "obsoleto! ";
		mes "venha como uma surpresa.";
		mes "Já faz muito tempo";
		mes "desde que foram assados.^000000";
		close;
	}
	end;
}

//----------------------------------------------------------------------------
// Elly's Window (In Dormitory)
//----------------------------------------------------------------------------
kh_school,188,185,0	script	Window#kh2	111,{
	warp "yuno_fild08",69,183;
	end;
}

//----------------------------------------------------------------------------
// Grave/Kiel Hyre dungeon entry
//----------------------------------------------------------------------------
yuno_fild08,71,170,0	script	Grave#kh	111,{
	if (KielHyreQuest < 36) {
		mes "^3355FFÉ apenas um túmulo.";
		mes "Pode ser importante";
		mes "para você mais tarde, mas agora";
		mes "não é realmente tudo isso";
		mes "útil para você.^000000";
		close;
	}
	else if (KielHyreQuest == 36) {
		if (countitem(7492) < 1) {
			mes "^3355FFÉ apenas um túmulo.";
			mes "Pode ser importante";
			mes "para você mais tarde, mas agora";
			mes "não é realmente tudo isso";
			mes "útil para você.^000000";
			close;
		}
		else {
			mes "^3355FFHá uma porta secreta";
			mes "perto deste túmulo. ";
			mes "como se houvesse algum tipo de";
			mes "slot e um teclado numérico";
			mes "instalado na porta.^000000";
			next;
			mes "^3355FFO que você deveria";
			mes "inserir no slot?^000000";
			next;
			input .@KHInput$;
			if (.@KHInput$ == "Cartão amarelo") {
				mes "^3355FFUma confirmação eletrônica";
				mes "o sinal sonoro soa quando você insere";
				mes "o cartão-chave amarelo, seguido por";
				mes "uma voz automática que pergunta:^000000";
				next;
				mes "[Sistema de segurança]";
				mes "Por favor insira a senha.";
				next;
				input .@KHInput$;
				next;
				if (.@KHInput$ == "4772961") {
					mes "[Sistema de segurança]";
					mes "Senha confirmada.";
					mes "Bem-vindo, Kiel Hyre.";
					next;
					mes "^3355FFVocê ouve outro";
					mes "bip agradável e";
					mes "um caminho secreto é aberto.^000000";
					set KielHyreQuest,38;
					close;
				}
				else {
					mes "[Sistema de segurança]";
					mes "Senha incorreta.";
					mes "Por favor, tente novamente.";
					close;
				}
			}
			else {
				mes "^3355FFTudo o que você está tentando";
				mes "para inserir no slot";
				mes "não está funcionando...^000000";
				close;
			}
		}
	}
	else if ((KielHyreQuest >= 38) && (KielHyreQuest < 106)) {
		mes "^3355FFA porta para o";
		mes "a fábrica está totalmente aberta.^000000";
		next;
		switch(select("Digite: Cancelar")) {
		case 1:
			warp "kh_dun01",3,230;
			end;
		case 2:
			mes "......";
			mes ".........";
			mes "............";
			close;
		}
	}

	else if (KielHyreQuest >= 106) {
		if (countitem(7509) < 1) {
			mes "^3355FFA entrada secreta";
			mes "agora foi selado.^000000";
			close;
		}
		else {
			mes "Ao se aproximar do";
			mes "sepultura, começa a";
			mes "emite flashes de luz.^000000";
			next;
			switch(select("Use o ^0000FFCartão-chave Luxuoso^000000:Ignorar")) {
			case 1:
				mes "Depois de usar o";
				mes "Cartão-chave luxuoso,";
				mes "um caminho secreto se abre^000000";
				next;
				switch(select("Digite: cancelar")) {
				case 1:
					warp "kh_dun01",3,230;
					end;
				case 2:
					mes "......";
					mes ".........";
					mes "............";
					close;
				}
			case 2:
				mes "......";
				mes ".........";
				mes "............";
				close;
			}
		}
	}
}

//============================================================================
//Kiel Hyre Cottage NPCs
//============================================================================

//----------------------------------------------------------------------------
// Cottage Keeper
//----------------------------------------------------------------------------
yuno_fild02,93,210,4	script	Cottage Keeper#kh	85,{
	if ((KielHyreQuest < 12) || (KielHyreQuest > 12)) {
		mes "[Guardião da Casa de Campo]";
		mes "Isto é propriedade privada,";
		mes "então por favor não insira isso";
		mes "área, a menos que você esteja autorizado.";
		close;
	}
	else if (KielHyreQuest == 12) {
		mes "[Guardião da Casa de Campo]";
		mes "Isto é propriedade privada,";
		mes "então por favor não insira isso";
		mes "área, a menos que você esteja autorizado.";
		next;
		switch(select("Tenho um encontro marcado com Kiel Hyre.:Tudo bem.")) {
		case 1:
			mes "[Guardião da Casa de Campo]";
			mes "Você tem um";
			mes "compromisso com";
			mes "Mestre Kiel Hyre?";
			mes "Hum, você tem certeza?";
			next;
			switch(select("Sim não")) {
			case 1:
				mes "[Guardião da Casa de Campo]";
				mes "Deve haver algum tipo";
				mes "de erro. ";
				mes "não teria ido embora se ele";
				mes "era para manter";
				mes "um compromisso...";
				set KielHyreQuest,14;
				close;
			case 2:
				mes "[Guardião da Casa de Campo]";
				mes "Bem, a menos que você tenha";
				mes "uma consulta, eu não";
				mes "acho que você será capaz";
				mes "encontrar-se com o senhor Hyre.";
				close;
			}
		case 2:
			mes "[Guardião da Casa de Campo]";
			mes "Adeus.";
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Cottage Door (left)
//----------------------------------------------------------------------------
yuno_fild02,75,218,0	script	Door#kh2	111,{
	if (KielHyreQuest < 16) {
		mes "^3355FFEsta porta está trancada.";
		mes "Se alguém lá dentro não quiser";
		mes "abra-o para você, então você";
		mes "precisa da chave certa para desbloqueá-lo.";
		close;
	}
	if (KielHyreQuest == 16) {
		mes "^3355FFEsta porta está trancada.";
		mes "Se alguém lá dentro não quiser";
		mes "abra-o para você, então você";
		mes "precisa da chave certa para desbloqueá-lo.";
		next;
		switch(select("Desbloquear: Cancelar")) {
		case 1:
			mes "^3355FFVocê destranca a porta com o";
			mes "chave que Elly lhe deu, e";
			mes "conforme você o abre, um dobrado";
			mes "nota caiu do topo do";
			mes "porta. ";
			mes "estão escritos nesta nota grosseira.";
			next;
			mes "6 para frente,";
			mes "faltam 3,";
			mes "3 para frente,";
			mes "4 Esquerda";
			close2;
			set KielHyreQuest,18;
			warp "kh_vila",188,18;
			end;
		case 2:
			mes "......";
			mes ".........";
			mes "............";
			close;
		}
	}
	else {
		mes "^3355FFA porta está aberta.^000000";
		next;
		switch(select("Digite: Cancelar")) {
		case 1:
			warp "kh_vila",188,18;
			end;
		case 2:
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Cottage Door (Right)
//----------------------------------------------------------------------------
yuno_fild02,109,218,0	script	Door#kh1	111,{
	if (KielHyreQuest != 16) {
		mes "^3355FFEsta porta está trancada.";
		mes "Se alguém lá dentro não quiser";
		mes "abra-o para você, então você";
		mes "precisa da chave certa para desbloqueá-lo.";
		close;
	}
	if (KielHyreQuest == 16) {
		mes "^3355FFEsta porta está trancada.";
		mes "Se alguém lá dentro não quiser";
		mes "abra-o para você, então você";
		mes "precisa da chave certa para desbloqueá-lo.";
		next;
		switch(select("Abrir: Cancelar")) {
		case 1:
			mes "^3355FFVocê não tem";
			mes "a chave que pode";
			mes "destranque esta porta.^000000";
			close;
		case 2:
			mes "......";
			mes ".........";
			mes "............";
			close;
		}
	}
}


//----------------------------------------------------------------------------
// Store room interior; Wall
//----------------------------------------------------------------------------
kh_vila,191,14,0	script	Wall#kh	139,1,1,{
	if (KielHyreQuest < 28) {
		mes "^3355FFÉ apenas uma parede.";
		mes "Não é particularmente";
		mes "ficando no seu caminho.^000000";
		close;
	}
	if (KielHyreQuest >= 28) {
		mes "^3355FFA parede agora é";
		mes "aberto, revelador";
		mes "um caminho secreto.^000000";
		next;
		switch(select("Digite: Cancelar")) {
		case 1:
			warp "kh_vila",17,177;
			end;
		case 2:
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Store room interior; books
//----------------------------------------------------------------------------
kh_vila,184,20,0	script	Book#kh1::BookKHQ1	111,{
	if (KielHyreQuest != 26) {
		mes "^3355FFEsta estante é^000000";
		mes "^3355FFcheio de muitos^000000";
		mes "^3355FFLivros grandes de capa dura^000000";
		close;
	}
	else if (KielHyreQuest == 26) {
		if (rand(1,10) == 8) {
			mes "^3355FFSem pensar, você";
			mes "pegar um livro de";
			mes "a estante de livros. ";
			mes "puxe-o em sua direção, o";
			mes "slides de parede abrem";
			mes "para revelar um caminho secreto.^000000";
			set KielHyreQuest,28;
			specialeffect EF_READYPORTAL2,AREA,"Wall#kh";
			close;
		}
		else {
			mes "^3355FFEsta estante é";
			mes "abarrotado de muitos";
			mes "livros grandes de capa dura.^000000";
			close;
		}

	}

}
kh_vila,181,20,0	duplicate(BookKHQ1)	Book#kh2	111
kh_vila,178,20,0	duplicate(BookKHQ1)	Book#kh3	111
kh_vila,175,19,0	duplicate(BookKHQ1)	Book#kh4	111

//----------------------------------------------------------------------------
// Store room interior; Letter to Elly on the floor.
//----------------------------------------------------------------------------
kh_vila,179,11,0	script	Letter#kh	-1,1,1,{
OnTouch:
	if (KielHyreQuest == 18) {
		if (checkweight(7490,1) == 0) {
			mes "^3355FFSó um minuto...!";
			mes "Há algo acontecendo";
			mes "o chão aqui, mas você";
			mes "não posso pegá-lo desde";
			mes "você está carregando também";
			mes "muitos itens agora.^000000";
			close;
		}
		mes "^3355FFVocê encontrou uma carta";
		mes "no chão. ";
		mes "você pega, apesar";
		mes "o fato de que não é";
		mes "endereçado a você.^000000";
		getitem 7490,1; //Kyll_Hire_Letter
		set KielHyreQuest,20;
		close;
	} 
	else{
		mes "^3355FFVocê entrou na sala.^000000";
		close;
	}
	end; 
}

//----------------------------------------------------------------------------
// Cottage interior, kitchen; Box (Pet Food vending machine)
//----------------------------------------------------------------------------
kh_vila,16,175,0	script	Box#khp1	111,{
	mes "^FFFFFF";
	mes "* Máquina de venda automática de Pet Doof fofa *";
	mes "A melhor comida para seus bichinhos fofos";
	mes "que é superior ao Pet Food";
	mes "você pode comprar no mercado!";
	mes "^FFFFFF_^000000";
	mes "Preço: 1.100 zeny (barato!)";
	next;
	switch(select("Comprar!:Cancelar")) {
	case 1:
		if (Zeny < 1100) {
			mes "^3355FFInfelizmente, você";
			mes "não tenho o suficiente";
			mes "zeny para inserir";
			mes "a máquina de venda automática.^000000";
			close;
		}
		else {
			mes "^3355FFAh, não...!^000000";
			mes "^3355FF1.100 zeny parece gentil";
			mes "de caro para alimentos para animais de estimação,";
			mes "mas se for melhor que o";
			mes "coisas normais, pode";
			mes "vale a pena tentar.^000000";
			next;
			mes "^3355FFAh, não...!";
			mes "Não há nada";
			mes "especial sobre isso";
			mes "de forma alguma! ";
			mes "Comida normal para animais de estimação!";
			set Zeny, Zeny-1100;
			getitem 537,1;	//Pet_Food
			close;
		}
	case 2:
		mes "^3355FFEsta máquina de venda automática";
		mes "parece muito sombrio e";
		mes "suspeito por algum motivo.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, kitchen; Apple Box (Useless?)
//----------------------------------------------------------------------------
kh_vila,30,184,0	script	Apple Box#khp1	111,{
	mes "^3355FFVocê encontra uma caixa cheia de";
	mes "maçãs maduras e deliciosas.^000000";
	next;
	switch(select("Pegue a caixa: deixe-a")) {
	case 1:
		mes "^3355FFNão...! ";
		mes "Algo está errado!";
		mes "O que quer que você faça,";
		mes "não leve esta caixa!^000000";
		next;
		mes "^3355FFE então, seu interior";
		mes "voz, seu junguiano";
		mes "sombra se você quiser,";
		mes "te impediu de";
		mes "pegando a caixa.^000000";
		close;
	case 2: 
		mes "^3355FFAlgo está errado";
		mes "com esta caixa de maçãs.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, dining room; Map
//----------------------------------------------------------------------------
kh_vila,44,126,0	script	Map#khp1	111,{
	if ((KHCottagePoem1 < 2) && (KielHyreQuest < 30)) {
		mes "^3355FFA magnífico mapa mundial,";
		mes "detalhando Rune-Midgarts";
		mes "Reino, República de Schwarzwald,";
		mes "bem como outro país para o";
		mes "oeste cujo nome não é familiar";
		mes "para você, está colado nesta parede.^000000";
		next;
		mes "^3355FFAo examinar o";
		mes "mapa mundial mais de perto,";
		mes "você descobre que algo tem";
		mes "foi escondido embaixo dele. ^ 000000";
		switch(select("Ignorar:Examinar")) {
		case 1:
			mes "^3355FFO que quer que seja";
			mes "escondido abaixo disso";
			mes "mapa provavelmente não é";
			mes "importante o suficiente para";
			mes "você investigue.^000000";
			close;
		case 2:
			mes "^3355FFInfelizmente, você não pode";
			mes "veja o que está embaixo do mapa";
			mes "já que está colado na parede.";
			mes "Você precisará encontrar alguns";
			mes "maneira de soltar a cola";
			mes "sem danificar o mapa...^000000";
			set KHCottagePoem1,1;
			close;
		}
	}
	else  if ((KHCottagePoem1 == 2) && (KielHyreQuest < 30)) {
		mes "^3355FFVocê traz o pote de";
		mes "líquido fumegante";
		mes "perto do mapa mundial.";
		mes "Como a pasta na parede";
		mes "umedece, o mapa lentamente";
		mes "começa a descascar.^000000";
		next;
		mes "^3355FFO mapa de descascamento revela";
		mes "um pedaço de papel dobrado";
		mes "escondido abaixo dele. ";
		mes "pegue o papel e alise";
		mes "o mapa para aderi-lo ao";
		mes "parede mais uma vez. ";
		mes "escrito no pedaço de papel.^000000";
		next;
		mes "^0000FFEla estará em um lugar";
		mes "tão frio quanto os pólos.";
		mes "Quando o poço estiver seco";
		mes "e a terra está rachada,";
		mes "o caminho para seu coração, um";
		mes "coração tão transparente quanto";
		mes "cristal, estará aberto.^000000";
		next;
		mes "^3355FFI terá que lutar contra quatro";
		mes "cobras com quatro espadas";
		mes "para encontrá-la. ";
		mes "é amor. ";
		mes "é o desespero. ";
		mes "é raiva. ";
		mes "ter esperança. ";
		next;
		mes "^3355FF...............................";
		mes "O significado mais profundo";
		mes "deste poema, se é que";
		mes "existe, escapa de você.^000000";
		set KHCottagePoem1,3;
		close;
	}
	else  if ((KHCottagePoem1 > 2) || (KielHyreQuest >= 30)) {
		mes "^3355FFEste é onde você encontrou";
		mes "o papel em que o";
		mes "poema foi escrito. ";
		mes "seria uma boa ideia";
		mes "refresque sua memória e";
		mes "leia aquele poema novamente.^000000";
		next;
		switch(select("Leia:Cancelar")) {
		case 1:
			mes "^0000FFEla estará em um lugar";
			mes "tão frio quanto os pólos.";
			mes "Quando o poço estiver seco";
			mes "e a terra está rachada,";
			mes "o caminho para seu coração, um";
			mes "coração tão transparente quanto";
			mes "cristal, estará aberto.^000000";
			next;
			mes "^3355FFI terá que lutar contra quatro";
			mes "cobras com quatro espadas";
			mes "para encontrá-la. ";
			mes "é amor. ";
			mes "é o desespero. ";
			mes "é raiva. ";
			mes "ter esperança. ";
			next;
			mes "^3355FF...............................";
			mes "O significado mais profundo";
			mes "deste poema, se é que";
			mes "existe, escapa de você.^000000";
			close;
		case 2:
			mes "^3355FFNão há necessidade de";
			mes "você releia este poema.";
			mes "Você é um gênio incrível!^000000";
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Cottage interior, kitchen; Pot
//----------------------------------------------------------------------------
kh_vila,33,184,0	script	Pot#khp1	111,{
	if (KHCottagePoem1 < 1) {
		mes "^3355FFVocê encontrou um pote";
		mes "cheio de fervura,";
		mes "líquido fumegante.^000000";
		close;
	}
	else if (KHCottagePoem1 == 1) {
		mes "^3355FFVocê encontrou um pote";
		mes "cheio de fervura,";
		mes "líquido fumegante.";
		mes "Vapor... Que você poderia";
		mes "use para soltar a cola";
		mes "o mapa... Você é um gênio!^000000";
		next;
		switch(select("Experimente.:Isso? ")) {
		case 1:
			mes "^3355FFVocê pegou o";
			mes "panela fervendo, mas";
			mes "queimou levemente seu";
			mes "mãos por acidente.";
			set KHCottagePoem1,2;
			close;

		case 2:
			mes "^3355FFNão, não...";
			mes "É melhor tentarmos";
			mes "outra coisa.^000000";
			close;
		}
	}
	else if ((KHCottagePoem1 > 1) || (KielHyreQuest >= 30)){
		mes "^3355FFAqui é onde você";
		mes "peguei o pote cheio";
		mes "com líquido fumegante.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, fire place; Calabash
//----------------------------------------------------------------------------
kh_vila,14,55,0	script	Calabash#khp1	111,{
	if ((countitem(7329) < 1) && (countitem(7516) < 1) && (countitem(7491) < 1) && (KielHyreQuest < 38)) {
		if (checkweight(7329,1) == 0) {
			mes "^3355FFEssa é uma bela aparência";
			mes "cabaça. ";
			mes "tirar alguma coisa disso...";
			mes "Mas primeiro é melhor você pegar";
			mes "livrar-se de todo o seu peso extra.";
			mes "E por peso, quero dizer itens.^000000";
			close;
		}
		mes "^3355FFÉ caro";
		mes "olhando cabaça--";
		mes "ou em menos sofisticado";
		mes "palavras, uma '' cabaça''.";
		mes "Você faria?^000000";
		next;
		switch(select("Quebre a Calabash:Olhe Dentro da Calabash:Ignore")) {
		case 1:
			mes "^3355FFVocê não pode quebrar";
			mes "abra essa cabaça...";
			mes "Você é um herói, não um vândalo.";
			mes "Agora, se este ato de vandalismo";
			mes "pode ser considerado um ato de";
			mes "heroísmo, então estaria tudo bem.^000000";
			close;
		case 2:
			mes "^3355FFVocê coloca com ternura";
			mes "sua mão no";
			mes "cabaça e delicadamente";
			mes "sinta-se com o seu";
			mes "dedos até recuperar";
			mes "uma chave de bronze antiga.^000000";
			getitem 7329,1; //Old_Bronze_Key
			close;
		case 3:
			mes "^3355FFProvavelmente há";
			mes "de qualquer maneira, nada dentro. ^ 000000";
			close;
		}
	}
	else {
		mes "^3355FFEste é o caro";
		mes "olhando cabaça de";
		mes "que você obteve";
		mes "a Antiga Chave de Bronze.";
		mes "É inútil para você agora.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, garden; Pool
//----------------------------------------------------------------------------
kh_vila,39,41,0	script	Pool#khp1	111,{
	if ((KHCottagePoem1 < 3) && (KielHyreQuest < 30)) {
		mes "^3355FFVocê encontra uma piscina chique";
		mes "cheio de água doce.^000000";
		close;
	}
	else if ((KHCottagePoem1 == 3) && (KielHyreQuest < 30)) {
		mes "^3355FFVocê encontra uma piscina chique";
		mes "cheio de água doce,";
		mes "juntamente com um visível";
		mes "estátua de leão com duas alças.^000000";
		next;
		switch(select("Puxadores: cancelar")) {
		case 1:
			mes "Qual alça seria";
			mes "você gosta de puxar primeiro?";
			next;
			switch(select("Alça direita: alça esquerda")) {
			case 1:
				mes "^3355FFVocê puxa para a direita";
				mes "alça, causando água";
				mes "jorrar do leão";
				mes "boca. ";
				close;
			case 2:
				mes "^3355FFAssim que você puxar o";
				mes "alça esquerda, a água em";
				mes "a piscina escoa. ";
				mes "piscina esvazia, e você pode";
				mes "veja uma camada de musgo verde";
				mes "cobrindo o fundo da piscina.^000000";
				next;
				switch(select("Ignorar:Investigar")) {
				case 1:
					mes "^3355FFVocê decide isso";
					mes "uma piscina é pouco mais";
					mes "do que um buraco sem";
					mes "qualquer água para enchê-lo.^000000";
					close;
				case 2:
					mes "^3355FFComo você olha";
					mes "o musgo molhado no";
					mes "fundo da piscina,";
					mes "você tropeça em um";
					mes "botão pequeno e peculiar.^000000";
					next;
					switch(select("Pressione o botão: não pressione o botão")) {
					case 1:
						mes "^3355FFVocê pressiona o botão,";
						mes "que parece desencadear";
						mes "um som estranho vindo";
						mes "das escadas no corredor.^000000";
						set KHCottagePoem1,4;
						close;
					case 2:
						mes "^3355FFÉ melhor você não forçar";
						mes "este botão. ";
						mes "deve ter escondido com cuidado";
						mes "para você encontrar: deve ser";
						mes "algum tipo de armadilha nefasta.^000000";
						close;
					}
				}
			}
		case 2:
			mes "^3355FFVocê decidiu não";
			mes "para puxar qualquer alça.^000000";
			close;
		}
	}
	else if ((KHCottagePoem1 > 3) || (KielHyreQuest >= 30)) {
		mes "^3355FFAqui é onde você pressionou";
		mes "o pequeno botão que causou";
		mes "algum som estranho por vir";
		mes "das escadas perto do corredor.";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Vicious Dog
//----------------------------------------------------------------------------
kh_vila,181,178,4	script	Vicious Dog#khp1	81,7,3,{
OnTouch:
	mes "*Grr~*";
	next;
	mes "^3355FFUm extremamente cruel";
	mes "olhando o cachorro está olhando";
	mes "para você. ";
	mes "passe por esta criatura";
	mes "sem se machucar?^000000";
	next;
	switch(select("Março em frente:Fuja")) {
	case 1:
		if (countitem(537) >= 1) {
			mes "^3355FFEspere! ";
			mes "use comida para acalmar o";
			mes "besta selvagem. ";
			mes "você alimenta um pouco do seu animal de estimação";
			mes "Coma e veja o que acontece?^000000";
			next;
			switch(select("Dê comida para animais de estimação:Não vai funcionar!")) {
			case 1:
				mes "^3355FFVocê joga o";
				mes "Pet Food para o cachorro.";
				mes "Sua cauda balança violentamente enquanto";
				mes "ele devora a comida. ";
				mes "é melhor passar esse cachorro agora";
				mes "enquanto você tem chance!^000000";
				delitem 537,1; //Pet_Food
				close2;
				warp "kh_vila",173,182;
				end;
			case 2:
				break;
			}
		}
		mes "^3355FFVocê se aproxima lentamente";
		mes "o cachorro, mas não vai";
		mes "pare de rosnar para você.";
		mes "Você tenta passar correndo";
		mes "cachorro, mas bloqueia todos";
		mes "seus movimentos. ";
		next;
		mes "[Cão Vicioso]";
		mes "ARCO UAU!";
		mes "ARCO UAU!";
		mes "ARCO UAU UAU!";
		next;
		mes "^3355FFO cachorro perseguiu você";
		mes "lá embaixo como o";
		mes "idiota, você é. ^ 000000";
		close2;
		warp "kh_vila",126,70;
		end;
	case 2:
		mes "^3355FFVamos sair daqui!^000000";
		close2;
		warp "kh_vila",126,70;
		end;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Drawer, first room nightstand
//----------------------------------------------------------------------------
kh_vila,115,186,0	script	Drawer#khp1	111,{
	if (checkweight(7492,1) == 0) {
		mes "^3355FFHá algo dentro";
		mes "esta gaveta, mas você não pode";
		mes "pegue já que você está carregando";
		mes "para muitos itens com você. ";
		mes "você deve fazer uma visita ao seu";
		mes "Armazenamento Kafra confiável primeiro.^000000";
		close;
	}
	if ((countitem(7492) < 1) && (KielHyreQuest <= 36)) {
		mes "^3355FFVocê encontra uma gaveta velha";
		mes "^ que foi fechado.";
		mes "^Se você abri-lo, então você";
		mes "^pode encontrar algo";
		mes "^dentro. ";
		mes "^vazio. ";
		next;
		switch(select("Abrir gaveta: ignorar")) {
		case 1:
			mes "^3355FFVocê obtém um Amarelo";
			mes "Cartão-chave de dentro do";
			mes "gaveta. ";
			mes "acabou valendo a pena.^000000";
			getitem 7492,1; //Yellow_Key_Card
			close;
		case 2:
			mes "^3355FFEsqueça de abrir isso";
			mes "gaveta. ";
			mes "qual seria o objetivo?^000000";
			close;
		}
	}
	else {
		mes "^3355FFAqui é onde você";
		mes "encontrou o cartão-chave amarelo.";
		mes "Esta gaveta agora está vazia.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Box
//----------------------------------------------------------------------------
kh_vila,107,126,0	script	Box#khp2	111,{
	if ((countitem(7329) < 1) && (countitem(7516) < 1) && (countitem(7491) < 1) && (KielHyreQuest < 38)) {
		mes "^3355FFA caixa sólida é colocada";
		mes "no chão em que";
		mes "uma caixa menor e trancada";
		mes "foi colocado dentro.^000000";
		close;
	}
	else if ((countitem(7329) >= 1) && (countitem(7516) < 1) && (countitem(7491) < 1) && (KielHyreQuest < 38)) {
		mes "^3355FFA caixa sólida é colocada";
		mes "no chão em que";
		mes "uma caixa menor e trancada";
		mes "foi colocado dentro.";
		mes "Talvez você possa usar seu";
		mes "Chave de Bronze Antiga para desbloqueá-lo.^000000";
		next;
		switch(select("Use Old Bronze Key:Não, nunca funcionará.")) {
		case 1:
			mes "^3355FFSeu palpite valeu a pena!";
			mes "A Velha Chave de Bronze realmente";
			mes "desbloqueou aquela caixa! ";
			mes "abra a caixa interna e";
			mes "obter o Cartão Verde";
			mes "que estava trancado lá dentro.";
			getitem 7516,1; //Green_Key_Card
			delitem 7329,1; //Old_Bronze_Key
			close;
		case 2:
			mes "^3355FFO que...?";
			mes "O que? ";
			mes "desbloquear uma fechadura?";
			mes "Vamos, isso é";
			mes "conversa maluca!^000000";
			close;
		}
	}
	else {
		mes "^3355FFEsta é a caixa de";
		mes "que você obteve";
		mes "o cartão verde.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Bookshelf.
//----------------------------------------------------------------------------
kh_vila,181,138,0	script	Bookshelf#khp1	111,{
	if ((countitem(7491) < 1) && (countitem(7329) >= 1) || (countitem(7516) >= 1)) {
		mes "^3355FFUm dos livros sobre";
		mes "esta estante abarrotada";
		mes "é rotulado com a nota,";
		mes "''Para Elly.'' Deve ter sido";
		mes "deixada para trás por seu avô.^000000";
		next;
		switch(select("Examinar Livro:Ignorar")) {
		case 1:
			mes "^3355FFVocê folheia o";
			mes "páginas do livro, e não";
			mes "encontrar algo em particular";
			mes "interessante. ";
			mes "observe uma superfície de aço atrás do";
			mes "prateleira enquanto você coloca o livro de volta.^000000";
			next;
			switch(select("Examine a superfície do aço: Ignorar")) {
			case 1:
				mes "^3355FFVocê remove mais do";
				mes "livros da estante para revelar";
				mes "que a superfície do aço é";
				mes "parte de um cofre escondido atrás";
				mes "a estante de livros. ";
				mes "buracos de fechadura no cofre de aço.^000000";
				next;
				switch(select("Experimente todas as suas chaves: Cancelar")) {
				case 1:
					mes "^3355FFQual chave será";
					mes "você insere em";
					mes "o primeiro buraco da fechadura?^000000";
					next;
					if (countitem(7329) >= 1) {
						select("Chave de Bronze Antiga:Chave da Casa");
						mes "^3355FFQual chave será";
						mes "você insere em";
						mes "o segundo buraco da fechadura?^000000";
						next;
						select("Chave de Bronze Antiga:Chave da Casa");
					}
					else if (countitem(7516) >= 1) {
						switch(select("Cartão verde: chave da casa de campo")) {
						case 1:
							set .@KHFirstKeyhole,1;
							break;
						case 2:
							set .@KHFirstKeyhole,2;
							break;
						}
						mes "^3355FFQual chave será";
						mes "você insere em";
						mes "o segundo buraco da fechadura?^000000";
						next;
						switch(select("Cartão verde: chave da casa de campo")) {
						case 1:
							set .@KHSecondKeyhole,1;
							break;

						case 2:
							set .@KHSecondKeyhole,2;
							break;

						}
						if (.@KHFirstKeyhole == 2) && (.@KHSecondKeyhole == 1) {
							mes "^3355FFO cofre abre com";
							mes "um clique e você verá";
							mes "uma caixa cinza dentro.";
							mes "Você pega a Caixa Cinza";
							mes "com você, esperando que isso";
							mes "será útil mais tarde.^000000";
							delitem 7489,1; //Villa_Spare_Key
							delitem 7516,1; //Green_Key_Card
							getitem 7491,1; //Iron_Box
							close;
						}

					}
					mes "^3355FFO cofre não abre.^000000";
					close;
				case 2:
					mes "^3355FFProvavelmente é melhor";
					mes "ideia de investigar o";
					mes "casa de campo pelas chaves que";
					mes "abrirá este cofre...^000000";
					close;
				}
			case 2:
				mes "^3355FFVocê coloca os livros";
				mes "de volta à estante.^000000";
				close;
			}
		case 2:
			mes "^3355FFVocê provavelmente pode";
			mes "encontre pistas melhores";
			mes "Em outro lugar";
			mes "por aqui.^000000";
			close;
		}
	}
	else {
		mes "^3355FFVocê encontrou um";
		mes "estante isso é";
		mes "abarrotado de livros.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Desk
//----------------------------------------------------------------------------
kh_vila,118,144,0	script	Desk#khp1	111,{
	if (KHCottagePoem2 < 1) {
		mes "^3355FFHá pilhas de papéis";
		mes "e livros empilhados em cima";
		mes "da mesa cobrindo tópicos";
		mes "como poder artificial, Sage";
		mes "Pesquisa de Varmundt, fábrica";
		mes "robotização e pergaminhos mágicos...^000000";
		next;
		mes "^3355FFEnquanto vasculha";
		mes "os livros e papéis, você";
		mes "encontre um pedaço de papel com";
		mes "da Fundação Kiel Hyre";
		mes "selo oficial. ";
		mes "pode ser útil algum dia.^000000";
		next;
		mes "^3355FFVocê obteve";
		mes "um pedaço em branco de";
		mes "papel com o Kiel";
		mes "Selo da Fundação Hyre.^000000";
		set KHCottagePoem2,1;
		close;
	}
	else if (KHCottagePoem2 >= 1) {
		mes "^3355FFHá pilhas de papéis";
		mes "e livros, cobrindo vários";
		mes "tópicos científicos e mágicos,";
		mes "empilhados em cima desta mesa.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Medicine Chest
//----------------------------------------------------------------------------
kh_vila,123,170,0	script	Medicine Chest#khp1	111,{
	if ((KHCottagePoem2 < 1) && (KielHyreQuest < 30)) {
		mes "^3355FFEste armário de remédios";
		mes "está cheio de garrafas de";
		mes "várias cores. ";
		mes "de medicina pode ser encontrada aqui?^000000";
		close;
	}
	else if ((KHCottagePoem2 == 1) && (KielHyreQuest < 30)) {
		mes "^3355FFEste armário de remédios";
		mes "está cheio de garrafas de";
		mes "várias cores. ";
		mes "de medicina pode ser encontrada aqui?^000000";
		next;
		mes "^3355FFEspere, você tem uma peça em branco";
		mes "de papel com o Kiel Hyre";
		mes "Selo de fundação! ";
		mes "que o selo foi colocado em um espaço em branco";
		mes "pedaço de papel. ";
		mes "está escrito nele com tinta especial?^000000";
		next;
		mes "^3355FFÉ um palpite maluco, mas";
		mes "talvez, apenas talvez, você possa";
		mes "use algo dentro disso";
		mes "armário de remédios que vai";
		mes "revelar qualquer tinta invisível";
		mes "escrito neste documento!^000000";
		next;
		switch(select("O que? ")) {
		case 1:
			mes "^3355FFDesculpe.";
			mes "eu pensei nisso";
			mes "foi uma boa ideia...^000000";
			close;
		case 2:
			switch(select("Experimente o líquido vermelho:Experimente o líquido azul:Experimente o líquido amarelo:Experimente o líquido verde:Cancelar")) {
			case 1:
				set .@KHPotionColor$,"vermelho";
				break;
			case 2:
				mes "^3355FFFunciona!";
				mes "O líquido azul é";
				mes "revelando pequeno texto";
				mes "escrito no papel.";
				mes "Parece que alguns";
				mes "tipo de poema longo...^000000";
				next;
				mes "[Poema]";
				mes "A primeira cobra é feita de";
				mes "aço, mas usei minha raiva";
				mes "para destruí-lo. ";
				mes "cobra é feita de magia,";
				mes "mas meu amor perfurou seu coração.";
				next;
				mes "[Poema]";
				mes "A terceira cobra é carne";
				mes "e sangue, mas minha esperança";
				mes "derrotou-o no final.";
				mes "No entanto, o quarto e";
				mes "a cobra final não tem forma, e";
				mes "ninguém conhece sua aparência.";
				next;
				mes "[Poema]";
				mes "Lancei meu desespero ao ar,";
				mes "mas ninguém sabe se matou";
				mes "a cobra. ";
				mes "diabo perdido ^ 000000 com quatro espadas e";
				mes "quatro cobras, procurando por isso";
				mes "garota na escuridão.";
				next;
				mes "^3355FFIsso é muito";
				mes "poema estranho. ";
				mes "isso poderia significar?^000000";
				set KHCottagePoem2,2;
				close;
			case 3:
				set .@KHPotionColor$,"amarelo";
				break;
			case 4:
				set .@KHPotionColor$,"verde";
				break;
			case 5:
				mes "^ 3355FF Não importa.";
				mes "Essa ideia parece";
				mes "muito louco para trabalhar...";
				mes "como colocar um homem";
				mes "na Lua. ";
				mes "acredita nessa besteira?^000000";
				close;
			}
			mes "^3355FFVocê tentou polvilhar";
			mes "o"+.@KHPotionColor$+"líquido do";
			mes "armário de remédios em";
			mes "o papel em branco com o";
			mes "Selo da Fundação Kiel Hyre.";
			mes "No entanto, nada aconteceu...^000000";
			close;
		}
	}
	else if ((KHCottagePoem2 >= 2) || (KielHyreQuest >= 30)) {
		mes "^3355FFAqui é onde você derramou";
		mes "algum líquido azul para ler";
		mes "um poema escrito em invisível";
		mes "tinta no pedaço de papel em branco";
		mes "com a Fundação Kiel Hyre";
		mes "selo. ";
		next;
		switch(select("Não há tempo!:Leia")) {
		case 1:
			mes "^3355FFVocê está ficando sem";
			mes "tempo! ";
			mes "será melhor para você pesquisar";
			mes "cada centímetro desta casa.^000000";
			close;
		case 2:
			mes "[Poema]";
			mes "A primeira cobra é feita de";
			mes "aço, mas usei minha raiva";
			mes "para destruí-lo. ";
			mes "cobra é feita de magia,";
			mes "mas meu amor perfurou seu coração.";
			next;
			mes "[Poema]";
			mes "A terceira cobra é carne";
			mes "e sangue, mas minha esperança";
			mes "derrotou-o no final.";
			mes "No entanto, o quarto e";
			mes "a cobra final não tem forma, e";
			mes "ninguém sabe que é aparência.";
			next;
			mes "[Poema]";
			mes "Lancei meu desespero ao ar,";
			mes "mas ninguém sabe se matou";
			mes "a cobra. ";
			mes "^3355FFdiabo perdido^000000 com quatro espadas e";
			mes "quatro cobras, procurando por isso";
			mes "garota na escuridão.";
			close;

		}
	}
}

//----------------------------------------------------------------------------
// Cottage interior, stair case; Sword hilt
//----------------------------------------------------------------------------
kh_vila,136,68,0	script	Sword Hilt#kh	111,{
	if ((KHCottagePoem1 < 3) || (KHCottagePoem2 < 2) && (KielHyreQuest < 30)) {
		mes "^3355FFExistem quatro elaboradamente";
		mes "espadas projetadas posicionadas";
		mes "ao lado de quatro aparência assustadora";
		mes "esculturas de cobra.^000000";
		close;
	}
	else if ((KHCottagePoem1 <= 4) || (KHCottagePoem2 <= 2) && (KielHyreQuest < 30)) {
		mes "^3355FFExistem quatro elaboradamente";
		mes "espadas projetadas posicionadas";
		mes "ao lado de quatro aparência assustadora";
		mes "esculturas de cobras. ";
		mes "Talvez eles estejam relacionados";
		mes "aquele poema que você leu antes...";
		next;
		switch(select("De jeito nenhum!:Claro!")) {
		case 1:
			mes "^3355FFImpossível...";
			mes "Deve ser algum";
			mes "tipo de coincidência...^000000";
			close;
		case 2:
			mes "^3355FFClaro! ";
			mes "Há um buraco no topo";
			mes "da cabeça de cada cobra";
			mes "escultura. ";
			mes "grande o suficiente para inserir cada um";
			mes "as espadas ornamentais próximas...^000000";
			next;
			switch(select("Ignorar:Inserir Espadas Ornamentais")) {
			case 1:
				mes "^3355FFImpossível...^000000";
				mes "^3355FFDeve ser algum^000000";
				mes "^3355FFtipo de coincidência...^000000";
				close;
			case 2:
				if (KHCottagePoem1 != 4) {
					mes "^3355FFNão consigo... Retirar...";
					mes "Espada! ";
					mes "trancado no lugar";
					mes "de alguma forma, ou selado";
					mes "por alguma força estranha!^000000";
					close;
				}
				else {
					mes "^3355FFVocê provavelmente deveria";
					mes "tente inserir cada espada";
					mes "na cobra correta.";
					mes "Primeiro, selecione o";
					mes "cobra em que você vai";
					mes "insira a primeira espada.^000000";
					next;
					switch(select("Primeira Cobra:Segunda Cobra:Terceira Cobra:Quarta Cobra")) {
					default:
						break;
					case 2:
						set .@KHSwords,.@KHSwords+1;
						break;
					}
					next;
					mes "^3355FFAgora, escolha";
					mes "a cobra em que você";
					mes "irá inserir a segunda espada.^000000";
					next;
					switch(select("Primeira Cobra:Segunda Cobra:Terceira Cobra:Quarta Cobra")) {
					default:
						break;
					case 4:
						set .@KHSwords,.@KHSwords+1;
						break;
					}
					next;
					mes "^3355FFEm seguida, selecione";
					mes "a cobra em que você";
					mes "irá inserir a terceira espada.^000000";
					next;
					switch(select("Primeira Cobra:Segunda Cobra:Terceira Cobra:Quarta Cobra")) {
					case 1:
						set .@KHSwords,.@KHSwords+1;
						break;
					default:
						break;
					}
					next;
					mes "^3355FFPor último, selecione";
					mes "a cobra em que você";
					mes "irá inserir a quarta espada.^000000";
					next;
					switch(select("Primeira Cobra:Segunda Cobra:Terceira Cobra:Quarta Cobra")) {
					default:
						break;
					case 3:
						set .@KHSwords,.@KHSwords+1;
						break;
					}

					if (.@KHSwords == 4) {
						mes "^3355FFSeus ouvidos de repente";
						mes "preenchido com um zumbido baixo";
						mes "barulho, e sua mente";
						mes "e o corpo sente como se eles";
						mes "estão sendo varridos...^000000";
						set KHCottagePoem1,5;
						set KHCottagePoem2,3;
						close2;
						warp "kh_vila",178,72;
						end;
					}

					else {
						mes "^3355FFNada aconteceu...";
						mes "Você provavelmente não";
						mes "insira as espadas em";
						mes "as cobras corretas. ";
						mes "você deveria devolver as espadas,";
						mes "e tente novamente mais tarde.^000000";
						close;
					}
				}
			}
		}
	}
	else if ((KHCottagePoem1 == 5) && (KHCottagePoem2 == 3) || (KielHyreQuest >= 30)) {
		mes "^3355FFAqui está um oculto";
		mes "caminho que leva a";
		mes "o laboratório secreto.^000000";
		next;
		switch(select("Digite: Cancelar")) {
		case 1:
			warp "kh_vila",178,72;
			end;
		case 2:
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Cottage interior, Secret Room; left test tube
//----------------------------------------------------------------------------
kh_vila,179,68,0	script	Test Tube#khp2	111,{
	mes "^3355FFEste tubo de ensaio contém";
	mes "um jovem vestido";
	mes "uma Academia Kiel Hyre";
	mes "uniforme. ";
	mes "tenha a sensação de que você";
	mes "já o vi em algum lugar antes.^000000";
	close;
}


//----------------------------------------------------------------------------
// Cottage interior, Secret Room; Right test tube
//----------------------------------------------------------------------------
kh_vila,185,68,0	script	Test Tube::TestTubeKHQ2	111,{
	if (KielHyreQuest > 28) {
		mes "^3355FFA aparência estranha,";
		mes "velho enrugado é";
		mes "contido neste tubo de ensaio.^000000";
		close;
	}
	else if (KielHyreQuest == 28) {
		mes "^3355FFA aparência estranha,";
		mes "velho enrugado é";
		mes "mantido dentro deste tubo de ensaio.";
		mes "Há um pequeno botão vermelho";
		mes "logo abaixo do tubo de ensaio.^000000";
		next;
		switch(select("Pressione o botão: Investigar mais")) {
		case 1:
			mes "[???]";
			mes "Olá...? ";
			mes "me ouça? ";
			mes "você... Mas... Talvez eu tenha esquecido?";
			mes "Espera espera. ";
			mes "então você sabe como me chamar,";
			mes "certo? ";
			next;
			input .@KHInput$;
			if (.@KHInput$ == "pequeno diabo perdido") {
				mes "[???]";
				mes "Eh... Eh, eh...";
				mes "Ele sabe... Ei, você";
				mes "tenho que lembrar disso";
				mes "números, ok? ";
				mes "esqueça, eles serão importantes...";
				mes "^FF00004^000000, ^FF00007^000000, ^FF00007^000000, ^FF00002^000000, ^FF00009^000000, ^FF00006^000000, ^FF00001^000000. ";
				next;
				mes "^3355FF4772961^000000";
				mes "^3355FFO que poderia^000000";
				mes "^3355FFesses números^000000";
				mes "^3355FFpossivelmente significa?^000000";
				//KHCottagePoem1 and KHCottagePoem2 no longer needed-- deleting
				set KHCottagePoem1,0;
				set KHCottagePoem2,0;
				set KielHyreQuest,30;
				close;
			}
			else {
				mes "[???]";
				mes "Não não...";
				mes "Isso não está certo.";
				mes "Eu não acho que nós";
				mes "nós somos amigos. ";
				close;
			}
		case 2:
			mes "^3355FFVamos investigar";
			mes "esta área um pouco";
			mes "mais primeiro.^000000";
			close;
		}
	}
	else if (KielHyreQuest >= 30) {
		if ((countitem(7491) > 0) && (countitem(7492) > 0)){
			mes "^3355FFO que poderia";
			mes "número 4772961";
			mes "significar? ";
			mes "encontrei tudo o que";
			mes "você precisa deste lugar,";
			mes "então você deve voltar para Elly.^000000";
			close;
		}
		else {
			mes "^3355FFO que poderia";
			mes "número 4772961";
			mes "significar? ";
			mes "é melhor procurar esta casa";
			mes "para qualquer pista que você possa encontrar...^000000";
			close;
		}
	}
	end;
}

//============================================================================
// Robot Factory NPCs
//============================================================================

//----------------------------------------------------------------------------
// Robotic's Factory; Heavy Door
//----------------------------------------------------------------------------
kh_dun01,235,48,0	script	Heavy Door#kh1::HeavyDoorKHQ1	111,{
	if (KielHyreQuest < 38) {
		mes "^3355FFHá um grande e pesado";
		mes "porta na sua frente.^000000";
		next;
		switch(select("Porta aberta: cancelar")) {
		case 1:
			input .@KHInput$;
			mes "^3355FFVocê tenta empurrar o";
			mes "porta aberta com todos";
			mes "seu poder, mas falhe";
			mes "para fazê-lo se mover.^000000";
			close;
		case 2:
			mes "^3355FFvocê decidiu sair";
			mes "esta porta sozinha até";
			mes "você pode descobrir";
			mes "como abri-lo^000000";
			close;
		}
	}
	else if ((KielHyreQuest >= 38) && (KielHyreQuest < 46)) {
		mes "^3355FFHá um grande e pesado";
		mes "porta na sua frente.^000000";
		next;
		switch(select("Porta aberta: cancelar")) {
		case 1:
			input .@KHInput$;
			if (.@KHInput$ == "Cartão-chave azul") {
				mes "^3355FFVocê conseguiu";
				mes "abriu a porta.";
				close2;
				warp "kh_school",119,144;
				end;
			}
			else {
				mes "^3355FFVocê tenta empurrar o";
				mes "porta aberta com todos";
				mes "seu poder, mas falhe";
				mes "para fazê-lo se mover.^000000";
				close;
			}
		case 2:
			mes "^3355FFVocê decidiu sair";
			mes "esta porta sozinha até";
			mes "você pode descobrir";
			mes "como você pode abri-lo.^000000";
			close;
		}
	}
	else {
		mes "^3355FFIsso é incrivelmente";
		mes "porta pesada que está firmemente";
		mes "fechado. ";
		mes "abra-o com força bruta.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Robotic's Factory; Heavy Door (These doors don't seem to serve any purpose)
//----------------------------------------------------------------------------
kh_dun01,76,233,0	script	Heavy Door::HeavyDoorKHQ2	111,{
	if ((KielHyreQuest >= 38) && (KielHyreQuest < 46)) {
		mes "^3355FFHá um grande e pesado";
		mes "porta na sua frente.^000000";
		next;
		switch(select("Porta aberta: cancelar")) {
		case 1:
			input .@KHInput$;
			mes "^3355FFVocê tenta empurrar o";
			mes "porta aberta com todos";
			mes "seu poder, mas falhe";
			mes "para fazê-lo se mover.^000000";
			close;
		case 2:
			mes "^3355FFvocê decidiu sair";
			mes "esta porta sozinha até";
			mes "você pode descobrir";
			mes "como abri-lo^000000";
			close;
		}
	}
	else {
		mes "^3355FFHá um grande e pesado";
		mes "porta na sua frente^000000";
		close;
	}
}

kh_dun01,106,233,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh3	111
kh_dun01,6,164,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh4	111
kh_dun01,6,133,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh5	111
kh_dun01,6,60,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh6	111
kh_dun01,6,30,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh7	111
kh_dun01,6,18,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh8	111
kh_dun01,235,70,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh9	111
kh_dun01,235,92,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh10	111
kh_dun01,235,114,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh11	111

//----------------------------------------------------------------------------
// Beautiful Lady and Beautiful Lady copies.
//----------------------------------------------------------------------------
kh_school,119,149,4	script	Beautiful Lady#kh1::BeatifulLadyKHQ1	894,{
	cutin "kh_ellisia",2;
	if (KielHyreQuest < 40) {
		mes "[Alísia]";
		mes "Hum? ";
		mes "Eu conheço você. ";
		mes "só autorizou Elly,";
		mes "e um amigo de confiança que";
		mes "pode estar ajudando ela, a";
		mes "ser admitido nesta área.";
		next;
		mes "[Alísia]";
		mes "Não consigo ver ^FF0000Elly^000000.";
		mes "Ela também foi atacada?";
		mes "Você é ^FF0000Amigo da Elly^000000?";
		next;
		mes "[Alísia]";
		mes "Eu não vejo Elly em lugar nenhum";
		mes "por aqui. ";
		mes "você entra se puder identificar";
		mes "você mesmo como amigo de Elly.";
		mes "Existe alguma coisa que você";
		mes "pode me apresentar como prova?";
		next;
		switch(select("Cartão amarelo: Cartão azul: Chave dourada: Botão esculpido:...?")) {
		default:
			break;
		case 3:
			mes "[Alísia]";
			mes "Ah, não é este o";
			mes "chave que Kiel Hyre deu";
			mes "para Elly? ";
			mes "que você a tem ajudado.";
			mes "Eu estive esperando por você, então";
			mes "deixe-me guiá-lo até meu quarto.";
			close2;
			cutin "",255;
			warp "kh_school",120,180;
			end;
		case 4:
			mes "[Alísia]";
			mes "Isso é do Kiehl";
			mes "selo! ";
			mes "aqui para me pegar?! ";
			mes "não arriscando!";
			close2;
			cutin "",255;
			monster "kh_escola",117,144,"Bombear",1745,1;
			monster "kh_escola",117,144,"Bombear",1745,1;
			monster "kh_escola",117,144,"Bombear",1745,1;
			monster "kh_escola",117,144,"Bombear",1745,1;
			end;
		case 5:
			mes "[Alísia]";
			mes "......";
			mes "........";
			mes "...........";
			close2;
			cutin "",255;
			end;
		}
		mes "[Alísia]";
		mes "Hum? ";
		mes "que Elly realmente confia em você...";
		close2;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest >= 40) {
		mes "[Alísia]";
		mes "Por favor siga-me.";
		close2;
		cutin "",255;
		warp "kh_school",120,180;
		end;
	}
}


kh_school,117,149,4	script	Beautiful lady#kh2::BeatifulLadyKHQ2	894,{
	end;
}
kh_school,118,149,4	duplicate(BeatifulLadyKHQ2)	Beautiful lady#kh3	894
kh_school,120,149,4	duplicate(BeatifulLadyKHQ2)	Beautiful lady#kh4	894
kh_school,121,149,4	duplicate(BeatifulLadyKHQ1)	Beautiful lady#kh5	894

//----------------------------------------------------------------------------
// Beautiful Lady "Alisia"
//----------------------------------------------------------------------------
kh_school,122,186,4	script	Beautiful Lady#kh6	894,{
	if (checkweight(7496,1) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "Espaço de inventário primeiro...^000000";
		close;
	}
	cutin "kh_ellisia",2;
	if (KielHyreQuest < 38) {
		mes "[??????]";
		mes "Isto é propriedade privada.";
		mes "Por favor, saia imediatamente!";
		close2;
		cutin "kh_ellisia",255;
		warp "yuno_fild08",73,172;
		end;
	}
	else if (KielHyreQuest <= 38) {
		mes "[Alísia]";
		mes "Amigo do protótipo Elly,";
		mes "Eu te dou as boas-vindas. ";
		mes "descobri, preciso do seu";
		mes "ajuda. ";
		mes "em algum lugar dentro desta fábrica.";
		next;
		mes "[Alísia]";
		mes "É imperativo que";
		mes "você procura por Kiel Hyre";
		mes "e resgatá-lo o mais rápido";
		mes "como você puder!";
		next;
		switch(select("O que é esta fábrica?:O que aconteceu com ^FF0000Kiel Hyre^000000?")) {
		case 1:
			mes "[Alísia]";
			mes "Esta fábrica faz parte";
			mes "da Fundação Kiel Hyre";
			mes "negócio secreto onde humanóide";
			mes "robôs são fabricados. ";
			mes "e todos os alunos da academia";
			mes "são na verdade robôs, não humanos.";
			next;
			mes "[Alísia]";
			mes "A Fundação Kiel Hyre";
			mes "objetivo final é desenvolver";
			mes "robôs superiores que ajudarão";
			mes "sociedade humana. ";
			mes "pode lidar com tarefas que são muito";
			mes "perigoso ou difícil para os humanos.";
			break;
		case 2:
			mes "[Alísia]";
			mes "^3355FFKiehl^000000 prosseguiu para";
			mes "realizar modificações anormais";
			mes "para os robôs humanóides. ";
			mes "foi relatado a Kiel Hyre,";
			mes "que partiu para deter Kiehl.";
			mes "No entanto, Hyre não voltou.";
			next;
			mes "[Alísia]";
			mes "Temendo que Kiehl";
			mes "me quebre, Kiel Hyre trouxe";
			mes "em vez disso, uma cópia minha. ";
			mes "detectar os batimentos cardíacos de Kiel Hyre,";
			mes "então ele deveria estar bem, mas seu";
			mes "próprio filho pode prejudicá-lo em breve.";
			next;
			mes "[Alísia]";
			mes "Pegue este cartão-chave";
			mes "que lhe permitirá";
			mes "para entrar nas áreas secretas";
			mes "dentro desta fábrica. ";
			mes "localize Kiel Hyre, por favor";
			mes "me avise imediatamente.";
			getitem 7496,1; //Red_Key_Card
			set KielHyreQuest,40;
			break;
		}
		close2;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest == 40) {
		mes "[Alísia]";
		mes "Eu ainda posso detectar";
		mes "Os batimentos cardíacos de Kiel Hyre,";
		mes "mas seu filho Kiehl pode";
		mes "fazer algo desesperado para";
		mes "ele logo. ";
		mes "Hyre antes que isso aconteça!";
		close2;
		cutin "",255;
		warp "kh_dun01",22,216;
		end;
	}
	else if (KielHyreQuest == 42) {
		mes "[Alísia]";
		mes "Você já";
		mes "localizado Kiel-Hyre?";
		next;
		mes "^3355FFVocê diz a Allysia onde^000000";
		mes "^3355FFKiel Hyre foi bloqueado^000000";
		mes "^3355FFUp, e dê a ela o metal^000000";
		mes "^3355FFfragmento que Kiel Hyre entregou^000000";
		mes "^3355FFpara você. ";
		mes "^3355FFe usou-o no pulso.^000000";
		next;
		mes "[Alísia]";
		mes "...código secreto de Kiel Hyre";
		mes "confirmado. ";
		mes "Os sinais vitais são normais.";
		mes "Envelope recebido. ";
		mes "Desenhos de fantoches modificados...";
		next;
		mes "[Alísia]";
		mes "Tudo bem, recebi";
		mes "Ordens de Kiel Hyre, e";
		mes "deve realizá-los...";
		delitem 7497,1; //Steel_Piece
		set KielHyreQuest,44;
		close2;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest == 44) {
		mes "[Alísia]";
		mes "Tudo bem, eu tenho uma missão";
		mes "realizar para Kiel Hyre,";
		mes "e não tenho muito tempo.";
		mes "Deixe-me dar alguns detalhes específicos";
		mes "instruções muito rapidamente.";
		next;
		mes "[Alísia]";
		mes "Em primeiro lugar, preciso levar o seu";
		mes "cartões-chave por razões de segurança.";
		mes "Em segundo lugar, encontre-me no Kiel";
		mes "Mansão Hyre em Lighthalzen.";
		mes "Apresente a Chave de Ouro para";
		mes "ser admitido no local.";
		delitem 7492,1; //Yellow_Key_Card
		delitem 7495,1; //Blue_Key_Card
		delitem 7496,1; //Red_Key_Card
		set KielHyreQuest,46;
		next;
		mes "[Alísia]";
		mes "Eu entendo que isso";
		mes "é repentino e eu não estou";
		mes "dando-lhe uma visão completa";
		mes "explicação, mas algo";
		mes "horrível vai acontecer se eu não fizer isso";
		mes "apresse-se o mais rápido possível.";
		close2;
		warp "yuno_fild08",73,172;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest >= 44) {
		mes "[Alísia]";
		mes "Eu entendo que isso";
		mes "é repentino e eu não estou";
		mes "dando-lhe uma visão completa";
		mes "explicação, mas algo";
		mes "horrível vai acontecer se eu não fizer isso";
		mes "apresse-se o mais rápido possível.";
		close2;
		warp "yuno_fild08",73,172;
		cutin "",255;
		end;
	}
}

//----------------------------------------------------------------------------
// Signboard (another useless NPC?)
//----------------------------------------------------------------------------
kh_dun01,163,223,4	script	Signboard#kh	857,{
	mes "[Perceber]";
	mes "Animais de estimação fofos são proibidos";
	mes "nesta área. ";
	mes "fornecer assistência especial";
	mes "aos deficientes visuais são";
	mes "isento desta regra.)";
	close;
}

//----------------------------------------------------------------------------
// Mechanical Devices for accessing restricted area
//----------------------------------------------------------------------------
kh_dun01,166,223,0	script	Mechanical Device#kh::KHKeyardReader	111,{
	if ((KielHyreQuest <= 38) || (KielHyreQuest >= 44)) {
		mes "^3355FFVocê encontra";
		mes "um dispositivo mecânico.";
		mes "Parece que pode ser";
		mes "operado inserindo o";
		mes "cartão-chave correto no slot.^000000";
		close;
	}
	else if ((KielHyreQuest == 40) && (countitem(7496) >= 1)) {
		mes "^3355FFVocê encontra";
		mes "um dispositivo mecânico.";
		mes "Parece que pode ser";
		mes "operado inserindo o";
		mes "cartão-chave correto no slot.^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Cartão-chave vermelho") {
			mes "^3355FFA porta abre uma vez";
			mes "você insere o cartão vermelho.^000000";
			close2;
			warp "kh_dun01",170,227;
			end;
		}
		else {
			mes "^3355FFNada aconteceu.^000000";
			close;
		}
	}
}

kh_dun01,162,206,0	duplicate(KHKeyardReader)	Mechanical Device	111

//----------------------------------------------------------------------------
// Keep monsters out of the quest area.
// Silly really since the rest of it's a dungeon
//----------------------------------------------------------------------------
//kh_dun01,180,220,0	script	Monster Warp#kh1::KHMobWarp	-1,5,20,{
//OnTouchNPC:
//	warp "kh_dun01",178,138;
//	end;
//}

//kh_dun01,190,220,0	duplicate(KHMobWarp)	Monster Warp#kh2	-1,5,20
//kh_dun01,200,250,0	duplicate(KHMobWarp)	Monster Warp#kh3	-1,5,20
//kh_dun01,210,220,0	duplicate(KHMobWarp)	Monster Warp#kh4	-1,5,20
//kh_dun01,220,220,0	duplicate(KHMobWarp)	Monster Warp#kh5	-1,5,10

//----------------------------------------------------------------------------
// Kiel Hyre - OnTouch
//----------------------------------------------------------------------------
kh_dun01,224,233,0	script	Factory B Area Door	-1,5,5,{
OnTouch:
	if (KielHyreQuest == 40) {
		if (checkweight(7497,1) == 0) {
			mes "^3355FFSó um segundo...";
			mes "Você está carregando também";
			mes "muitos itens com você";
			mes "agora, então você vai";
			mes "preciso liberar mais";
			mes "Espaço de inventário primeiro...^000000";
			close;
		}
		mes "^3355FFVocê pode ouvir fracamente";
		mes "uma voz do outro";
		mes "lado desta porta.^000000";
		next;
		mes "[????]";
		mes "^333333...Kiehl...";
		mes "...Como você ousa...!^000000";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Senhor Kiel Hyre?";
		mes "É você aí?";
		next;
		mes "[Kiel Hyre]";
		mes "Quem está aí?";
		mes "Se identifique!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Eu estou... eu estou...";
		next;
		mes "^3355FFVocê explica sua história";
		mes "para a voz por trás do";
		mes "porta e diga a ele o que";
		mes "aconteceu com Elly e Allysia.^000000";
		next;
		mes "[Kiel Hyre]";
		mes "^333333...Sim... Sou eu.";
		mes "Sou Kiel Hyre, preso";
		mes "aqui. ";
		mes "quanto a modificar Elly, hein?";
		mes "................................^000000";
		next;
		mes "[Kiel Hyre]";
		mes "^333333Depressa, pegue isto";
		mes "módulo para Allysia!";
		mes "Ela saberá o que fazer";
		mes "com isso. ";
		mes "nos ajudando, então ela terá";
		mes "algumas instruções para você também.^000000";
		next;
		mes "^3355FFKiel Hyre deslizou";
		mes "um metal estranho";
		mes "fragmentar através";
		mes "a lacuna entre o";
		mes "porta e o chão.^000000";
		getitem 7497,1; //Steel_Piece
		set KielHyreQuest,42;
		close;
	}

	else if (KielHyreQuest >= 42) {
		mes "[Kiel Hyre]";
		mes "......";
		close;
	}
}

//----------------------------------------------------------------------------
// Robot Factory Second Floor Entrances
//----------------------------------------------------------------------------
kh_dun01,44,203,0	script	Entrance Device#khd2::KHAccess	111,{
	if (countitem(7509) < 1) {
		mes "^3355FFVocê encontra";
		mes "um dispositivo mecânico.";
		mes "Parece que pode ser";
		mes "operado inserindo o";
		mes "cartão-chave correto no slot.^000000";
		close;
	}
	else {
		mes "^3355FFVocê encontra";
		mes "um dispositivo mecânico.";
		mes "Parece que pode ser";
		mes "operado inserindo o";
		mes "cartão-chave correto no slot.^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Cartão-chave luxuoso") {
			mes "^3355FFAo inserir o";
			mes "Cartão-chave luxuoso";
			mes "no slot do cartão-chave,";
			mes "a porta se abre";
			mes "para revelar um longo vôo";
			mes "de descida de escadas.^000000";
			next;
			switch(select("Descer escadas: cancelar")) {
			case 1:
				warp "kh_dun02",41,198;
				end;
			case 2:
				mes "^3355FFParece esta porta";
				mes "fechou automaticamente";
				mes "depois do pré-programado";
				mes "o limite de tempo expirou.^000000";
				close;
			}
		}
		else {
			mes "^3355FFVocê tenta empurrar o";
			mes "porta aberta com todos";
			mes "seu poder, mas falhe";
			mes "para fazê-lo se mover.^000000";
			close;
		}
	}
}

kh_dun01,36,195,0	duplicate(KHAccess)	Entrance Device#khd1	111

//============================================================================
// Kiel Hyre Mansion NPCs, and Kiehl's Room NPCs
//============================================================================

//----------------------------------------------------------------------------
// Kiel's Steward
//----------------------------------------------------------------------------
kh_mansion,78,55,5	script	Steward#kh	109,{
	if (KielHyreQuest < 46) {
		mes "[Comissário de bordo]";
		mes "Esta é uma residência privada,";
		mes "por favor saia.";
		close2;
		warp "lighthalzen",188,201;
		end;
	}
	if ((KielHyreQuest >= 46) && (KielHyreQuest < 50)) {
		mes "[Comissário de bordo]";
		mes "Saudações.";
		mes "Você foi convidado";
		mes "pelo mestre de";
		mes "esta mansão?";
		next;
		switch(select("Presente Chave Dourada:????")) {
		case 1:
			mes "[Comissário de bordo]";
			mes "Ah, mestre"+strcharinfo(0)+".";
			mes "Eu estive esperando o seu";
			mes "chegada. ";
			close2;
			warp "kh_mansion",21,14;
			end;
		case 2:
			mes "[Comissário de bordo]";
			mes "Se você não foi";
			mes "convidado pelo mestre de";
			mes "esta mansão, então eu estou";
			mes "com medo de que eu tenha que insistir";
			mes "sua partida imediata!";
			close2;
			warp "lighthalzen",188,201;
			end;
		}
	}
	if ((KielHyreQuest >= 50) && (KielHyreQuest < 64) || (KielHyreQuest >= 70)) {
		mes "[Comissário de bordo]";
		mes "Ah, mestre"+strcharinfo(0)+".";
		mes "É um prazer";
		mes "receba sua empresa";
		mes "outra vez. ";
		mes "gostaria de ver meu mestre?";
		next;
		switch(select("Sim não")) {
		case 1:
			mes "[Comissário de bordo]";
			mes "Muito bem.";
			mes "Por aqui ~";
			close2;
			warp "kh_mansion",21,14;
			end;
		case 2:
			mes "[Comissário de bordo]";
			mes "Muito bem.";
			mes "Por favor, faça";
			mes "você mesmo em casa.";
			close;
		}
	}
	if ((KielHyreQuest == 52) || (KielHyreQuest == 54) || (KielHyreQuest >= 64) && (KielHyreQuest <= 70)) {
		mes "[Comissário de bordo]";
		mes "Ah, mestre"+strcharinfo(0)+".";
		mes "É um prazer";
		mes "receba sua empresa";
		mes "outra vez. ";
		mes "gostaria de ver meu mestre, ou...?";
		next;
		switch(select("^FF0000Kiel Hyre^000000:^3355FFMitchell^000000")) {
		case 1:
			mes "[Comissário de bordo]";
			mes "Muito bem.";
			mes "Por aqui ~";
			close2;
			warp "kh_mansion",21,14;
			end;
		case 2:
			mes "[Comissário de bordo]";
			mes "Oh...? ";
			mes "estar aqui para entregar";
			mes "boas notícias. ";
			next;
			mes "^3355FFO Administrador furtivamente^000000";
			mes "^3355FFolhou em volta para verificar^000000";
			mes "^3355FFse alguém estiver observando ele.^000000";
			next;
			mes "[Comissário de bordo]";
			mes "Eu acredito que deveria";
			mes "esteja seguro o suficiente para deixar";
			mes "você vai vê-lo agora...";
			mes "Por favor, apresse-se por aqui.";
			close2;
			warp "kh_mansion",20,87;
			end;
		}
	}
}

//----------------------------------------------------------------------------
// Kiel Hyre
//----------------------------------------------------------------------------
kh_mansion,22,28,4	script	Kiel Hyre#kh	903,{
	if (checkweight(908,200) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "espaço de inventário primeiro...^000000";
		close;
	}

	cutin "kh_kyel01",2;
	if (KielHyreQuest < 46) {
		mes "[Kiel Hyre]";
		mes ".........";
		mes ".........";
		mes "............";
		close2;
		cutin "",255;
		end;
	}

	else if (KielHyreQuest == 46) {
		cutin "kh_kyel01",2;
		mes "[Kiel Hyre]";
		mes "Ah, você deve estar"+strcharinfo(0)+".";
		mes "Eu gostaria de agradecer por salvar";
		mes "minha vida. ";
		mes "perguntas para me fazer, então eu vou";
		mes "faço o meu melhor para lhe dar respostas.";
		next;
		while(1) {
			switch(select("Robôs?:^3355FFKiehl^000000?:^FF0000Elly^000000 botão?")) {
			case 1:
				mes "[Kiel Hyre]";
				mes "Eu estive pesquisando";
				mes "robótica para trinta e dois";
				mes "anos agora. ";
				mes "dizer que eu consegui";
				mes "onde o grande Sábio";
				mes "Varmundt não.";
				next;
				mes "[Kiel Hyre]";
				mes "Tem sido meu sonho";
				mes "desenvolver robôs humanóides";
				mes "de humanos. ";
				mes "podem ser robôs também, mas eles";
				mes "não opere usando o livre arbítrio.";
				next;
				mes "[Kiel Hyre]";
				mes "Se você gostaria de saber mais";
				mes "das especificidades relativas";
				mes "robótica, por que você não fala";
				mes "com ^3355FFAllysia^000000? ";
				mes "tudo muito mais sucintamente";
				mes "do que eu posso. ";
				set .@KHQRead,.@KHQRead+1;
				next;
				break;
			case 2:
				mes "[Kiel Hyre]";
				mes "^3355FFKiehl^000000 é meu único filho,";
				mes "mas o amor da minha vida";
				mes "morreu depois de dar à luz";
				mes "ele. ";
				mes "um gênio em mecânica";
				mes "design e desenvolvimento.";
				next;
				mes "[Kiel Hyre]";
				mes "Ele é o grande responsável";
				mes "para a criação do Terceiro";
				mes "Robôs de geração como Elly.";
				mes "Infelizmente, ele está tentando";
				mes "modificar suas criações para";
				mes "algum propósito sinistro.";
				next;
				mes "[Kiel Hyre]";
				mes "Eu tentei pará-lo,";
				mes "mas acabei conseguindo";
				mes "trancado dentro da fábrica.";
				mes "Eu não sei por que ele quer";
				mes "para fazer isso. ";
				mes "absolutamente nenhuma pista...";
				set .@KHQRead,.@KHQRead+1;
				next;
				break;
			case 3:
				mes "[Kiel Hyre]";
				mes "Esse botão que Elly estava";
				mes "holding tem ^3355FFEmblema de Kiehl^000000";
				mes "gravado nele. ";
				mes "homem de preto ameaçando o";
				mes "estudantes? ";
				mes "^3355FFKaiser^000000, guarda-costas de Kiehl.";
				next;
				mes "[Kiel Hyre]";
				mes "Kaiser...";
				mes "Não sei";
				mes "qualquer coisa sobre ele.";
				mes "eu nunca nem vi";
				mes "a cara dele! ";
				mes "ele sem me avisar...";
				set .@KHQRead,.@KHQRead+1;
				next;
				break;
			}
			if (.@KHQRead == 3) {
				mes "[Kiel Hyre]";
				mes "Se você não tem";
				mes "mais perguntas para mim,";
				mes "então você poderia, por favor";
				mes "deixa eu descansar?? ";
				mes "me sentindo bem desde o momento";
				mes "Fiquei trancado na fábrica.";
				delitem 7493,1; //Golden_Key
				delitem 7494,1; //Kiel_Button
				set KielHyreQuest,48;
				break;
			}
		}
	}
	else if (KielHyreQuest == 48) {
		mes "[Kiel Hyre]";
		mes "Ah, quase esqueci.";
		mes "Por favor, tome isso como";
		mes "uma pequena recompensa por";
		mes "salvando minha vida.";
		getitem 12105,1; //Taming_Gift_Set
		getexp (checkre(3))?70000:700000,0;
		set KielHyreQuest,50;
	}
	else if ((KielHyreQuest >= 50) && (KielHyreQuest < 64)) {
		mes "[Kiel Hyre]";
		mes "Se você não tem";
		mes "mais perguntas para mim,";
		mes "então você poderia, por favor";
		mes "deixa eu descansar?? ";
		mes "me sentindo bem desde o momento";
		mes "Fiquei trancado na fábrica.";
	}
	else if (KielHyreQuest == 64) {
		cutin "kh_kyel01",2;
		mes "[Kiel Hyre]";
		mes "Hum? ";
		mes "ter algo";
		mes "que você queria";
		mes "perguntar para mim?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "eu não tenho o suficiente";
		mes "evidências concretas ainda,";
		mes "mas eu posso ter algum";
		mes "perguntas em breve.";
	}
	else if (KielHyreQuest == 68) {
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "Ah,"+strcharinfo(0)+".";
		mes "É você. ";
		mes "Eu te ajudo hoje?";
		next;
		select("Cerca de ^3355FFAllysia^000000...");
		mes "["+strcharinfo(0)+"]";
		mes "Você sabe, eu estava procurando";
		mes "por esta casa deserta";
		mes "em Juno, e descobriu";
		mes "um antigo retrato de uma mulher";
		mes "isso se parece com Allysia.";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "Oh...";
		mes "Isso é tudo?";
		mes "Eu pensei que você tinha";
		mes "uma questão de robótica.";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "De qualquer forma, isso é um";
		mes "estranha coincidência.";
		mes "Bem, suponho que seja";
		mes "não é tão estranho encontrar";
		mes "aparência para outras pessoas...";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Eu não acho que seja só";
		mes "uma coincidência. ";
		mes "naquele retrato de trinta anos";
		mes "também se chamava Allysia, e ela";
		mes "trabalhou na rua Orsimier";
		mes "em Juno. ";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "......";
		mes ".........";
		mes "............";
		next;
		cutin "kh_kyel01",2;
		mes "["+strcharinfo(0)+"]";
		mes "Então pensei que isso";
		mes "Allysia deve ter sido a";
		mes "mulher que você amou, e";
		mes "que você baseou o seu robô";
		mes "aparência nela.";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "............";
		next;
		cutin "kh_kyel01",2;
		mes "["+strcharinfo(0)+"]";
		mes "Acho que foi isso que aconteceu:";
		mes "quando você era jovem, pobre";
		mes "cara, você se apaixonou por";
		mes "Alisia. ";
		mes "apaixonado por Rosimier, que";
		mes "era rico e poderoso.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "No entanto, Rosimier foi";
		mes "noivo de algum outro";
		mes "mulher, e ele acabou";
		mes "casar com sua noiva, assim";
		mes "partindo o coração de Allysia.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Sentindo-se traída, ela";
		mes "com o coração partido, Allysia pulou";
		mes "em um rio. ";
		mes "para se vingar de Rosimier, então";
		mes "você acabou se juntando";
		mes "Corporação Rekenber!";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "Hahahahahahaha!";
		mes "Oh, que imaginação ~";
		mes "Isso é muito ridículo...";
		mes "Embora, eu admito, talvez";
		mes "Eu projetei Allysia depois";
		mes "vendo aquela mulher há muito tempo.";
		next;
		mes "[Kiel Hyre]";
		mes "eu quase esqueci";
		mes "sobre ela! ";
		mes "eram amigos... Embora,";
		mes "de onde você tirou a ideia";
		mes "que eu poderia ter";
		mes "estava apaixonado por ela?";
		next;
		select("Revele o retrato de Kiel da cabana");
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "O que...";
		mes "Como foi...";
		mes "Onde você...?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Kiel Hyre, encontrei isso";
		mes "retrato seu quando jovem";
		mes "homem da casa do";
		mes "homem que comprou o anel de Allysia.";
		mes "Até falei com o pescador";
		mes "que descobriu o corpo de Allysia.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Você pagou muito";
		mes "de dinheiro para comprar Allysia";
		mes "anel. ";
		mes "me que você não a amava?";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "*Suspirar...*";
		mes "Você me pegou, você me pegou.";
		mes "Eu não queria que você aprendesse";
		mes "a verdade. ";
		mes "Eu amei Allysia e desenhei";
		mes "meu robô para se parecer com ela.";
		next;
		mes "[Kiel Hyre]";
		mes "Eu nunca poderia esquecê-la.";
		mes "Sempre. ";
		mes "fazer qualquer coisa para prejudicar o";
		mes "Rosimiers! ";
		mes "Eu o odiava quando era jovem,";
		mes "mas as coisas sao diferentes agora!";
		next;
		mes "[Kiel Hyre]";
		mes "Não derramei lágrimas quando o";
		mes "Rosimiers caiu, mas eu não estava";
		mes "responsável. ";
		mes "ter os recursos ou a";
		mes "capacidade de causar isso...";
		next;
		cutin "kh_kyel02",2;
		mes "["+strcharinfo(0)+"]";
		mes "Receio que o";
		mes "as evidências mostram o contrário.";
		next;
		select("Revelar o retrato de Rosimiers");
		mes "["+strcharinfo(0)+"]";
		mes "Dê uma boa olhada";
		mes "neste retrato que";
		mes "Encontrei na casa dos Rosimiers";
		mes "casa velha. ";
		mes "alguma coisa... incriminatória?";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "Além de que";
		mes "James Rosimier, você";
		mes "significar? ";
		mes "alguma coisa errada com";
		mes "esta foto em tudo.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Dê uma boa olhada";
		mes "no relógio de bolso";
		mes "no retrato. ";
		mes "o relógio de bolso você";
		mes "usar hoje, não é?";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "...!!!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Você pode não ter causado";
		mes "a queda dos Rosimiers";
		mes "você mesmo, mas com a ajuda de";
		mes "a Rekenber Corporation, eu";
		mes "digamos que era inteiramente possível!";
		next;
		cutin "kh_Kyel03",2; 
		mes "[Kiel Hyre]";
		mes "Bem jogado, aventureiro.";
		mes "Bem jogado. ";
		mes "o que eu fiz: eles mataram meu";
		mes "Alisia! ";
		mes "ela, se ao menos ele não dirigisse";
		mes "ela cometer suicídio...";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "É aí que você está errado!";
		mes "Allysia foi morta, ela não";
		mes "cometer suicídio. ";
		mes "olha essa nota aqui!";
		next;
		mes "[Kiel Hyre]";
		mes "O que?!";
		next;
		select("Mostrar a nota de James");
		mes "[Kiel Hyre]";
		mes "O que isso prova?";
		mes "Isso não mostra isso";
		mes "James não traiu Allysia.";
		mes "Como isso muda alguma coisa?";
		mes "Ela está morta, nada que eu possa fazer";
		mes "vai trazê-la de volta para mim!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Eu nunca disse que James não";
		mes "traí-la. ";
		mes "na nota. ";
		mes "fugir com ela em agosto";
		mes "20º. ";
		mes "encontrado no mesmo dia.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Portanto, Allysia deve ter";
		mes "morreu em 19 de agosto. ";
		mes "estava planejando fugir com";
		mes "seu amor no dia seguinte, então";
		mes "ela não tinha motivos para se matar!";
		next;
		mes "[Kiel Hyre]";
		mes "Não, isso não está certo!";
		mes "Ela provavelmente não poderia";
		mes "confie em mim! ";
		mes "percebi que ela não era nada";
		mes "mas outro brinquedo para ele!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Oh sim? ";
		mes "no rio porque você";
		mes "a conheci naquele dia. ";
		mes "dê uma boa olhada nisso!";
		next;
		select("Mostre a nota de K.H.");
		mes "["+strcharinfo(0)+"]";
		mes "Esta nota foi escrita por";
		mes "um homem com suas iniciais,";
		mes "K. H. ";
		mes "assinado em seu retrato. ";
		mes "deve ter escrito esta nota:";
		mes "há muitas coincidências!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "De acordo com esta nota,";
		mes "você disse a Allysia que você";
		mes "queria vê-la novamente";
		mes "no lugar que você conheceu.";
		mes "Acho que você a viu de novo...";
		mes "em 19 de agosto, dia em que ela morreu!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Estou assumindo o lugar que você";
		mes "dois primeiros encontros foi perto do";
		mes "rio. ";
		mes "Conte-me o que realmente aconteceu!";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "............";
		mes ".........";
		mes "......";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "Hah... Ha ha ha...";
		mes "Sim está certo...";
		mes "Aquela noite horrível.";
		mes "eu me lembro bem...";
		mes ".....................";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "Naquela noite, quando ela veio";
		mes "ao rio para me encontrar como";
		mes "Eu pedi, implorei para ela";
		mes "fuja comigo, em vez disso";
		mes "de esperar por isso, James.";
		next;
		mes "[Kiel Hyre]";
		mes "Ela insistiu que James";
		mes "nunca a traiu, e ele";
		mes "prometeu levá-la embora";
		mes "com ele no dia seguinte. ";
		mes "você imagina como isso fez";
		mes "me sentir? ";
		next;
		mes "[Kiel Hyre]";
		mes "Meus sentimentos não importavam";
		mes "ela em tudo! ";
		mes "com aquele anel... perdi o controle";
		mes "e tentei tirar aquele maldito";
		mes "coisa longe dela, e";
		mes "jogue no rio...";
		next;
		mes "[Kiel Hyre]";
		mes "Mas você sabe o que?";
		mes "Ela lutou, ela realmente";
		mes "lutou comigo! ";
		mes "lutar, mas então, antes que eu percebesse";
		mes "isso, o chão debaixo de nós";
		mes "desabou e... as chuvas...";
		next;
		select(".........");
		mes "[Kiel Hyre]";
		mes "Não tenho certeza do que é";
		mes "era. ";
		mes "o chão, algo aconteceu";
		mes "errado... e ela apenas... apenas...";
		mes "O rio a engoliu...";
		mes "Eu me senti vazio. ";
		delitem 7499,1; //Family_Portrait
		delitem 7500,1; //Elysia_Portrait
		delitem 7501,1; //Kyll_Hyre_Letter2
		delitem 7502,1; //Piece_Memo_Of_James
		delitem 7503,1; //Man_Portrait
		set KielHyreQuest,70;
		close2;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest <= 70) {
		cutin "kh_kyel01",2;
		mes "[Kiel Hyre]";
		mes "Você já sabe disso";
		mes "ela foi encontrada morta";
		mes "próximo dia. ";
		mes "quebrou meu coração foi isso";
		mes "ela segurou aquele anel com tanta força";
		mes "em sua mão, mesmo na morte...";
		next;
		cutin "kh_kyel03",2;
		mes "[Kiel Hyre]";
		mes "Sua família tinha tudo";
		mes "enquanto eu não tinha nada. ";
		mes "ele teve a audácia de assumir";
		mes "Allysia longe de mim?!";
		mes "Como isso poderia estar certo?";
		next;
		mes "[Kiel Hyre]";
		mes "Mesmo ela tendo passado";
		mes "longe, eu ainda queria provar";
		mes "para Allysia que tipo de coisa feia";
		mes "pessoa que James realmente era.";
		mes "Foi quando entrei para o";
		mes "Corporação Rekenber.";
		next;
		mes "[Kiel Hyre]";
		mes "Eu projetei o primeiro";
		mes "Robô de primeira geração, que";
		mes "Chamei Allysia e vendi o";
		mes "projetos para Rekenber. ";
		mes "robôs, e eles me deram dinheiro,";
		mes "poder, subordinados obedientes.";
		next;
		mes "[Kiel Hyre]";
		mes "Claro que eu sabia que eles usariam";
		mes "meus robôs para espionar e matar!";
		mes "Mas você sabe o que? ";
		mes "importa, desde que eles me deram";
		mes "os meios para minha vingança. ";
		mes "a parceria perfeita, realmente.";
		next;
		mes "[Kiel Hyre]";
		mes "Você me acertou";
		mes "onde você me quer.";
		mes "Quem você está trabalhando";
		mes "para e o que exatamente";
		mes "você quer? ";
		mes "Minha morte? ";
		next;
		cutin "kh_kyel01",2;
		mes "["+strcharinfo(0)+"]";
		mes "Na verdade, eu só quero";
		mes "perguntar sobre a natureza";
		mes "do seu profissional";
		mes "relacionamento com o";
		mes "Corporação Rekenber.";
		mes "E sobre Kiehl.";
		next;
		mes "[Kiel Hyre]";
		mes "Kiehl, né? ";
		mes "minha história maluca, estou supondo";
		mes "que você já suspeita do";
		mes "verdade sobre ele... Ele também é";
		mes "um robô, especificamente o primeiro";
		mes "dos modelos de Segunda Geração.";
		next;
		mes "[Kiel Hyre]";
		mes "Sua mente foi desenvolvida usando.";
		mes "experimental e instável,";
		mes "forma da Magia Condensada";
		mes "Pergaminhos de Feitiço. ";
		mes "Robô de segunda geração que";
		mes "Eu tive permissão para ficar.";
		next;
		mes "[Kiel Hyre]";
		mes "Eu me tornei muito apegado";
		mes "para Kiehl. ";
		mes "vendo que a robótica tem";
		mes "torne-se minha vida. ";
		mes "ele como meu próprio filho, e ensinei";
		mes "ele tudo sobre robótica";
		next;
		mes "[Kiel Hyre]";
		mes "Kiehl agora é um gênio,";
		mes "e até desenvolveu o";
		mes "Terceira geração de robôs.";
		mes "Infelizmente, não consegui";
		mes "crie-o adequadamente com";
		mes "moral e ética humana.";
		next;
		select("......");
		mes "[Kiel Hyre]";
		mes "Ele está se transformando";
		mes "os robôs de terceira geração";
		mes "em máquinas de matar. ";
		mes "por que tentei colocar todos eles";
		mes "na academia, então eles";
		mes "poderia aprender o comportamento humano.";
		next;
		mes "[Kiel Hyre]";
		mes "Embora a academia";
		mes "atrasou os planos de Kiehl,";
		mes "ele conseguiu";
		mes "convertendo todos os robôs";
		mes "em motores incontroláveis";
		mes "de destruição em massa.";
		next;
		mes "[Kiel Hyre]";
		mes "Sim, ele está trabalhando";
		mes "estreitamente com Rekenber.";
		mes "Seu verdadeiro objetivo é";
		mes "criar máquinas de matar";
		mes "para uso de Rekenber.";
		next;
		mes "[Kiel Hyre]";
		mes "Você conhece todos os segredos";
		mes "do meu passado agora. ";
		mes "chateado com você ou algo assim,";
		mes "mas eu tenho algo";
		mes "que eu quero perguntar a você.";
		next;
		mes "[Kiel Hyre]";
		mes "Por favor! ";
		mes "Eu não quero a loucura dele";
		mes "para destruir mais robôs!";
		mes "Eu vejo cada um";
		mes "deles como um dos meus filhos!";
		next;
		mes "[Kiel Hyre]";
		mes "Eu sei que devo levar";
		mes "total responsabilidade por todos";
		mes "isso aconteceu. ";
		mes "receber qualquer punição por";
		mes "minhas ações uma vez que tudo";
		mes "foi resolvido.";
		next;
		select("Aceitar: Ok: Aceno");
		mes "[Kiel Hyre]";
		mes "Muito obrigado!";
		mes "Você pode encontrar Kiehl";
		mes "no subsolo";
		mes "nível nesta mansão.";
		next;
		mes "[Kiel Hyre]";
		mes "Ele fica no quarto antigo";
		mes "onde ele foi criado, mas";
		mes "ele o reconstruiu como alguns";
		mes "tipo de caverna para manter todos";
		mes "fora, inclusive eu. ";
		mes "não confia mais em ninguém...";
		next;
		mes "[Kiel Hyre]";
		mes "Quando você o encontrar, eu quero";
		mes "você vai pegar o anel de Allysia";
		mes "fora de seu coração. ";
		mes "remova-o, isso deve parar";
		mes "impedi-lo de ficar furioso.";
		next;
		select("Anel de Allysia?");
		mes "[Kiel Hyre]";
		mes "Sim... O anel dela é o";
		mes "começo de tudo";
		mes "Eu coloquei isso em seu coração então";
		mes "que eu nunca esqueceria o que";
		mes "os Rosimiers fizeram comigo.";
		next;
		mes "[Kiel Hyre]";
		mes "Eu acho que Kiehl cresceu";
		mes "tão poderoso que normal";
		mes "armas podem não funcionar";
		mes "mais nele. ";
		mes "dispositivo que fará com que ele";
		mes "fonte de alimentação flutue.";
		getitem 7504,1; //Toy_Motor
		next;
		cutin "kh_kyel03",2;
		mes "[Kiel Hyre]";
		mes "Se você anexar com sucesso";
		mes "isso para o corpo de Kiehl, então";
		mes "ele não será capaz de usar seu";
		mes "todo o poder do corpo. ";
		mes "enfraquecido, abra o peito";
		mes "e pegue o anel de seu coração.";
		next;
		mes "[Kiel Hyre]";
		mes "Deixe-me saber uma vez";
		mes "Você está pronto. ";
		mes "guiá-lo até o quarto de Kiehl.";
		set KielHyreQuest,74;
	}
	else if ((KielHyreQuest >= 74) && (KielHyreQuest <= 104)) {
		mes "[Kiel Hyre]";
		mes "Você está pronto";
		mes "confrontar";
		mes "Kiehl agora?";
		next;
		switch(select("Sim não")) {
		case 1:
			mes "[Kiel Hyre]";
			mes "Aí... o segredo";
			mes "a passagem está aberta agora.";
			mes "Basta ir para a direita de";
			mes "eu, mas tenha cuidado. ";
			mes "é extremamente perigoso.";
			close2;
			enablenpc "Kiehl_Room_Warp";
			donpcevent "Kiehl_Room_Warp::OnEnable";
			cutin "",255;
			end;
			break;
		case 2:
			mes "[Kiel Hyre]";
			mes "Por favor, leve o seu";
			mes "tempo. ";
			mes "não será fácil.";
			break;
		}
	}
	else if ((KielHyreQuest >= 74) && (KielHyreQuest <= 106)) {
		cutin "kh_kyel01",2;
		mes "[Kiel Hyre]";
		mes "Você voltou...!";
		mes "Então você foi capaz";
		mes "para recuperar o de Allysia";
		mes "Anel do coração de Kiehl?";
		next;
		if (countitem(7508) < 1) {
			mes "[Kiel Hyre]";
			mes "Quer dizer... Você não tem?";
			mes "Por favor, recupere o Anel de Allysia";
			mes "do coração de Kiehl!";
			next;
			enablenpc "Kiehl_Room_Warp";
			donpcevent "Kiehl_Room_Warp::OnEnable";
			close2;
			cutin "",255;
			end;
		}
		mes "[Kiel Hyre]";
		mes "O que aconteceu...?";
		mes "Kiehl desenvolveu um novo";
		mes "corpo para si mesmo? ";
		mes "faria dele um quarto";
		mes "Robô de geração. ";
		mes "não faço ideia que ele era tão inteligente.";
		next;
		mes "[Kiel Hyre]";
		mes "Espere, agora que penso";
		mes "isso, eu vi corpos de robôs que";
		mes "parecia Kiehl quando eu era";
		mes "trancado na fábrica. ";
		mes "estava usando essas cópias para";
		mes "desenvolver atualizações pessoais.";
		next;
		mes "[Kiel Hyre]";
		mes "Aqui, por favor, pegue isso";
		mes "Cartão-chave que permitirá que você";
		mes "entre e investigue o";
		mes "níveis mais profundos da fábrica.";
		mes "Vou investigar o quarto de Kiehl.";
		getitem 7509,1; //Fancy_Key_Card
		set KielHyreQuest,108;
		next;
		if (Sex == SEX_FEMALE) {
			if (getpartnerid() == 0) set .@KHTitle$,"Perder";
			else set .@KHSTitle$,"Sra";
		}
		else set .@KHTitle$,"Senhor";
		mes "[Kiel Hyre]";
		mes "Kiehl é minha responsabilidade...";
		mes "Não importa qual seja o custo";
		mes "seja, eu tenho que pará-lo! ";
		mes "e aqui, por favor, pegue isso";
		mes "com meu agradecimento por tudo";
		mes "sua ajuda,"+.@KHTitle$+""+strcharinfo(0)+".";
		getitem 616,1;  //Old Card Album
		delitem 7508,1; //Elysia_Ring
		getexp (checkre(3))?100000:1000000,0;
	}
	else if (KielHyreQuest >= 108) {
		mes "[Kiel Hyre]";
		mes "......";
		mes ".........";
		mes "............";
	}
	close2;
	cutin "",255;
	end;
}


//----------------------------------------------------------------------------
// Allysia
//----------------------------------------------------------------------------
kh_mansion,18,30,4	script	Allysia	894,{
	if (KielHyreQuest < 46) {
		mes "[Alísia]";
		mes "Quem é você?";
		mes "Como você chegou aqui?";
		mes "Vá embora";
		close;
	}
	cutin "kh_ellisia",2;
	if (KielHyreQuest < 70) {
		mes "[Alísia]";
		mes "Você deve estar surpreso";
		mes "por tudo o que foi";
		mes "acontecendo. ";
		mes "seria mais fácil de entender";
		mes "se eu explicasse sobre robôs?";
		next;
		switch(select("Sim não")) {
		case 1:
			mes "[Alísia]";
			mes "Os robôs que você foi";
			mes "encontros são automatizados";
			mes "fantoches mecânicos que podem";
			mes "pensar e operar de forma independente.";
			mes "Muitos sábios tentaram desenvolver";
			mes "seus próprios robôs, mas falharam.";
			next;
			mes "[Alísia]";
			mes "Meu mestre, Kiel Hyre, tem";
			mes "estuda robótica desde";
			mes "ele tinha vinte anos e";
			mes "desenvolveu três diferentes";
			mes "gerações de robôs, o primeiro,";
			mes "segunda e terceira gerações.";
			next;
			switch(select("Primeira Geração:Segunda Geração:Terceira Geração")) {
			case 1:
				mes "[Alísia]";
				mes "Eu sou um bom exemplo de um";
				mes "da Primeira Geração de Kiel Hyre";
				mes "robôs. ";
				mes "uma estrutura mecânica pesada,";
				mes "um coração robótico e quimicamente";
				mes "cobertura de pele sintetizada.";
				next;
				mes "[Alísia]";
				mes "Minha unidade central de processamento,";
				mes "equivalente ao seu cérebro, é";
				mes "essencialmente um pergaminho de memória";
				mes "com base no design do";
				mes "Pergaminhos de feitiços mágicos que você";
				mes "aventureiros usam em batalha.";
				next;
				mes "[Alísia]";
				mes "Eu sou o tipo mais antigo de";
				mes "robô humanóide, então eu peso";
				mes "muito, e minha mente só pode";
				mes "processar uma quantidade limitada de";
				mes "dados. ";
				mes "emoção semelhante a um ser humano.";
				next;
				break;
			case 2:
				mes "[Alísia]";
				mes "Os robôs da primeira geração";
				mes "foram desenvolvidos principalmente";
				mes "partes mecânicas, mas o";
				mes "Robôs de segunda geração";
				mes "Homúnculo incorporado";
				mes "Ciência e Tecnologia.";
				next;
				mes "[Alísia]";
				mes "Robôs de segunda geração";
				mes "são mais realistas, pois";
				mes "ter uma pele criada artificialmente";
				mes "e carne, embora ainda";
				mes "são construídos a partir de um pesado";
				mes "estrutura mecânica.";
				next;
				mes "[Alísia]";
				mes "Pergaminho Elemental do Sábio";
				mes "tecnologia também foi usada";
				mes "para desenvolver o Condensado";
				mes "Pergaminho de Memória, um elemento central";
				mes "unidade de processamento superior àquela";
				mes "usado em robôs de primeira geração.";
				next;
				mes "[Alísia]";
				mes "Embora a memória condensada";
				mes "Os pergaminhos foram 100.000 vezes";
				mes "mais poderoso que o normal";
				mes "Pergaminhos de Memória, eles eram";
				mes "problemático e eram propensos";
				mes "a muitos problemas de erro.";
				next;
				mes "[Alísia]";
				mes "Robôs de segunda geração";
				mes "foram capazes de expressar";
				mes "emoção semelhante à humana, mas a sua";
				mes "a produção foi interrompida após seis";
				mes "anos porque eles eram";
				mes "considerado defeituoso.";
				next;
				break;
			case 3:
				mes "[Alísia]";
				mes "Robôs de terceira geração";
				mes "foram projetados principalmente por";
				mes "O filho de Kiel Hyre, Kiehl,";
				mes "e não use um mecânico";
				mes "quadro: todo o";
				mes "corpo é basicamente um homúnculo.";
				next;
				mes "[Alísia]";
				mes "Com seus corpos orgânicos";
				mes "e corações artificiais avançados";
				mes "feito de imitação de coração de Ymir";
				mes "Peças, eles podem experimentar";
				mes "fenômenos fisiológicos";
				mes "assim como os humanos comuns.";
				next;
				mes "[Alísia]";
				mes "Kiehl foi capaz de desenvolver";
				mes "uma forma mais estável de";
				mes "Pergaminho de Memória Condensada";
				mes "que não sofre";
				mes "erros críticos e podem ser";
				mes "processado em massa de forma barata.";
				next;
				mes "[Alísia]";
				mes "Elly é na verdade uma terceira";
				mes "Protótipo de geração. ";
				mes "otimizamos os protótipos,";
				mes "começaremos a produção em massa.";
				mes "Na verdade, a academia é a nossa";
				mes "campo de testes de protótipos.";
				next;
				mes "[Alísia]";
				mes "O fato de que nosso protótipo";
				mes "robôs podem interagir exatamente como";
				mes "humanos reais é a prova de nossa";
				mes "sucesso na robótica.";
				next;
				break;
			}
		case 2:
			mes "[Alísia]";
			mes "Por favor, deixe-me saber se";
			mes "você gostaria de saber mais";
			mes "sobre os robôs de Kiel Hyre.";
			break;
		}
	}
	else {
		mes "[Alísia]";
		mes "......";
		mes ".........";
		mes "............";
	}
	close2;
	cutin "",255;
	end;
}

//----------------------------------------------------------------------------
// Abduction triggering NPC
//----------------------------------------------------------------------------
lighthalzen,188,200,0	script	Abduction_trigger	-1,3,1,{
OnTouch:
	if (KielHyreQuest == 50) {
		mes "^3355FFAs você saiu";
		mes "a mansão, algo";
		mes "quebrou o topo do seu";
		mes "cabeça, e você instantaneamente";
		mes "perder consciência...";
		close2;
		percentheal -99,0;
		warp "kh_mansion",30,75;
	}
	end;
}

//----------------------------------------------------------------------------
// Mysterious Woman "Mitchell Leila"
//----------------------------------------------------------------------------
kh_mansion,25,79,4	script	Mysterious Woman#kh	727,3,3,{

OnTouch:
	if (KielHyreQuest == 50) {
		mes "^3355FFVocê acorda com seu";
		mes "cabeça latejando dolorosamente,";
		mes "e uma mulher misteriosa";
		mes "parado na sua frente.^000000";
		next;
		mes "[??????]";
		mes "Hum? ";
		mes "mais cedo do que eu pensava.";
		mes "Você deve se sentir confuso,";
		mes "mas ouça com atenção. ";
		mes "não, então não posso garantir";
		mes "sua segurança, ok? ";
		next;
		mes "[??????]";
		mes "Tudo que você precisa saber";
		mes "que eu sou um agente secreto para";
		mes "a República Schwarzwald";
		mes "governo. ";
		mes "atividade anormal entre Kiel";
		mes "Hyre e a Rekenber Corporation.";
		next;
		mes "[??????]";
		mes "Vimos você entrar no";
		mes "mansão e fale com";
		mes "Kiel Hyre, então basicamente";
		mes "você está aqui para interrogatório.";
		mes "Agora me diga a verdade. ";
		mes "você conhece Kiel Hyre?";
		next;
		switch(select("Vou te contar tudo!:Não sei de nada!")) {
		case 2:
			mes "[??????]";
			mes "Não...sei...nada?";
			mes "Você tem certeza disso? ";
			mes "alguns poucos selecionados podem até falar";
			mes "com Kiel Hyre pessoalmente. ";
			mes "deve ter alguma conexão";
			mes "para ele. ";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "......";
			mes ".........";
			mes "............";
			next;
			mes "[??????]";
			mes "Você está tentando proteger";
			mes "ele? ";
			mes "não entendo que tipo de";
			mes "pessoa com quem você realmente está lidando";
			mes "com aqui. ";
			mes "Eu aprendi sobre ele...";
			next;
			mes "[??????]";
			mes "Kiel Hyre. ";
			mes "Fundação Kiel Hyre,";
			mes "fabricante de vários";
			mes "máquinas. ";
			mes "como uma pequena loja Einbroch cujo";
			mes "a tecnologia lentamente se tornou famosa.";
			next;
			mes "[??????]";
			mes "Rekenber Corporation oferecida";
			mes "uma fusão com a Kiel Hyre";
			mes "Fundação. ";
			mes "claro por que eles queriam Kiel";
			mes "Hyre em particular para reparar";
			mes "e desenvolver seus Guardiões...";
			next;
			mes "[??????]";
			mes "Também não sabemos por que";
			mes "eles queriam de repente";
			mes "concentre-se mais no Guardian";
			mes "desenvolvimento. ";
			mes "de repente, o filho de Kiel Hyre";
			mes "aparece do nada.";
			next;
			mes "[??????]";
			mes "É muito suspeito.";
			mes "Não há registros dele";
			mes "nascimento ou algo assim. ";
			mes "Kiel Hyre realmente o tinha";
			mes "com sua secretária, Allysia.";
			mes "Bem, ninguém tem certeza.";
			next;
			mes "[??????]";
			mes "De qualquer forma, Kiel Hyre";
			mes "filho e herdeiro, Kiehl, ajudou";
			mes "seu pai estabeleceu isso";
			mes "academia especial como seu";
			mes "forma de retribuir à sociedade.";
			next;
			mes "[??????]";
			mes "Quase todas as empresas e";
			mes "organização tentou obter seu";
			mes "espiões para entrar nesta academia,";
			mes "mas todos eles foram rejeitados.";
			mes "é estranho. ";
			mes "eles deveriam ter conseguido entrar.";
			next;
			mes "[??????]";
			mes "E recentemente, Kiehl Hyre";
			mes "realizou uma reunião secreta com";
			mes "Executivos da Rekenber anunciarão";
			mes "seu novo projeto. ";
			mes "criar robôs humanóides avançados";
			mes "que substituirá os guardiões!";
			next;
			mes "[??????]";
			mes "Nossos espiões relataram que";
			mes "Kiel Hyre não estava em lugar nenhum";
			mes "ser visto naquela reunião,";
			mes "bem como seu confiável";
			mes "secretária, Allysia. ";
			mes "Ele simplesmente desapareceu!";
			next;
			mes "[??????]";
			mes "Então, Kiel Hyre volta";
			mes "afinal em sua mansão";
			mes "desta vez como se nada";
			mes "ocorrido! ";
			mes "Kiehl desaparece, sob o";
			mes "desculpa para realizar pesquisas.";
			next;
			mes "[??????]";
			mes "Rekenber está patrocinando";
			mes "tanto Kiehl quanto Kiel, mas";
			mes "há algum tipo de conflito";
			mes "acontecendo entre pai e";
			mes "filho, eu simplesmente sei disso! ";
			mes "eu, o que está acontecendo?";
			next;
			mes "[??????]";
			mes "Não tenho certeza de quão bem você";
			mes "conheço este país, mas o";
			mes "fato de que Rekenber está envolvido";
			mes "devo lhe dizer que estes não são";
			mes "pessoas boas. ";
			mes "você sabe sobre eles!";
			next;
		case 1:
			mes "^3355FFVocê diz à mulher^000000";
			mes "^3355FFtudo que você sabe^000000";
			mes "^3355FFsobre Kiel Hyre. ";
			mes "^3355FFvoz treme de tristeza^000000";
			mes "^3355FFsempre que você menciona Elly.^000000";
			next;
			mes "[??????]";
			mes "Eu vejo, eu vejo...";
			mes "Aquela pobre garota... Então...";
			mes "Seu envolvimento nisso";
			mes "é uma coincidência? ";
			mes "caso, quero sua ajuda";
			mes "em nossa investigação.";
			next;
			switch(select("OK:......")) {
			case 2:
				mes "[??????]";
				mes "Se você não cooperar,";
				mes "então não posso garantir";
				mes "sua segurança, aventureiro";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "Huh? ";
				mes "O que isso significa?";
				mes "Você está me ameaçando?";
				next;
				select("Apenas faça o que ela diz.");
			case 1:
				mes "[??????]";
				mes "Ótimo.";
				mes "Sou o agente Mitchell Layla.";
				mes "De agora em diante, você está trabalhando";
				mes "para a República Schwarzwald!";
				set KielHyreQuest,52;
				close;
			}
		}
	}
	else if (KielHyreQuest == 52) {
		mes "[Michel]";
		mes "Eu tenho algumas novidades";
		mes "informações para você.";
		mes "Tem uma velha senhora";
		mes "Juno que conhecia uma mulher";
		mes "chamada Allysia há 30 anos.";
		next;
		mes "[Michel]";
		mes "O argumento decisivo é que isso";
		mes "Allysia de 30 anos atrás";
		mes "cometeu suicídio e está";
		mes "idêntico ao de Kiel Hyre";
		mes "secretário, que também é";
		mes "chamada Alisia.";
		next;
		mes "[Michel]";
		mes "Isso é demais";
		mes "coincidência. ";
		mes "vá até Juno e investigue.";
		mes "Quando terminar, fale com";
		mes "Mordomo de Kiel Hyre, e";
		mes "ele vai mandar você para mim.";
		next;
		mes "[Michel]";
		mes "Sim, eu sei.";
		mes "Esse cara na verdade";
		mes "funciona para mim. ";
		mes "quando você estiver pronto para ir";
		mes "para Juno, me avise, e você";
		mes "pode embarcar no dirigível federal.";
		set KielHyreQuest,54;
		close;
	}
	else if (KielHyreQuest == 54) {
		mes "[Michel]";
		mes "Você está pronto?";
		mes "Eu vou deixar você embarcar";
		mes "o dirigível federal então";
		mes "você pode chegar a Juno, e";
		mes "termine sua missão rapidamente.";
		next;
		switch(select("Sim não")) {
		case 1:
			mes "[Michel]";
			mes "Boa sorte. ";
			mes "complete sua missão,";
			mes "certifique-se de relatar";
			mes "para o administrador de Kiel Hyre, então";
			mes "que ele pode enviar você para mim.";
			close2;
			warp "yuno",54,209;
			end;
		case 2:
			mes "[Michel]";
			mes "Sem pressa...";
			mes "Mas tenha em mente que";
			mes "Não sou uma mulher paciente!";
			close;
		}
	}
	else if (KielHyreQuest == 64) {
		mes "[Michel]";
		mes "Ah, você está de volta.";
		mes "O que você tem";
		mes "para relatar do seu";
		mes "investigação?";
		next;
		mes "[Michel]";
		mes ".....................";
		mes "Ah, entendo. ";
		mes "Por que você não vai falar com Kiel";
		mes "Hyre e confronte-o com";
		mes "sobre o que você aprendeu";
		mes "seu passado? ";
		next;
		mes "[Michel]";
		mes "Use este microfone oculto,";
		mes "para que possamos enviar ajuda se";
		mes "você está em perigo. ";
		mes "você descobrir quem é Kiel";
		mes "realmente é, e qual é o dele";
		mes "relacionamento com Rekenber.";
		set KielHyreQuest,68;
		next;
		warp "kh_mansion",83,50;
		end;
	}
	else if (KielHyreQuest >= 68) {
		mes "[Michel]";
		mes "Você não deveria estar";
		mes "saindo agora?";
		next;
		warp "kh_mansion",83,50;
		end;
	}
}

//----------------------------------------------------------------------------
// Warp portal into Kiehl's 'Room'
// - Anyone can enter
// - After 30-40 seonds this NPC should be disabled.
//----------------------------------------------------------------------------
kh_mansion,27,27,0	script	Kiehl_Room_Warp	45,2,2,{
OnTouch_:
	warp "kh_kiehl01",10,31;
	end;

OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Kiehl_Room_Warp";
	end;

OnInit:
	disablenpc "Kiehl_Room_Warp";
	end;
}

//============================================================================
// Rosimier NPCs and other Related NPCs
//============================================================================

//----------------------------------------------------------------------------
// Odd Grandma
//----------------------------------------------------------------------------
yuno,257,140,4	script	Odd Grandma	846,{
	if (KielHyreQuest < 54) {
		mes "[Avó]";
		mes "Onde você foi,";
		mes "meu querido? ";
		mes "é você, minha querida?";
		close;
	}
	else if (KielHyreQuest == 54) {
		mes "[Avó]";
		mes "Canção de ninar...";
		mes "Diga boa noite...";
		mes "Calma, bebêzinho...";
		mes "Vá dormir ~";
		next;
		switch(select("O que você está fazendo?:Hum, eu não vejo um bebê...")) {
		case 1:
			mes "[Avó]";
			mes "Oh? ";
			mes "chorando e não consigo parecer";
			mes "dormir. ";
			mes "descansar, para que eu possa ir trabalhar.";
			mes "A casa está tão bagunçada,";
			mes "e o chefe está infeliz...";
			set KielHyreQuest,56;
			next;
			select("Hum, eu não vejo um bebê...");
			mes "[Avó]";
			mes "O que, ela está certa--";
			mes "Bem. ";
			mes "você esta fazendo? ";
			mes "comportar-se mal na frente de";
			mes "nossos amigos! ";
			mes "bom, minha garotinha.";
			//GetHEALTHSTATE VAR_CURSE 30
			close;
		case 2:
			mes "[Avó]";
			mes "O que você está...?";
			mes "Ah, olhe isso.";
			mes "Você fez meu pequeno";
			mes "querido, chore! ";
			mes "silêncio, pequena ^0000FFAllysia^000000.";
			mes "Vá dormir ~";
			close;
		}
	}
	else if ((KielHyreQuest >= 56) && (KielHyreQuest < 60)) {
		mes "[Avó]";
		mes "Alisia...?!";
		mes "Allysia, onde foi";
		mes "você vai? ";
		mes "deveria vir";
		mes "casa há um tempo atrás!";
		if (countitem(7500) < 1) { 
			close;
		}
		else {
			next;
			switch(select("Alisia? ")) {
			case 1:
				cutin "kh_ellisia_port",1;
				mes "^3355FFVocê mostra o de Allysia";
				mes "retrato para a velha.^000000";
				next;
				cutin "",255;
				mes "[Avó]";
				mes "Ah, você sabe";
				mes "Alisia? ";
				mes "ausente! ";
				mes "ontem e não";
				mes "voltar! ";
				mes "me diga onde ela está?!";
				close;
			}
		}
	}
	else if (KielHyreQuest >= 60) {
		mes "[Avó]";
		mes "Não se preocupe, Alisia...";
		mes "Mamãe sempre será";
		mes "aqui para você. ";
		mes "preciso ficar triste...";
		close;
	}
}

//----------------------------------------------------------------------------
// Old Lady; gives you the key to the Rosimier Mansion
//----------------------------------------------------------------------------
yuno,250,132,0	script	Old Lady#kh	711,{
	if (KielHyreQuest < 56) {
		mes "[Velha Senhora]";
		mes "Oooh, minhas pernas e costas";
		mes "estão tão doloridos. ";
		mes "os ossos doem por toda parte...";
		close;
	}
	else if (KielHyreQuest == 56) {
		if (checkweight(7498,1) == 0) {
			mes "^3355FFSó um segundo...";
			mes "Você está carregando também";
			mes "muitos itens com você";
			mes "agora, então você vai";
			mes "preciso liberar mais";
			mes "Espaço de inventário primeiro...^000000";
			close;
		}
		mes "[Velha Senhora]";
		mes "Meu Deus, eu odeio isso";
		mes "clima! ";
		mes "de quantos anos eu tenho!";
		mes "Isso arrepia meus ossos, é verdade!";
		next;
		switch(select("......:Você conhece aquela vovó?")) {
		case 1:
			mes "[Velha Senhora]";
			mes "Caramba! ";
			mes "tenha todas essas aventuras";
			mes "na minha juventude! ";
			mes "Eu não sofreria tanto em";
			mes "minha idade avançada!";
			close;
		case 2:
			mes "[Velha Senhora]";
			mes "Oh sim. ";
			mes "a mãe do meu melhor";
			mes "amigo, ^3355FFAllysia^000000. ";
			mes "ela cometeu suicídio, coisas";
			mes "não têm sido os mesmos. ";
			mes "mãe perdeu a sanidade...";
			next;
			select("Foi ^3355FFAllysia^000000...?");
			mes "[Velha Senhora]";
			mes "Ah, Allysia era tão";
			mes "uma linda garota. ";
			mes "os homens a queriam, especialmente";
			mes "aquele arrojado James Rosimier.";
			mes "Lembro-me de ouvir que eles";
			mes "íamos nos casar...";
			next;
			mes "[Velha Senhora]";
			mes "Fiquei tão feliz por ela!";
			mes "Mas então, de repente,";
			mes "ela se matou. ";
			mes "isso é o que todos dizem.";
			mes "Ainda hoje, ainda não estou";
			mes "certeza do que aconteceu.";
			next;
			select("Espere, quem é James Rosimier?");
			mes "[Velha Senhora]";
			mes "Ah, James pertencia a";
			mes "um dos mais antigos e ricos";
			mes "famílias em Juno. ";
			mes "estava indo muito bem para eles, mas";
			mes "algum tempo depois da morte de Allysia,";
			mes "a família faliu.";
			next;
			mes "[Velha Senhora]";
			mes "A cidade administra seus";
			mes "antiga residência agora. ";
			mes "alguma razão, eles decidiram";
			mes "para me confiar o mestre";
			mes "chave da Mansão Rosimier.";
			next;
			select("Posso pegar emprestada a Chave Mestra?");
			mes "[Velha Senhora]";
			mes "Bem, eu realmente não estou";
			mes "deveria dar para apenas";
			mes "qualquer um, mas posso dizer isso";
			mes "você está trabalhando com Allysia";
			mes "melhores interesses no coração.";
			next;
			mes "[Velha Senhora]";
			mes "No entanto, você tem que";
			mes "certifique-se de retornar";
			mes "isso para mim diante do povo";
			mes "da Prefeitura me peça isso.";
			mes "Tudo bem então, espero que você encontre";
			mes "O que você está procurando.";
			getitem 7498,1; //Rosimier_Key
			set KielHyreQuest,58;
			close;
		}
	}

	else if ((KielHyreQuest == 58) &&
		(countitem(7499) < 1) || 
		(countitem(7500) < 1) || 
		(countitem(7501) < 1) || 
		(countitem(7502) < 1)) {
		mes "[Velha Senhora]";
		mes "Por favor, apresse-se e encontre";
		mes "o que quer que você esteja procurando";
		mes "para na Mansão Rosimier.";
		mes "Eu poderia ter problemas se";
		mes "o pessoal da prefeitura";
		mes "venha me pedir a chave...";
		close;
	}

	else if ((KielHyreQuest == 58) &&
		(countitem(7499) == 1) && 
		(countitem(7500) == 1) && 
		(countitem(7501) == 1) && 
		(countitem(7502) == 1)) {
		mes "[Velha Senhora]";
		mes "Ah, você terminou";
		mes "procurando na mansão?";
		mes "Deprimente, não é?";
		mes "Os credores basicamente";
		mes "saqueou tudo";
		mes "a muito tempo atras.";
		next;
		select("Por que ^3355FFAllysia^000000...?");
		mes "[Velha Senhora]";
		mes "Bem, eu sei que James";
		mes "e Allysia estavam apaixonados,";
		mes "e ele prometeu se casar";
		mes "dela. ";
		mes "família já noiva";
		mes "ele para outra mulher.";
		next;
		mes "[Velha Senhora]";
		mes "O tempo passou e ele";
		mes "foi forçado a se casar com seu";
		mes "noiva. ";
		mes "devastado. ";
		mes "foi isso que ela... você sabe...";
		next;
		mes "[Velha Senhora]";
		mes "Ouça, se você quiser aprender";
		mes "mais sobre o que aconteceu,";
		mes "então eu acho que você deveria conversar";
		mes "para o ^3355FFpescador que vive^000000";
		mes "^3355FFao sul da Academia Kiel Hyre.^000000";
		next;
		mes "[Velha Senhora]";
		mes "Ele é quem encontrou";
		mes "O corpo de Allysia no rio,";
		mes "então ele pode ter um melhor";
		mes "idéia do que havia acontecido.";
		delitem 7498,1; //Rosimier_Key 
		set KielHyreQuest,60;
		close;
	}
	else if (KielHyreQuest >= 60) {
		mes "[Velha Senhora]";
		mes "Sim, a chuva está chegando.";
		mes "Posso sentir isso em meus ossos.";
		close;
	}
}


//----------------------------------------------------------------------------
// Warp portal into Rosimier Mansion
//----------------------------------------------------------------------------
yuno,273,141,0	script	Rosimmir_Entrance	45,2,2,{
OnTouch_:
	if (countitem(7498) < 1) {
		mes "Aquela mansão parece ter";
		mes "foi destruído pelo tempo.";
		mes "No entanto, a porta parece";
		mes "ainda estaria operacional se";
		mes "você tinha a chave certa.";
		close;
	}
	else {
		warp "kh_rossi",20,92;
	}
	end;
}

//----------------------------------------------------------------------------
// Rosimier Mansion, first floor; Table
//----------------------------------------------------------------------------
kh_rossi,23,23,0	script	Table#khr2	111,{
	if (checkweight(7499,1) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "Espaço de inventário primeiro...^000000";
		close;
	}
	if (KielHyreQuest < 58) {
		mes "^3355FFNão há nada aqui";
		mes "de importância para você.^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		if (countitem(7499) < 1) {
			cutin "kh_family_port",1;
			mes "^3355FFVocê examina a mesa,";
			mes "e encontre um retrato emoldurado";
			mes "dentro da gaveta aberta.^000000";
			getitem 7499,1; //Family_Portrait
		}
		else {
			mes "^3355FFA gaveta aberta de";
			mes "esta mesa agora está vazia.^000000";
		}
	}
	else{
		mes "^3355FFEsta era a mesa em";
		mes "que você obteve o";
		mes "Retrato de família Rosimier.";
		mes "Suas gavetas estão vazias agora.^000000";
		close;
	}
	close2;
	cutin "",255;
	end;
}

//----------------------------------------------------------------------------
// Rosimier Mansion, first floor; Shelf
//----------------------------------------------------------------------------
kh_rossi,92,40,0	script	Shelf#khr	111,{
	if (checkweight(7500,1) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "Espaço de inventário primeiro...^000000";
		close;
	}
	if (KielHyreQuest < 58) {
		mes "^3355FFNão há nada aqui";
		mes "de importância para você.^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		if (countitem(7500) < 1) {
			mes "^3355FFHá bloqueado";
			mes "caixas nessas estantes.";
			mes "Talvez se você usasse isso";
			mes "chave mestra das mansões, você";
			mes "talvez consiga abri-los.^000000";
			next;
			switch(select("Use a chave: Passe")) {
			case 1:
				mes "^3355FFQual caixa você";
				mes "quer tentar abrir?^000000";
				next;
				switch(select("Primeira Caixa:Segunda Caixa")) {
				case 1:
					mes "^3355FFVocê usa a chave mestra para";
					mes "desbloqueie a caixa e obtenha";
					mes "um retrato de uma mulher que";
					mes "parece com o de Kiel Hyre";
					mes "assistente, Allysia.^000000";
					next;
					cutin "kh_ellisia_port",2;
					mes "^3355FFA mensagem, ''Para meu amor,";
					mes "Alisia. ";
					mes "escrito no verso.^000000";
					getitem 7500,1; //Elysia_Portrait
					close2;
					cutin "",255;
					end;
				case 2:
					mes "^3355FFEsta caixa está vazia.^000000";
					close;
				}
			case 2:
				mes "^3355FFEsta caixa está vazia.^000000";
				close;
			}
		}
		else {
			mes "^3355FFVocê encontrou uma mulher";
			mes "retrato em um dos";
			mes "caixas nesta prateleira.^000000";
			close;
		}
	}
	else {
		mes "^3355FFVocê encontrou uma mulher";
		mes "retrato em um dos";
		mes "caixas nesta prateleira.";
		mes "Esta caixa agora está vazia.^000000";
		close;
	}
}


//----------------------------------------------------------------------------
// Rosimier Mansion, top floor; Desk
//----------------------------------------------------------------------------
kh_rossi,144,286,0	script	Desk#khr3	111,{
	if (checkweight(7501,1) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "Espaço de inventário primeiro...^000000";
		close;
	}
	if (KielHyreQuest < 58) {
		mes "^3355FFÉ apenas uma mesa.^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		mes "^3355FFA mesa tem";
		mes "três gavetas.^000000";
		next;
		switch(select("Primeira gaveta:Segunda gaveta:Terceira gaveta:Cancelar")) {
		case 1:
			mes "^3355FFA primeira gaveta está trancada.^000000";
			close;
		case 2:
			if (countitem(7501) < 1) {
				mes "^3355FFHá uma carta dentro";
				mes "esta segunda gaveta. ";
				mes "foi enviado por uma pessoa";
				mes "com as iniciais, K.H.,";
				mes "e endereçado a Allysia.^000000";
				getitem 7501,1; //Kyll_Hyre_Letter2
				close;
			}
			else {
				mes "^3355FFEsta gaveta agora está vazia.^000000";
				close;
			}
		case 3:
			mes "^3355FFHá uma pequena nota";
			mes "dentro desta terceira gaveta.";
			mes "Foi escrito por James e";
			mes "menciona que quer";
			mes "casar com Allysia, e que ela";
			mes "recebeu um anel de noivado.^000000";
			close;
		case 4:
			mes "......";
			mes ".........";
			mes "............";
			close;
		}
	}
	else{
		mes "^3355FFEsta é a mesa onde";
		mes "você encontrou uma carta escrita";
		mes "por K.H., e uma nota rabiscada";
		mes "por James Rosimier. ";
		mes "estes são endereçados a";
		mes "a mesma mulher, Allysia.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Rosimier Mansion, top floor; Bookshelf
//----------------------------------------------------------------------------
kh_rossi,148,288,0	script	Bookshelf#khr	111,{
	if (checkweight(7502,1) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "Espaço de inventário primeiro...^000000";
		close;
	}
	if (KielHyreQuest < 58) {
		mes "^3355FFVocê encontra uma poeira";
		mes "estante cheia de";
		mes "numerosos livros.^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		if (countitem(7502) < 1) {
			mes "^3355FFVocê encontra uma poeira";
			mes "estante cheia de";
			mes "numerosos livros. ";
			mes "encontre uma nota dobrada entre";
			mes "os livros conforme você os examina.^000000";
			getitem 7502,1; //Piece_Memo_Of_James
			close;
		}
		else {
			mes "^3355FFVocê encontra uma poeira";
			mes "estante cheia de";
			mes "numerosos livros.^000000";
			close;
		}
	}
	else{
		mes "^3355FFVocê encontra uma poeira";
		mes "estante cheia de";
		mes "numerosos livros.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Rosimier Mansion, top floor; Bed
//----------------------------------------------------------------------------
kh_rossi,154,286,0	script	Bed#khr	111,{
	if (KielHyreQuest < 58) {
		mes "^3355FFVocê encontrou um bem feito";
		mes "cama que recolheu";
		mes "uma espessa camada de poeira";
		mes "após anos de desuso.^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		mes "^3355FFVocê encontrou um bem feito";
		mes "cama que recolheu";
		mes "uma espessa camada de poeira";
		mes "após anos de desuso.^000000";
		next;
		switch(select("Verifique os lençóis: verifique embaixo da cama")) {
		case 1:
			mes "^3355FFVocê escova a cama";
			mes "superfície com a mão,";
			mes "causando uma nuvem de desagradável";
			mes "poeira para irritar o nariz";
			mes "e garganta. ";
			percentheal -10,0;
			close;
		case 2:
			mes "^3355FFVocê pesquisa abaixo";
			mes "a cama e encontre um lugar vazio";
			mes "caixa de anel de noivado.^000000";
			close;
		}
	}
	else {
		mes "^3355FFEsta é uma cama suja.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Fisherman
//----------------------------------------------------------------------------
yuno_fild12,232,222,0	script	Old Fisherman	709,{
	if (KielHyreQuest < 60) {
		mes "[Pescador]";
		mes "Hoje em dia, é muito";
		mes "mais difícil de capturar e pescar.";
		mes "Desde que construíram";
		mes "esta fábrica, o peixe";
		mes "começaram a mudar,";
		mes "e eles parecem diferentes também...";
		close;
	}
	else if (KielHyreQuest == 60) {
		mes "[Pescador]";
		mes "Eh? ";
		mes "Ei, jovens! ";
		mes "o quanto você adora apostilas,";
		mes "mas você não está recebendo nenhum.";
		mes "Agora, se você me trouxer um pouco";
		mes "Peixe cru, eu seria mais amigável~";
		if (countitem(544) >= 10)  {
			next;
			mes "[Pescador]";
			mes "Oh, tudo isso é peixe";
			mes "para mim? ";
			mes "generoso da sua parte. ";
			mes "vai ser tão gentil, então";
			mes "Acho que tenho que retribuir";
			mes "o favor. ";
			next;
			select("Há 30 anos, uma mulher se matou...");
			mes "[Pescador]";
			mes "Oh? ";
			mes "Eu lembro disso. ";
			mes "era 20 de agosto, meu";
			mes "aniversário da esposa. ";
			mes "em vez de pescar,";
			mes "Peguei uma mulher morta.";
			next;
			mes "[Pescador]";
			mes "Claro, eu relatei";
			mes "para a Polícia Juno!  ";
			mes "eu ela se matou desde";
			mes "ela foi traída por seu amante,";
			mes "que por acaso também era ela";
			mes "empregador. ";
			next;
			mes "[Pescador]";
			mes "De qualquer forma, quando eles estavam";
			mes "movendo seu corpo para fora do";
			mes "rio, sua mão caiu";
			mes "algum anel. ";
			mes "esperando vendê-lo mais tarde por";
			mes "algum zeny. ";
			next;
			mes "[Pescador]";
			mes "Eu tive muita sorte";
			mes "a polícia não me viu pegar";
			mes "isto. ";
			mes "veio até mim e ofereceu";
			mes "me muito dinheiro por isso.";
			mes "Acho que foi meu dia de sorte!";
			next;
			mes "[Pescador]";
			mes "Eu descobri mais tarde que ele estava";
			mes "algum reparador mecânico--";
			mes "algo. ";
			mes "para comprar aquele anel, então eu acho";
			mes "ele queria isso desesperadamente.";
			mes "Então ele simplesmente desapareceu.";
			next;
			select("Você se lembra do nome dele?");
			mes "[Pescador]";
			mes "O nome dele...?";
			mes "Foi algo assim...";
			mes "Olá? ";
			mes "foi há muito tempo. ";
			mes "sua antiga casa ainda está por aí.";
			next;
			mes "[Pescador]";
			mes "Se você vai ficar";
			mes "tão curioso, você pode";
			mes "também confira.";
			mes "Vejamos, ele morava em";
			mes "uma cabana perto do nordeste";
			mes "acampamento de guarda florestal.";
			delitem 544,10; //Fish_Slice
			set KielHyreQuest,62;
			close;
		}
		else {
			close;
		}
	}
	else if (KielHyreQuest >= 62) {
		mes "[Pescador]";
		mes "Você não se lembra";
		mes "O que eu te disse? ";
		mes "cara morava em uma cabana perto";
		mes "a floresta nordeste";
		mes "acampamento de guarda! ";
		mes "você deu uma olhada naquele lugar?";
		close;
	}
}

//----------------------------------------------------------------------------
// Kiel Hyre's hut; Wooden Board
//----------------------------------------------------------------------------
yuno_fild09,158,217,0	script	Wooden Board#kh	111,{
	if (checkweight(7503,1) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "Espaço de inventário primeiro...^000000";
		close;
	}
	if ((KielHyreQuest < 62) || (KielHyreQuest >= 64)) {
		mes "^3355FFÉ inútil";
		mes "tábua de madeira";
		mes "nos arbustos.^000000";
		close;
	}
	else if (KielHyreQuest == 62) {
		mes "^3355FFVocê encontrou um longo";
		mes "tábua de madeira esculpida";
		mes "com as iniciais, ''K.H.''^000000";
		next;
		cutin "kh_kyel_port",2;
		mes "^3355FFVocê encontra um retrato de";
		mes "um jovem, que parece";
		mes "como uma versão mais jovem";
		mes "de Kiel Hyre, em um quebrado";
		mes "porta-retrato embaixo";
		mes "a velha tábua de madeira.^000000";
		getitem 7503,1;	//Man_Portrait
		set KielHyreQuest,64;
		next;
		cutin "",255;
		mes "^3355FFVocê tem o suficiente";
		mes "informações agora,";
		mes "então você deve relatar";
		mes "de volta para Mitchell.^000000";
		close;
	}
}

//============================================================================
// Kiehl Hyre's Room and Boss NPCs
//============================================================================
// Beyond here the NPC for the final areas.
// Now, this area is not someplace you wanna slow down so
// you can pick up dialog. I used packet logging to pull
// what I could and for the sake of the two people with me,
// did not bother doing all the proper NPC positioning
// or some of the 'error/wrong option' dialogs.
// All the doors are kind of weird.
//============================================================================

//----------------------------------------------------------------------------
// Kiehl's Room; Receiver (Gives black keycards upon killing mobs)
//----------------------------------------------------------------------------
kh_kiehl01,17,39,0	script	Receiver#kh	111,{
	if (mobcount("kh_kiehl01","Receptor") < 1) {
		mes "^333333*BBZZZZ*^000000";
		if (KielHyreQuest == 74) {
			next;
			mes "[????]";
			mes "^333333*Bzzzz...*";
			mes "Eu nunca vi você";
			mes "antes. ";
			mes "você me matar? ";
			mes "veja sobre isso! ";
			mes "tente me encontrar, aventureiro.^000000.";
			set KielHyreQuest,76;
		}
		close2;
		monster "kh_kiehl01",16,32,"Alicel",1739,1,"Receptor";
		monster "kh_kiehl01",18,31,"Aliot",1740,1,"Receptor";
		end;
	}

	else {
		end;
	}

OnMyMobDead:
	if (mobcount("kh_kiehl01","Receptor") <1) { 
		makeitem 7506,1,"this",19,36;
	}
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Flower Vase (Gives...password...for Box)
//----------------------------------------------------------------------------
kh_kiehl01,13,40,0	script	Flower Vase#kh1	111,{
	if (KielHyreQuest < 74) {
		mes "^3355FFVocê encontrou";
		mes "um vaso de flores.^000000";
		close;
	}
	if (KielHyreQuest >= 74) {
		mes "^3355FFVocê encontrou";
		mes "um vaso de flores.^000000";
		next;
		switch(select("Pegue o vaso:Quebre o vaso:Vire o vaso de cabeça para baixo")) {
		case 1:
			mes "^3355FFO vaso está vazio.^000000";
			close;
		case 2:
			mes "^3355FFVocê não pode destruir";
			mes "este vaso, mesmo por";
			mes "atingindo-o com todo o seu";
			mes "poder. ";
			mes "especialmente fabricado por";
			mes "a Corporação Rekenber.^000000";
			close;
		case 3:
			mes "^3355FFAs seguintes palavras";
			mes "estão escritos no";
			mes "fundo do vaso.^000000";
			next;
			mes "[Mensagem do Vaso]";
			mes "''O coelho muitas vezes";
			mes "observa a porta";
			mes "A noite come o";
			mes "laranja em conserva.";
			close;
		}
	}
	else{
		mes "^3355FFAs seguintes palavras";
		mes "estão escritos no";
		mes "fundo do vaso.^000000";
		next;
		mes "[Mensagem do Vaso]";
		mes "''O coelho muitas vezes";
		mes "observa a porta.";
		mes "A noite come o";
		mes "laranja em conserva.";
		close;
	}
}


//----------------------------------------------------------------------------
// Kiehl's Room; Box
//----------------------------------------------------------------------------
kh_kiehl01,19,25,0	script	Box#kh1	111,{
	if (checkweight(7505,1) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "Espaço de inventário primeiro...^000000";
		close;
	}
	if (KielHyreQuest < 74) {
		mes "^3355FFVocê encontrou uma caixa com";
		mes "um botão para cada letra";
		mes "do alfabeto em cima dele.^000000";
		next;
		input .@KHInput$;
		mes "^3355FFNada aconteceu.^000000";
		close;
	}
	if (KielHyreQuest >= 74) {
		if (countitem(7505) < 1) {
			mes "^3355FFVocê encontrou uma caixa com";
			mes "um botão para cada letra";
			mes "do alfabeto em cima dele.^000000";
			next;
			input .@KHInput$;
			if (.@KHInput$ == "abra a porta") {
				mes "^3355FFAssim que você entrar no";
				mes "senha, a porta próxima";
				mes "emite um toque agradável";
				mes "som, e a caixa estala";
				mes "abra para revelar uma pequena chave.^000000";
				getitem 7505,1; //Toy_Key
				close;
			}
			else {
				mes "^3355FFNada aconteceu.^000000";
				close;
			}
		}
		else {
			mes "^3355FFAqui é onde você";
			mes "encontrei a chave do brinquedo ^ 000000";
			close;
		}
	}
	else{
		mes "^3355FFA caixa é larga";
		mes "aberto, e lá";
		mes "não há nada nele.^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (First)
// - Anyone can pass through this door
// - Consume one Black KeyCard when opened.
// - Only one person actually needs to open it.
//----------------------------------------------------------------------------
kh_kiehl01,44,33,0	script	Big Door#BigDoorKHQ1	111,{
	if (.KHDoor1Opened == 0) {
		mes "^3355FFA porta está trancada,";
		mes "mas há um estreito";
		mes "slot próximo à maçaneta.^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Cartão-chave preto") {
			if (countitem(7506) >= 1) {
				mes "^3355FFVocê insere o";
				mes "Cartão-chave preto no";
				mes "slot e com sucesso";
				mes "destranque e abra a porta.^000000";
				delitem 7506,1; //Black_Key_Card
				donpcevent "Big_Door_1_Warp::OnEnable";
				enablenpc "Big_Door_1_Warp";
				set .KHDoor1Opened,1;
				close;
			}

		}
		mes "^3355FFVocê tenta empurrar o";
		mes "porta aberta com todos";
		mes "seu poder, mas falhe";
		mes "para fazê-lo se mover.^000000";
		close;
	}

	else {
		mes "^3355FFA porta está aberta.^000000";
		close;
	}
}

kh_kiehl01,43,33,0	script	Big_Door_1_Warp	45,1,1,{
OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Big_Door_1_Warp";
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_1_Warp";
	set getvariableofnpc(.KHDoor1Opened,"Big Door#BigDoorKHQ1"),0;
	end;

OnTouch_:
	warp "kh_kiehl01",55,33;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (second)
// - Consume Toy Key when opened.
// - Only one person actually needs to open it.
//----------------------------------------------------------------------------
kh_kiehl01,174,40,0	script	Big Door#BigDoorKHQ2	111,{
	if (.KHDoor2Opened == 0) {
		mes "^3355FFA porta está trancada,";
		mes "mas há um pequeno";
		mes "buraco da fechadura próximo ao botão.^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Chave de brinquedo") {
			if (countitem(7505) >= 1) {
				mes "^3355FFVocê insere a chave em";
				mes "o buraco da fechadura e a porta";
				mes "desbloqueia com um clique como";
				mes "você vira a chave.^000000";
				delitem 7505,1; //Toy_Key
				donpcevent "Big_Door_2_Warp::OnEnable";
				enablenpc "Big_Door_2_Warp";
				set .KHDoor2Opened,1;
				close;
			}

		}
		mes "^3355FFVocê tenta empurrar o";
		mes "porta aberta com todos";
		mes "seu poder, mas falhe";
		mes "para fazê-lo se mover.^000000";
		close;
	}
	else {
		mes "^3355FFA porta está aberta.^000000";
		close;
	}
}

kh_kiehl01,173,39,0	script	Big_Door_2_Warp	45,1,1,{
OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Big_Door_2_Warp";
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_2_Warp";
	set getvariableofnpc(.KHDoor2Opened,"Big Door#BigDoorKHQ2"),0;
	end;

OnTouch_:
	if (KielHyreQuest == 48)
		warp "kh_kiehl01",173,35;
	else
		warp "kh_kiehl01",173,52;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (Third)
// - Consume one Black KeyCard when opened.
// - Only one person actually needs to open it.
//----------------------------------------------------------------------------
kh_kiehl01,77,108,0	script	Big Door#BigDoorKHQ3	111,{
	if (.KHDoor3Opened == 0) {
		mes "^3355FFA porta está trancada,";
		mes "mas há um estreito";
		mes "slot próximo à maçaneta.^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Cartão-chave preto") {
			if (countitem(7506) >= 1) {
				mes "^3355FFVocê insere o";
				mes "Cartão-chave preto no";
				mes "slot e com sucesso";
				mes "destranque e abra a porta.^000000";
				delitem 7506,1; //Black_Key_Card
				donpcevent "Big_Door_3_Warp::OnEnable";
				enablenpc "Big_Door_3_Warp";
				set .KHDoor3Opened,1;
				close;
			}

		}
		mes "^3355FFVocê tenta empurrar o";
		mes "porta aberta com todos";
		mes "seu poder, mas falhe";
		mes "para fazê-lo se mover.^000000";
		close;
	}
	else {
		mes "^3355FFA porta está aberta.^000000";
		close;
	}
}

kh_kiehl01,78,107,0	script	Big_Door_3_Warp	45,1,1,{
OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Big_Door_3_Warp";
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_3_Warp";
	set getvariableofnpc(.KHDoor3Opened,"Big Door#BigDoorKHQ3"),0;
	end;

OnTouch_:
	if (KielHyreQuest == 49)
		warp "kh_kiehl01",82,108;
	else
		warp "kh_kiehl01",68,108;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (Fourth)
// - Consume TWO Black KeyCard when opened.
// - Only one person actually needs to open it.
//----------------------------------------------------------------------------
kh_kiehl01,42,177,0	script	Big Door#BigDoorKHQ4	111,{
	if (.KHDoor4Opened == 0) {
		mes "^3355FFA porta está trancada,";
		mes "mas há um estreito";
		mes "slot próximo à maçaneta.^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Cartão-chave preto") {
			if (countitem(7506) >= 2) {
				mes "^3355FFVocê insere o";
				mes "Cartão-chave preto no";
				mes "slot e com sucesso";
				mes "destranque e abra a porta.^000000";
				delitem 7506,2; //Black_Key_Card
				donpcevent "Big_Door_4_Warp::OnEnable";
				enablenpc "Big_Door_4_Warp";
				set .KHDoor4Opened,1;
				close;
			}
		}
		mes "^3355FFVocê tenta empurrar o";
		mes "porta aberta com todos";
		mes "seu poder, mas falhe";
		mes "para fazê-lo se mover.^000000";
		close;
	}

	else {
		mes "^3355FFA porta está aberta.^000000";
		close;
	}
}

kh_kiehl01,41,178,0	script	Big_Door_4_Warp	45,1,1,{
OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Big_Door_4_Warp";
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_4_Warp";
	set getvariableofnpc(.KHDoor4Opened,"Big Door#BigDoorKHQ4"),0;
	end;

OnTouch_:
	if (KielHyreQuest == 50)
		warp "kh_kiehl01",38,178;
	else
		warp "kh_kiehl01",47,171;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Robots
//----------------------------------------------------------------------------
kh_kiehl01,15,179,0	script	Robots#kh1	111,{
	if (mobcount("kh_kiehl01","Robôs") < 1) {
		mes "^3355FFAssim que você";
		mes "toque no tubo de ensaio,";
		mes "um bando de robôs";
		mes "apareceu de repente.^000000.";
		close2;
		monster "kh_kiehl01",18,181,"Aliot",1740,1,"Robôs";
		monster "kh_kiehl01",18,180,"Alicel",1739,1,"Robôs";
		monster "kh_kiehl01",18,179,"Aliot",1740,1,"Robôs";
		monster "kh_kiehl01",18,178,"Alicel",1739,1,"Robôs";
		end;
	}
	else  {
		end;
	}

OnMyMobDead:
	if (mobcount("kh_kiehl01","Robôs") < 1) { 
		makeitem 7506,1,"this",18,180;
		}
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Dummy Robots
//----------------------------------------------------------------------------
kh_kiehl01,15,177,0	script	Robots#kh2::RobotsKHQ	111,{
	end;
}
kh_kiehl01,15,180,0	duplicate(RobotsKHQ)	Robots#kh3	111
kh_kiehl01,15,182,0	duplicate(RobotsKHQ)	Robots#kh4	111
kh_kiehl01,35,187,0	duplicate(RobotsKHQ)	Robots#kh5	111
kh_kiehl01,37,187,0	duplicate(RobotsKHQ)	Robots#kh6	111
kh_kiehl01,39,187,0	duplicate(RobotsKHQ)	Robots#kh7	111
kh_kiehl01,41,187,0	duplicate(RobotsKHQ)	Robots#kh8	111

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (Fifth, and final)
// - Anyone can pass through this door
// - Consumes 4 Solid Iron Pieces
//----------------------------------------------------------------------------
kh_kiehl01,166,187,0	script	Big Door#BigDoorKHQ5	111,{
	if (($@KHQuestBusy == 0) && (KielHyreQuest >= 74) && (KielHyreQuest <= 106)) {
		if (KielHyreQuest < 86) {
			mes "^3355FFEsta porta grande..";
			mes "está fechado.";
			mes "Se você ouvir com atenção,";
			mes "você pode ouvir a porta";
			mes "as dobradiças rangem levemente.^000000";
			next;
			select("Empurre a porta: Porta de chute: Agite a porta: Puxe a porta: Levante a porta");
			mes "^3355FFA grupo de monstros";
			mes "apareceu de repente como";
			mes "assim que você se inscreveu";
			mes "pressão na porta.";
			mes "Isso deve ser algum";
			mes "tipo de dispositivo de segurança.^000000";
			close2;
			set @KHDoorPushAttempt,@KHDoorPushAttempt+1;
			monster "kh_kiehl01",163,183,"Alicel",1739,1;
			monster "kh_kiehl01",163,179,"Aliot",1740,1;
			monster "kh_kiehl01",169,183,"Alicel",1739,1;
			monster "kh_kiehl01",169,179,"Aliot",1740,1;
			if (@KHDoorPushAttempt >= 3) { 
				set KielHyreQuest,86; 
			}
			end;
		}
		else if ((KielHyreQuest > 84) && (KielHyreQuest < 94)) {
			mes "^3355FFVocê aplica alguns";
			mes "pressão para a porta,";
			mes "e descubra que você pode";
			mes "mova-o um pouco, mas";
			mes "você não pode abri-lo totalmente.^000000";
			next;
			mes "^3355FFSe você prendeu alguma coisa";
			mes "na lacuna entre o";
			mes "porta e sua moldura, e";
			mes "aproveitou-o totalmente, então você";
			mes "deve ser capaz de abri-lo.^000000";
			next;
			switch(select("Aço: Peça de Ferro Enferrujado: Peça de Ferro Sólido: Peça de Ferro: Parafuso: Cancelar")) {
			case 1:
				set .@KHPryingItem$,"Aço";
				break;
			case 2:
				set .@KHPryingItem$,"Pedaço de Ferro Enferrujado";
				break;
			case 3:
				if (countitem(7507) >= 1) {
					if (KielHyreQuest < 92) {
						mes "^3355FFVocê insere uma extremidade de";
						mes "uma peça de ferro sólido no";
						mes "abertura da porta em um extenuante";
						mes "esforço para forçar a porta aberta";
						mes "A lacuna aumenta um pouco,";
						mes "mas você quebra um dos seus";
						mes "Peças de Ferro Sólido.^000000";
						delitem 7507,1; //Hard_Piece_of_Steel
						set KielHyreQuest,KielHyreQuest+2;
						close;
					}
					else if (KielHyreQuest == 92) {
						mes "^3355FFCom um forte impulso,";
						mes "você ergue um ferro sólido";
						mes "Coloque no batente da porta,";
						mes "e abrir a porta";
						mes "Incapaz de suportar o";
						mes "força incrível, este sólido";
						mes "Pedaço de Ferro se estilhaça e vira pó.^000000";
						delitem 7507,1; //Hard_Piece_of_Steel
						set KielHyreQuest,94;
						close;
					}
				}
				else {
					mes "^3355FFSe você tivesse um Sólido";
					mes "Pedaço de Ferro que você poderia usar para";
					mes "arrombe esta porta.^000000";
					close;
				}
			case 4:
				set .@KHPryingItem$,"Pedaço de Ferro";
				break;
			case 5:
				set .@KHPryingItem$,"Parafuso";
				break;
			case 6:
				mes "^3355FFVamos procurar algo";
				mes "pesado que podemos usar para bisbilhotar";
				mes "abra esta porta.^000000";
				close;
			}

			mes "^3355FFIsto"+.@KHPryingItem$+"é longe";
			mes "muito fraco para o que você está usando";
			mes "e quebras.^000000";
			close;
		}
		else if ((KielHyreQuest >= 94) && (KielHyreQuest <= 104)) {
			if (.KHDoor5Opened == 0) {
				mes "^3355FFA porta grande";
				mes "está totalmente aberto e.";
				mes "agora você pode entrar.^000000";
				next;
				switch(select("Sim não")) {
				case 1:
					close2;
					donpcevent "Big_Door_5_Warp::OnEnable";
					enablenpc "Big_Door_5_Warp";
					set .KHDoor5Opened,1;
					end;
				case 2:
					mes "^3355FFQuem sabe o que está no";
					mes "outro lado desta porta. ";
					mes "pense nisso antes de invadir..^000000";
					close;
				}
			}
			else {
				mes "^3355FFA porta está aberta.^000000";
				close;
			}
		}
		else {
			mes "^3355FFEsta porta grande..";
			mes "está fechado.";
			mes "Se você ouvir com atenção,";
			mes "você pode ouvir a porta";
			mes "as dobradiças rangem levemente.^000000";
			close;
		}
	}
	else {
		mes "^3355FFEsta porta grande..";
		mes "está fechado.";
		mes "Se você ouvir com atenção,";
		mes "você pode ouvir a porta";
		mes "as dobradiças rangem levemente.^000000";
		close;
	}
}

kh_kiehl01,166,186,0	script	Big_Door_5_Warp	45,1,1,{
	end;

OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_5_Warp";
	set getvariableofnpc(.KHDoor5Opened,"Big Door#BigDoorKHQ5"),0;
	end;

OnInit:
	disablenpc "Big_Door_5_Warp";
	end;

OnTouch_:
	if (KielHyreQuest >= 46)
		warp "kh_kiehl02",50,7;
	else
		warp "kh_kiehl01",166,183;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Kiehl_Room_Trap (Entry way trap)
//----------------------------------------------------------------------------
kh_kiehl02,49,10,0	script	Kiehl_Room_Trap	-1,5,3,{
	end;

OnTouch:
	if (.KHTrapSprung < 1) {
		set .KHTrapSprung,1;
		set $@KHQuestBusy,1;
		initnpctimer;
		monster "kh_kiehl02",47,13,"Aliot",1740,1;
		monster "kh_kiehl02",45,13,"Alicel",1739,1;
		monster "kh_kiehl02",49,13,"Constante",1745,1;
		monster "kh_kiehl02",51,13,"Aliot",1740,1;
		monster "kh_kiehl02",53,13,"Alicel",1739,1;
		monster "kh_kiehl02",49,13,"Constante",1745,1;
	}
	end;

OnTimer300000:
OnTimer600000:
OnTimer900000:
	if (getmapusers("kh_kiehl02") == 0) {
		donpcevent "KiehlRoom::OnReset";
		stopnpctimer;
	}
	end;

OnTimer1200000:
	donpcevent "KiehlRoom::OnReset";
	stopnpctimer;
	end;

OnGlobalTimerOff:
	stopnpctimer;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Kiehl
// - Timer will drop to 3 minutes once Kiehl is defeated.
//----------------------------------------------------------------------------
kh_kiehl02,50,52,4	script	Kiehl#Original	902,{
	if (checkweight(908,200) == 0) {
		mes "^3355FFSó um segundo...";
		mes "Você está carregando também";
		mes "muitos itens com você";
		mes "agora, então você vai";
		mes "preciso liberar mais";
		mes "Espaço de inventário primeiro...^000000";
		close;
	}
	cutin "kh_kiel01",2;
	if ((KielHyreQuest < 94) || (KielHyreQuest >= 106)) {
		mes "[Kiel]";
		mes "......";
		mes ".........";
		mes "............";
		close2;
		cutin "",255;
		end;
	}
	if ((KielHyreQuest == 94) && (getvariableofnpc(.KHKilled,"KiehlRoom") < 5)) {
		mes "[Kiel]";
		mes "Estou surpreso que você fez";
		mes "chegou até aqui, aventureiro~";
		mes "Dou-lhe as boas-vindas ao meu";
		mes "quarto humilde. ";
		mes "você veio para o Condensado";
		mes "Pergaminho de memória... minha mente.";
		next;
		mes "[Kiel]";
		mes "Você pode entender";
		mes "por que não posso deixar você ficar com isso,";
		mes "então se você realmente quer";
		mes "Pergaminho de memória condensada,";
		mes "então me mostre o que você tem!";
		close2;
		cutin "",255;
		set getvariableofnpc(.KHKilled,"KiehlRoom"),0;
		monster "kh_kiehl02",50,52,"Aliot",1740,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Alicel",1739,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Constante",1745,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Aliot",1740,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Alicel",1739,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Constante",1745,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Aliot",1740,1,"KiehlRoom::OnKiehlMobDead";
		hideonnpc "Kiehl#Original";
		end;
	}
	else if ((KielHyreQuest == 94) && (getvariableofnpc(.KHKilled,"KiehlRoom") >= 5)) {
		cutin "kh_kiel03",2;
		mes "[Kiel]";
		mes "Hmpf! ";
		mes "Pai deve ter gasto";
		mes "muito dinheiro para contratar";
		mes "você. ";
		mes "você me matar?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Kiel Hyre me enviou para perguntar";
		mes "você parar de virar tudo";
		mes "os robôs de terceira geração";
		mes "em máquinas de matar! ";
		mes "pode fazer algo assim";
		mes "para outros robôs como você?";
		next;
		cutin "kh_kiel01",2;
		mes "[Kiel]";
		mes "Por que não? ";
		mes "foi feito à imagem de Deus.";
		mes "Bem, os robôs foram feitos no";
		mes "imagem do homem. ";
		mes "um ao outro tanto quanto você";
		mes "tipo, pelo que eu posso dizer.";
		next;
		mes "[Kiel]";
		mes "Pode não ser ético";
		mes "para eu fornecer armas";
		mes "para os humanos que precisam deles...";
		mes "Mas é isso que eles são.";
		mes "Armas. ";
		mes "para os robôs lutarem do que os humanos.";
		next;
		mes "[Kiel]";
		mes "Os robôs não naturalmente";
		mes "sentir dor ou emoções...";
		mes "Não, a menos que sejam especialmente";
		mes "programado. ";
		mes "planeja parar o que estou fazendo.";
		next;
		cutin "kh_kiel04",2;
		mes "[Kiel]";
		mes "Sinto muito, mas não tenho um plano para parar o que estou fazendo.";
		mes "Além disso, meu pai me mostrou um grande exemplo de";
		mes "até onde um humano poderia ir por seu próprio egoísmo, destruindo uma família.";
		mes "E, portanto, não acho que ele pudesse criar robôs melhores que os meus.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "A humanidade pode não ser";
		mes "perfeito, mas pense";
		mes "com quem você está trabalhando!";
		mes "Rekenber é o epítome de";
		mes "maldade humana! ";
		mes "apoiá-los assim?";
		next;
		cutin "kh_kiel02",2;
		mes "[Kiel]";
		mes "Eu tive um relacionamento longo";
		mes "com Rekenber. ";
		mes "das suas capacidades. ";
		mes "lembre-se do primeiro quarto que você";
		mes "passou no seu caminho até aqui, o";
		mes "um com todos os brinquedos?";
		next;
		mes "[Kiel]";
		mes "Aposto que você não sabia disso aí";
		mes "eram 5 segunda geração";
		mes "robôs. ";
		mes "irmãos e irmãs. ";
		mes "construiu aquela sala para que todos";
		mes "cinco de nós poderíamos viver juntos.";
		next;
		cutin "kh_kiel03",2;
		mes "[Kiel]";
		mes "Eu fui o único a";
		mes "sobreviver. ";
		mes "Pai e até ganhei um";
		mes "nome. ";
		mes "quão ruim Rekenber realmente é...";
		next;
		mes "[Kiel]";
		mes "Eu não... eu não quero";
		mes "para falar mais sobre isso.";
		mes "Você me fez... Apenas vá embora.";
		mes "Acho que vou deixar você viver.";
		next;
		cutin "",255;
		mes "[Michel]";
		mes "Congelar!";
		mes "Kiehl Hyre, você é";
		mes "preso por criar";
		mes "e comércio de armas ilegais!";
		set KielHyreQuest,100;
		hideoffnpc "Mitchell#KiehlRoom";
		hideoffnpc "Agente#KHAgent1";
		hideoffnpc "Agente#KHAgent2";
		hideoffnpc "Agente#KHAgent3";
		hideoffnpc "Agente#KHAgent4";
		next;
	}
	if ((KielHyreQuest == 100) && (getvariableofnpc(.KHKilledBoss,"KiehlRoom") < 1)) {
		set getvariableofnpc(.KHKilledBoss,"KiehlRoom"),0;
		cutin "kh_kiel01",2;
		mes "[Kiel]";
		mes "Ah, República Schwarzwald";
		mes "agentes. ";
		mes "tantos convidados antes.";
		mes "Bem, acho que isso significa";
		mes "teremos que lutar depois";
		mes "tudo, você e eu. * Suspiro * Pena.";
		next;
		mes "[Kiel]";
		mes "Primeiro, com toda a justiça,";
		mes "deixe-me cuidar disso";
		mes "incômodos. ";
		mes "fazendo sem pensar";
		mes "empregos - como robôs - mas";
		mes "não se preocupe, eles não se machucarão.";
		next;
		mes "[Michel]";
		mes "Nao!";
		specialeffect PF_FOGWALL,AREA,"Mitchell#KiehlRoom";
		specialeffect PF_FOGWALL,AREA,"Agent#KHAgent1";
		specialeffect PF_FOGWALL,AREA,"Agent#KHAgent2";
		specialeffect PF_FOGWALL,AREA,"Agent#KHAgent3";
		specialeffect PF_FOGWALL,AREA,"Agent#KHAgent4";
		next;
		cutin "kh_kiel03",2;
		mes "[Kiel]";
		mes "E agora, você e eu podemos";
		mes "tenha um duelo adequado, humano.";
		mes "Estou interessado em ver apenas";
		mes "quão forte você realmente é ~";
		close2;
		cutin "",255;
		monster "kh_kiehl02",50,52,"Kiehl",1733,1,"KiehlRoom::OnKiehlDead";
		hideonnpc "Kiehl#Original";
		end;
	}
	else if ((KielHyreQuest == 100) && (getvariableofnpc(.KHKilledBoss,"KiehlRoom") == 1)) {
		cutin "kh_kiel02",2;
		mes "[Kiel]";
		mes "Droga...!";
		mes "Bem jogado, aventureiro.";
		mes "Bem jogado. ";
		mes "sabia que o pai iria enviar";
		mes "o melhor depois de mim. ";
		mes "você falhou em realmente me derrotar.";
		next;
		cutin "kh_kiel03",2;
		mes "[Kiel]";
		mes "ainda tenho alguns";
		mes "trunfos restantes";
		mes "Eu acho... vou te levar";
		mes "para o inferno comigo... Bem,";
		mes "se os robôs puderem ir até lá~";
		next;
		mapannounce "kh_kiehl02","*Jeeezzzgggg~ Geezzz~ Grrrr~ Clank~*",bc_map,"0xFF0000";
		mes "[Michel]";
		mes "Não...! ";
		mes "no quarto! ";
		mes "Estamos presos aqui!";
		next;
		mes "[Kiel]";
		mes "Yay ~ Vamos queimar";
		mes "tudo para baixo ~";
		next;
		mes "[Michel]";
		mes "Rápido,"+strcharinfo(0)+",";
		mes "use o poder de Kiel Hyre";
		mes "dispositivo, aquele que é";
		mes "deveria mexer com";
		mes "Fonte de alimentação da Kiehl!";
		mes "Depressa, use-o agora mesmo!";
		next;
		mapannounce "kh_kiehl02","*Gzzzz~ Gzzzz~*",bc_map,"0xFF0000";
		mes "[Kiel]";
		mes "O quê? ";
		mes "mover! ";
		mes "Cheio de surpresas. ";
		mes "Eu acho que é hora de eu";
		mes "use meu outro trunfo.";
		next;
		mes "[Michel]";
		mes "O que...?";
		mes "Quantos trunfos";
		mes "cartões você tem?";
		next;
		mes "[????]";
		mes "Estou tão decepcionado...";
		mes "Eu não posso acreditar em nenhum";
		mes "de vocês pensaram nisso.";
		next;
		mes "[Michel]";
		mes "Quem é você...?";
		mes "Mostre-se!";
		next;
		mes "[????]";
		mes "Por favor.";
		mes "Não me insulte.";
		mes "Você conhece essa voz.";
		mes "Tem conversado com";
		mes "você esse tempo todo ~";
		next;
		mes "[Michel]";
		mes "Impossível...";
		mes "Como pode";
		mes "sejam vocês dois...?!";
		next;
		hideoffnpc "Kiehl#Original";
		next;
		cutin "kh_kiel01",0;
		mes "[Kiel]";
		mes "Hahahahaha!";
		mes "Eu sou um robô!";
		mes "posso fazer extra";
		mes "corpos, trocar cérebros";
		mes "com eles. ";
		mes "conveniente, deixe-me dizer a você.";
		next;
		cutin "kh_kiel03",2;
		mes "[Kiel]";
		mes "De qualquer forma, não pretendo mostrar";
		mes "desligado, mas acho que é melhor";
		mes "revelar a você meu trunfo final";
		mes "cartão. ";
		mes "sobre você, Sra. Mitchell Layla ~";
		next;
		mes "[Michel]";
		mes "O que? ";
		mes "sabe meu nome?";
		next;
		mes "[Kiel]";
		mes "Bem, eu tenho alguns";
		mes "meus próprios espiões...";
		mes "Vou permitir que ele explique...";
		next;
		mes "[Homem mascarado]";
		mes "Mitchell...";
		mes "eu sinto muito que";
		mes "você tinha que conseguir";
		mes "envolvido em tudo isso...";
		next;
		mes "[Michel]";
		mes "Wolkeus? ";
		mes "Você é o espião?! ";
		mes "sua vida para salvar nosso presidente!";
		mes "Não! ";
		mes "acontecendo?! ";
		mes "Isso tudo é uma loucura! ";
		next;
		mes "[Wolkeus]";
		mes "Este é apenas o resultado";
		mes "de planos elaborados que";
		mes "foram feitas anos atrás. ";
		mes "espero que você fique tão surpreso,";
		mes "Mitchell. ";
		mes "é jogado. ";
		next;
		mes "[Michel]";
		mes "Senhor presidente...";
		mes "Eu falhei com você... me desculpe...";
		next;
		mes "[Kiel]";
		mes "Bem, Kaiser, ela pegou";
		mes "muito mal, mas pelo menos";
		mes "você está sendo cavalheiresco";
		mes "sobre isso. ";
		mes "todos nós para melhorar";
		mes "conhecido, mas...";
		next;
		cutin "kh_kiel01",2;
		mes "[Kiel]";
		mes "É melhor dizermos o nosso";
		mes "despedidas aqui. ";
		mes "o lugar terá desaparecido";
		mes "cinco minutos. ";
		mes "Dona Layla, você vem";
		mes "conosco. ";
		next;
		mes "[Kiel]";
		mes "Estou curioso para saber o que";
		mes "os planos do presidente são.";
		mes "Senhor Kaiser, se puder";
		mes "acompanhe a Sra. Layla, por favor...";
		next;
		mes "[Wolkeus Kaiser]";
		mes "................................";
		mes "Desculpe, Mitchell.";
		mes "Eu tenho que fazer isso.";
		next;
		mes "[Michel]";
		mes "Não, vá embora! ";
		mes "Solte-me, Wolkeus!";
		hideonnpc "Mitchell#KiehlRoom";
		hideonnpc "Agente#KHAgent1";
		hideonnpc "Agente#KHAgent2";
		hideonnpc "Agente#KHAgent3";
		hideonnpc "Agente#KHAgent4";
		next;
		cutin "kh_kiel02",2;
		mes "[Kiel]";
		mes "Ótimo, terminamos";
		mes "aquele negócio feio. ";
		mes "onde eu estava? ";
		mes "Sim. ";
		mes "tem mais tempo para brincar.";
		next;
		mes "[Kiel]";
		mes "Aqui, aventureiro.";
		mes "Estou ciente de que meu pai";
		mes "mandei você aqui para pegar isso.";
		mes "Considere isso meu último presente";
		mes "para ele. ";
		mes "esse anel dentro de mim, no entanto...";
		next;
		cutin "kh_kiel04",2;
		mes "[Kiel]";
		mes "Imagino que deva";
		mes "seja precioso para ele. ";
		mes "Eu me pergunto por que ele colocou";
		mes "isso dentro de mim? ";
		mes "Eu tenho uma mensagem que gostaria";
		mes "para você entregar a ele.";
		next;
		cutin "kh_kiel01",2;
		mes "[Kiel]";
		mes "Primeiro... acho que nós";
		mes "deveria se livrar disso";
		mes "coisa velha. ";
		mes "corpo, e isso me serviu";
		mes "bem há 23 anos. ";
		mes "isto. ";
		next;
		specialeffect EF_DEVIL;
		next;
		mes "[Kiel]";
		mes "Agora, este era o corpo";
		mes "que meu pai fez.";
		mes "Por favor diga isso a ele";
		mes "isso significa que estamos";
		mes "não está mais relacionado a";
		mes "um ao outro.";
		next;
		mes "[Kiel]";
		mes "O corpo que estou usando agora?";
		mes "Eu mesmo fiz isso com o máximo";
		mes "tecnologia avançada. ";
		mes "isto... um robô de quarta geração";
		mes "corpo, se você quiser. ";
		mes "Entenda o que quero dizer.";
		next;
		mes "[Kiel]";
		mes "De qualquer forma, por favor diga a ele";
		mes "isso, e pegue seu anel antigo";
		mes "do meu velho corpo de robô,";
		mes "e então dê a ele. ";
		mes "agora vamos sair daqui: nós";
		mes "só tenho 3 minutos para evacuar.";
		next;
		mes "[Kiel]";
		mes "Você é um oponente digno,";
		mes "e um humano que respeito.";
		mes "Não sei se nos encontraremos";
		mes "de novo, mas quem sabe?";
		mes "De qualquer forma, vou abrir o";
		mes "saída para você. ";
		delitem 7504,1; //Toy_Motor
		set KielHyreQuest,104;
		hideonnpc "Kiehl#Original";
		donpcevent "Kiehl_Room_Exit::OnEnable";
		enablenpc "Kiehl_Room_Exit";
		initnpctimer;
		cutin "",255;
		close;
	}
	if (KielHyreQuest == 104) {
		cutin "kh_kiel02",2;
		mes "^3355FFVocê recupera o";
		mes "soar do coração de";
		mes "O antigo corpo robótico de Kiehl.^000000";
		getitem 7508,1; //Elysia_Ring
		set KielHyreQuest,106;
		close2;
		cutin "",255;
		end;
	}
	else{
		cutin "kh_kiel02",2;
		mes "^3355FF Kiehl é velho";
		mes "corpo robótico";
		mes "fica sozinho,";
		mes "sem vida e silencioso.^000000";
		close2;
		cutin "",255;
		end;
	}


OnTimer180000:
	stopnpctimer;
	mapannounce "kh_kiehl02","Beeeeeeeeeeep~",bc_npc,0xFF0000;
	donpcevent "KiehlRoom::OnReset";
	end;

OnTimer179000:
	mapannounce "kh_kiehl02","1 segundo restante até a detonação",bc_npc,0xFF0000;
	end;

OnTimer178000:
	mapannounce "kh_kiehl02","2 segundos restantes até a detonação",bc_npc,0xFF0000;
	end;

OnTimer177000:
	mapannounce "kh_kiehl02","3 segundos restantes até a detonação",bc_npc,0xFF0000;
	end;

OnTimer176000:
	mapannounce "kh_kiehl02","4 segundos restantes até a detonação",bc_npc,0xFF0000;
	end;

OnTimer175000:
	mapannounce "kh_kiehl02","5 segundos restantes até a detonação",bc_npc,0xFF0000;
	end;

OnTimer170000:
	mapannounce "kh_kiehl02","10 segundos restantes até a detonação",bc_npc,0xFF0000;
	end;

OnTimer160000:
	mapannounce "kh_kiehl02","20 segundos restantes até a detonação",bc_npc,0xFF0000;
	end;

OnTimer150000:
	mapannounce "kh_kiehl02","30 segundos restantes até a detonação",bc_npc,0xFF0000;
	end;

OnTimer120000:
	mapannounce "kh_kiehl02","Falta 1 minuto para a detonação.",bc_npc,0xFF0000;
	end;

OnTimer60000:
	mapannounce "kh_kiehl02","Faltam 2 minutos para a detonação.",bc_npc,0xFF0000;
	end;

OnTimer1000:
	mapannounce "kh_kiehl02","Faltam 3 minutos para a detonação.",bc_npc,0xFF0000;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; NPC for mob control, timers, and other junk.
//----------------------------------------------------------------------------
kh_kiehl02,1,1,0	script	KiehlRoom	-1,{
	end;

OnKiehlMobDead:
	set .KHKilled,.KHKilled+1;
	if (.KHKilled == 5) { 
		hideoffnpc "Kiehl"; 
	}
	end;

OnKiehlDead:
	set .KHKilledBoss,1;
	hideoffnpc "Kiehl";
	end;
	
OnReset:
	donpcevent "Kiehl_Room_Trap::OnGlobalTimerOff";
	if (getmapusers("kh_kiehl02") > 0)
		mapwarp "kh_kiehl02","lighthalzen",192,200;
	killmonsterall "kh_kiehl02";
	disablenpc "Kiehl_Room_Exit";
	hideonnpc "Mitchell#KiehlRoom";
	hideonnpc "Agente#KHAgent1";
	hideonnpc "Agente#KHAgent2";
	hideonnpc "Agente#KHAgent3";
	hideonnpc "Agente#KHAgent4";
	hideonnpc "Kiehl#Copy";
	hideoffnpc "Kiehl#Original"; 
	set .KHKilledBoss,0;
	set .KHKilled,0;
	set getvariableofnpc(.KHTrapSprung,"Kiehl_Room_Trap"),0;
	set $@KHQuestBusy,0;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Mitchell and Agents.
//----------------------------------------------------------------------------
kh_kiehl02,49,55,6	script	Mitchell#KiehlRoom	727,{
	end;
OnInit:
	hideonnpc strnpcinfo(0);
	end;
}
kh_kiehl02,53,52,4	duplicate(Mitchell#KiehlRoom)	Agent#KHAgent1	880
kh_kiehl02,51,49,1	duplicate(Mitchell#KiehlRoom)	Agent#KHAgent2	880
kh_kiehl02,47,50,0	duplicate(Mitchell#KiehlRoom)	Agent#KHAgent3	880
kh_kiehl02,46,53,6	duplicate(Mitchell#KiehlRoom)	Agent#KHAgent4	880

//----------------------------------------------------------------------------
// Kiehl's Room; Copy of Kiehl.
//----------------------------------------------------------------------------
kh_kiehl02,48,53,6	script	Kiehl#Copy	902,{
	end;

OnInit:
	hideonnpc "Kiehl#Copy";
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Kiehl_Room_Exit
//----------------------------------------------------------------------------
kh_kiehl02,49,56,0	script	Kiehl_Room_Exit	45,1,1,{
OnTouch_:
	if (getmapusers("kh_kiehl02") < 1)
		donpcevent "KiehlRoom::OnReset";
	warp "lighthalzen",193,200;
	end;

OnEnable:
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Kiehl_Room_Exit";
	end;
}

//============================================================ 
// Old changelog
//============================================================ 
//= 1.0 First version, needs testing [Playtester]
//= 1.1 Copied over some changes made by -Tsuyuki- [L0ne_W0lf]
//=     Reworked variables slightly so that the permenents ones aside from the 
//=     main tracking variable, are deleted when no longer needed. Renamed
//=     several variables that handle strings to @KHInput$. [L0ne_W0lf]
//= 1.2 Removed duplicate NPCs. [Toms]
//= 1.3 More Bug fixes, fixed typo. Updated Additional comments. [L0ne_W0lf]
//= 1.4 Fixed doors not resetting in kh_kiehl01 after 30 second timer is up. [L0ne_W0lf]
//= 1.5 Another bug fixed (&& instead of ||). [L0ne_W0lf]
//= 1.6 More squashed bugs with if checking. [L0ne_W0lf]
//= 1.7 Corrected some spelling mistakes. [Balish]
//=     Corrected Exploit with the pub man, giving infinite wine and money.
//=     Corrected pool and map not showing text for some states of the quest.
//=     Corrected Elly showing cutin but not text for some states of the quest (causing players to log off to continue).
//=     Let fisherman talk to you when you have 10 fishes OR MORE.
//=     Corrected not letting you enter the tombstone after finishing the quest.
//= 1.8 Elly now deletes the Iron_Box, and Kiel Hyre deletes the Pin. [L0ne_W0lf]
//=     More security on the 5th Big Door, now makes sure no one outside of who-
//=     acticated it initially can use it. Resets after 10 minutes to make it.
//=     Made it so that you need to be at least step 84 to activate the final door.
//=     Corrected not deleting Allysia's Ring from inventory.
//= 1.9 Exit will now enable if you are just retrieving the Ring, keeps you from getting stuck. [L0ne_W0lf]
//=     Corrected "KH_Kielh02", was setting off a debug, invalid map index. Should have been "kh_Kiehl02"
//=     Made .KHQuestBusy$ into a temp global variable. $@KHQuestBusy$. 
//= 2.0 Changed the labels on the "Big Doors" to "Identifier Names" to prevent an error with using getvariableofnpc [L0ne_W0lf]
//= 2.1 Fifth door now checks for a variable HIGHER or EQUAL to 74 not 84, as pointed out by Stollen. [L0ne_W0lf]
//= 2.2 Another fix for Elly, no longer RESETS to 26 when you talk to her. [L0ne_W0lf]
//= 2.3 Should NOT have been setting .KHQuestBusy at all. It's not used or accessed anymore. Removed. [L0ne_W0lf]
//= 2.4 Lots of fixes (4ish) from Valandi. [L0ne_W0lf]
//=     Added a getmapuser check to the mapwarp in KHTimerEnd so it's not trying to warp out 0 users. [L0ne_W0lf]
//= 2.5 Fixed several small issues (and large one) such as typos in cutins, typos in dialog, etc. [L0ne_W0lf]
//=     Added some of the missing dialogs for several NPCs, and fixed a few NPC locations.
//=     ALL books can now trigger the wall.
//=     Allysia will now summon 4 (was 2) G_CONSTANTS instead of REGULAR constants.
//=     Fixed where Golden_Key and Kiel_Button are deleted.
//=     Removed KHTimerEnd, and instead use OnReset.
//=     Fixed typo in the second NPC that gives Black Keycards.
//=     Added Monster Warps. (Keeps monsters from being in dungeon quest area.) [Non-functional]
//= 2.6 Stupid mistake, accidentally had 4 copies of the same script in 1... [L0ne_W0lf the bonehead]
//= 2.7 Fixed the wrong name being displayed for Kiel Hyre in one dialog. 
//=     Removed $@KH_DoorInvoker entirely. The quest is now working like it should according to iRO.
//=     Fixed up a few more NPC headers. Facing direction fixes mostly this time.
//=     More progression changes to Kiehl Hyre. He no longer stops dialog after the agents appear.
//= 2.8 Fixed the weight checking in Vandt, and added official dialog. [L0ne_W0lf]
//=     Added weight checks for all NPCs that give items. Semi-official dialog.
//=     Got the missing portion of dialog for Mills'.
//=     Will add further proper dialogs as I get to them on the second runthrough of the quest.
//= 2.8a minor optimization with extra goto, else or empty switch [Lupus]
//= 2.9 Fixed the "enablenpc" problem with the missing spaces. No idea how it happened. [L0ne_W0lf]
//= 3.0 Fixed a typo in Elly, in her room. (was <= should have been <) [L0ne_W0lf]
//=     Added an 'end;' to the cookie basket. Kiel Hyre's final dialog will now delete all quest-related items.
//= 3.1 Moved the "delimitar" for all related quest items to the proper NPC. [L0ne_W0lf]
//= 3.2 Fixed error with Allysia teling you to "Vá embora." maybe. [L0ne_W0lf]
//= 3.2b Fixed some typos and grammar mistakes. [SinSloth]
//= 3.3 Fixed the receiver log out bugs. [L0ne_W0lf]
//= 3.4 Fixed bug when u can't get a Yellow Keycard if u got the Blue one at first [Lupus]
//=     Note: There are many condition checks that should be omitted in the future fixed item names in item_db.txt / txt resources according the quest
//=     for items, should be used bitwise methods in a single variable. So let's fix the rest possible bugs (if they exist) and then optimize ^_-
//= 3.5 Changed the way the Black Keycard distibuting NPCs work slighty. [L0ne_W0lf]
//= 3.6 Keil Hyre removes ALL outstanding quest items when he is talked [L0ne_W0lf]
//=     to after finishing the quest.
//= 3.7 Corrected NPC names to fall within proper restrictions. [L0ne_W0lf]
//= 3.8 Corrected some delitems. (bugreport:690) [Samuray22]
//= 3.9 Fixed a cutin not being erased. (bugreport:1539) [L0ne_W0lf]
//============================================================

